function hS(n,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in n)){const u=Object.getOwnPropertyDescriptor(a,o);u&&Object.defineProperty(n,o,u.get?u:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function Cb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function qs(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var r=function a(){var o=!1;try{o=this instanceof a}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(a){var o=Object.getOwnPropertyDescriptor(n,a);Object.defineProperty(r,a,o.get?o:{enumerable:!0,get:function(){return n[a]}})}),r}var Mh={exports:{}},ps={};var ly;function dS(){if(ly)return ps;ly=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:a,key:c,ref:o!==void 0?o:null,props:u}}return ps.Fragment=t,ps.jsx=r,ps.jsxs=r,ps}var uy;function fS(){return uy||(uy=1,Mh.exports=dS()),Mh.exports}var g=fS(),zh={exports:{}},me={};var cy;function mS(){if(cy)return me;cy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function x(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function C(k,G,te){this.props=k,this.context=G,this.refs=E,this.updater=te||_}C.prototype.isReactComponent={},C.prototype.setState=function(k,G){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,G,"setState")},C.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function R(){}R.prototype=C.prototype;function A(k,G,te){this.props=k,this.context=G,this.refs=E,this.updater=te||_}var M=A.prototype=new R;M.constructor=A,T(M,C.prototype),M.isPureReactComponent=!0;var B=Array.isArray;function $(){}var V={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function Q(k,G,te){var se=te.ref;return{$$typeof:n,type:k,key:G,ref:se!==void 0?se:null,props:te}}function J(k,G){return Q(k.type,G,k.props)}function Y(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function Z(k){var G={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(te){return G[te]})}var X=/\/+/g;function ee(k,G){return typeof k=="object"&&k!==null&&k.key!=null?Z(""+k.key):G.toString(36)}function ae(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then($,$):(k.status="pending",k.then(function(G){k.status==="pending"&&(k.status="fulfilled",k.value=G)},function(G){k.status==="pending"&&(k.status="rejected",k.reason=G)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function P(k,G,te,se,ve){var xe=typeof k;(xe==="undefined"||xe==="boolean")&&(k=null);var Ne=!1;if(k===null)Ne=!0;else switch(xe){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(k.$$typeof){case n:case t:Ne=!0;break;case y:return Ne=k._init,P(Ne(k._payload),G,te,se,ve)}}if(Ne)return ve=ve(k),Ne=se===""?"."+ee(k,0):se,B(ve)?(te="",Ne!=null&&(te=Ne.replace(X,"$&/")+"/"),P(ve,G,te,"",function(_a){return _a})):ve!=null&&(Y(ve)&&(ve=J(ve,te+(ve.key==null||k&&k.key===ve.key?"":(""+ve.key).replace(X,"$&/")+"/")+Ne)),G.push(ve)),1;Ne=0;var xt=se===""?".":se+":";if(B(k))for(var Ke=0;Ke<k.length;Ke++)se=k[Ke],xe=xt+ee(se,Ke),Ne+=P(se,G,te,xe,ve);else if(Ke=x(k),typeof Ke=="function")for(k=Ke.call(k),Ke=0;!(se=k.next()).done;)se=se.value,xe=xt+ee(se,Ke++),Ne+=P(se,G,te,xe,ve);else if(xe==="object"){if(typeof k.then=="function")return P(ae(k),G,te,se,ve);throw G=String(k),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function W(k,G,te){if(k==null)return k;var se=[],ve=0;return P(k,se,"","",function(xe){return G.call(te,xe,ve++)}),se}function ie(k){if(k._status===-1){var G=k._result;G=G(),G.then(function(te){(k._status===0||k._status===-1)&&(k._status=1,k._result=te)},function(te){(k._status===0||k._status===-1)&&(k._status=2,k._result=te)}),k._status===-1&&(k._status=0,k._result=G)}if(k._status===1)return k._result.default;throw k._result}var ye=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ge={map:W,forEach:function(k,G,te){W(k,function(){G.apply(this,arguments)},te)},count:function(k){var G=0;return W(k,function(){G++}),G},toArray:function(k){return W(k,function(G){return G})||[]},only:function(k){if(!Y(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return me.Activity=v,me.Children=ge,me.Component=C,me.Fragment=r,me.Profiler=o,me.PureComponent=A,me.StrictMode=a,me.Suspense=f,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,me.__COMPILER_RUNTIME={__proto__:null,c:function(k){return V.H.useMemoCache(k)}},me.cache=function(k){return function(){return k.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(k,G,te){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var se=T({},k.props),ve=k.key;if(G!=null)for(xe in G.key!==void 0&&(ve=""+G.key),G)!I.call(G,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&G.ref===void 0||(se[xe]=G[xe]);var xe=arguments.length-2;if(xe===1)se.children=te;else if(1<xe){for(var Ne=Array(xe),xt=0;xt<xe;xt++)Ne[xt]=arguments[xt+2];se.children=Ne}return Q(k.type,ve,se)},me.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},me.createElement=function(k,G,te){var se,ve={},xe=null;if(G!=null)for(se in G.key!==void 0&&(xe=""+G.key),G)I.call(G,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ve[se]=G[se]);var Ne=arguments.length-2;if(Ne===1)ve.children=te;else if(1<Ne){for(var xt=Array(Ne),Ke=0;Ke<Ne;Ke++)xt[Ke]=arguments[Ke+2];ve.children=xt}if(k&&k.defaultProps)for(se in Ne=k.defaultProps,Ne)ve[se]===void 0&&(ve[se]=Ne[se]);return Q(k,xe,ve)},me.createRef=function(){return{current:null}},me.forwardRef=function(k){return{$$typeof:d,render:k}},me.isValidElement=Y,me.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:ie}},me.memo=function(k,G){return{$$typeof:p,type:k,compare:G===void 0?null:G}},me.startTransition=function(k){var G=V.T,te={};V.T=te;try{var se=k(),ve=V.S;ve!==null&&ve(te,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then($,ye)}catch(xe){ye(xe)}finally{G!==null&&te.types!==null&&(G.types=te.types),V.T=G}},me.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},me.use=function(k){return V.H.use(k)},me.useActionState=function(k,G,te){return V.H.useActionState(k,G,te)},me.useCallback=function(k,G){return V.H.useCallback(k,G)},me.useContext=function(k){return V.H.useContext(k)},me.useDebugValue=function(){},me.useDeferredValue=function(k,G){return V.H.useDeferredValue(k,G)},me.useEffect=function(k,G){return V.H.useEffect(k,G)},me.useEffectEvent=function(k){return V.H.useEffectEvent(k)},me.useId=function(){return V.H.useId()},me.useImperativeHandle=function(k,G,te){return V.H.useImperativeHandle(k,G,te)},me.useInsertionEffect=function(k,G){return V.H.useInsertionEffect(k,G)},me.useLayoutEffect=function(k,G){return V.H.useLayoutEffect(k,G)},me.useMemo=function(k,G){return V.H.useMemo(k,G)},me.useOptimistic=function(k,G){return V.H.useOptimistic(k,G)},me.useReducer=function(k,G,te){return V.H.useReducer(k,G,te)},me.useRef=function(k){return V.H.useRef(k)},me.useState=function(k){return V.H.useState(k)},me.useSyncExternalStore=function(k,G,te){return V.H.useSyncExternalStore(k,G,te)},me.useTransition=function(){return V.H.useTransition()},me.version="19.2.1",me}var hy;function af(){return hy||(hy=1,zh.exports=mS()),zh.exports}var j=af(),Lh={exports:{}},gs={},Uh={exports:{}},Ph={};var dy;function pS(){return dy||(dy=1,(function(n){function t(P,W){var ie=P.length;P.push(W);e:for(;0<ie;){var ye=ie-1>>>1,ge=P[ye];if(0<o(ge,W))P[ye]=W,P[ie]=ge,ie=ye;else break e}}function r(P){return P.length===0?null:P[0]}function a(P){if(P.length===0)return null;var W=P[0],ie=P.pop();if(ie!==W){P[0]=ie;e:for(var ye=0,ge=P.length,k=ge>>>1;ye<k;){var G=2*(ye+1)-1,te=P[G],se=G+1,ve=P[se];if(0>o(te,ie))se<ge&&0>o(ve,te)?(P[ye]=ve,P[se]=ie,ye=se):(P[ye]=te,P[G]=ie,ye=G);else if(se<ge&&0>o(ve,ie))P[ye]=ve,P[se]=ie,ye=se;else break e}}return W}function o(P,W){var ie=P.sortIndex-W.sortIndex;return ie!==0?ie:P.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var f=[],p=[],y=1,v=null,w=3,x=!1,_=!1,T=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function M(P){for(var W=r(p);W!==null;){if(W.callback===null)a(p);else if(W.startTime<=P)a(p),W.sortIndex=W.expirationTime,t(f,W);else break;W=r(p)}}function B(P){if(T=!1,M(P),!_)if(r(f)!==null)_=!0,$||($=!0,Z());else{var W=r(p);W!==null&&ae(B,W.startTime-P)}}var $=!1,V=-1,I=5,Q=-1;function J(){return E?!0:!(n.unstable_now()-Q<I)}function Y(){if(E=!1,$){var P=n.unstable_now();Q=P;var W=!0;try{e:{_=!1,T&&(T=!1,R(V),V=-1),x=!0;var ie=w;try{t:{for(M(P),v=r(f);v!==null&&!(v.expirationTime>P&&J());){var ye=v.callback;if(typeof ye=="function"){v.callback=null,w=v.priorityLevel;var ge=ye(v.expirationTime<=P);if(P=n.unstable_now(),typeof ge=="function"){v.callback=ge,M(P),W=!0;break t}v===r(f)&&a(f),M(P)}else a(f);v=r(f)}if(v!==null)W=!0;else{var k=r(p);k!==null&&ae(B,k.startTime-P),W=!1}}break e}finally{v=null,w=ie,x=!1}W=void 0}}finally{W?Z():$=!1}}}var Z;if(typeof A=="function")Z=function(){A(Y)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ee=X.port2;X.port1.onmessage=Y,Z=function(){ee.postMessage(null)}}else Z=function(){C(Y,0)};function ae(P,W){V=C(function(){P(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(P){switch(w){case 1:case 2:case 3:var W=3;break;default:W=w}var ie=w;w=W;try{return P()}finally{w=ie}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(P,W){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var ie=w;w=P;try{return W()}finally{w=ie}},n.unstable_scheduleCallback=function(P,W,ie){var ye=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ye+ie:ye):ie=ye,P){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=ie+ge,P={id:y++,callback:W,priorityLevel:P,startTime:ie,expirationTime:ge,sortIndex:-1},ie>ye?(P.sortIndex=ie,t(p,P),r(f)===null&&P===r(p)&&(T?(R(V),V=-1):T=!0,ae(B,ie-ye))):(P.sortIndex=ge,t(f,P),_||x||(_=!0,$||($=!0,Z()))),P},n.unstable_shouldYield=J,n.unstable_wrapCallback=function(P){var W=w;return function(){var ie=w;w=W;try{return P.apply(this,arguments)}finally{w=ie}}}})(Ph)),Ph}var fy;function gS(){return fy||(fy=1,Uh.exports=pS()),Uh.exports}var Bh={exports:{}},vt={};var my;function yS(){if(my)return vt;my=1;var n=af();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(f,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:f,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,vt.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(f,p,null,y)},vt.flushSync=function(f){var p=c.T,y=a.p;try{if(c.T=null,a.p=2,f)return f()}finally{c.T=p,a.p=y,a.d.f()}},vt.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(f,p))},vt.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},vt.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?a.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:x}):y==="script"&&a.d.X(f,{crossOrigin:v,integrity:w,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},vt.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);a.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(f)},vt.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin);a.d.L(f,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},vt.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=d(p.as,p.crossOrigin);a.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(f)},vt.requestFormReset=function(f){a.d.r(f)},vt.unstable_batchedUpdates=function(f,p){return f(p)},vt.useFormState=function(f,p,y){return c.H.useFormState(f,p,y)},vt.useFormStatus=function(){return c.H.useHostTransitionStatus()},vt.version="19.2.1",vt}var py;function vS(){if(py)return Bh.exports;py=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Bh.exports=yS(),Bh.exports}var gy;function bS(){if(gy)return gs;gy=1;var n=gS(),t=af(),r=vS();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function d(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function f(e){if(u(e)!==e)throw Error(a(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(a(188));return i!==e?null:e}for(var s=e,l=i;;){var h=s.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===s)return f(h),e;if(m===l)return f(h),i;m=m.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=m;else{for(var b=!1,S=h.child;S;){if(S===s){b=!0,s=h,l=m;break}if(S===l){b=!0,l=h,s=m;break}S=S.sibling}if(!b){for(S=m.child;S;){if(S===s){b=!0,s=m,l=h;break}if(S===l){b=!0,l=m,s=h;break}S=S.sibling}if(!b)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),A=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=Y&&e[Y]||e["@@iterator"],typeof e=="function"?e:null)}var X=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===X?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case B:return"Suspense";case $:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case A:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case M:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:ee(e.type)||"Memo";case I:i=e._payload,e=e._init;try{return ee(e(i))}catch{}}return null}var ae=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ye=[],ge=-1;function k(e){return{current:e}}function G(e){0>ge||(e.current=ye[ge],ye[ge]=null,ge--)}function te(e,i){ge++,ye[ge]=e.current,e.current=i}var se=k(null),ve=k(null),xe=k(null),Ne=k(null);function xt(e,i){switch(te(xe,i),te(ve,e),te(se,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Og(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Og(i),e=kg(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(se),te(se,e)}function Ke(){G(se),G(ve),G(xe)}function _a(e){e.memoizedState!==null&&te(Ne,e);var i=se.current,s=kg(i,e.type);i!==s&&(te(ve,e),te(se,s))}function Zs(e){ve.current===e&&(G(se),G(ve)),Ne.current===e&&(G(Ne),hs._currentValue=ie)}var gu,om;function Oi(e){if(gu===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);gu=i&&i[1]||"",om=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gu+e+om}var yu=!1;function vu(e,i){if(!e||yu)return"";yu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var U=H}Reflect.construct(e,[],K)}else{try{K.call()}catch(H){U=H}e.call(K.prototype)}}else{try{throw Error()}catch(H){U=H}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&U&&typeof H.stack=="string")return[H.stack,U.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],S=m[1];if(b&&S){var N=b.split(`
`),L=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===L.length)for(l=N.length-1,h=L.length-1;1<=l&&0<=h&&N[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==L[h]){var q=`
`+N[l].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=l&&0<=h);break}}}finally{yu=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Oi(s):""}function q1(e,i){switch(e.tag){case 26:case 27:case 5:return Oi(e.type);case 16:return Oi("Lazy");case 13:return e.child!==i&&i!==null?Oi("Suspense Fallback"):Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return vu(e.type,!1);case 11:return vu(e.type.render,!1);case 1:return vu(e.type,!0);case 31:return Oi("Activity");default:return""}}function lm(e){try{var i="",s=null;do i+=q1(e,s),s=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bu=Object.prototype.hasOwnProperty,wu=n.unstable_scheduleCallback,xu=n.unstable_cancelCallback,$1=n.unstable_shouldYield,I1=n.unstable_requestPaint,Mt=n.unstable_now,G1=n.unstable_getCurrentPriorityLevel,um=n.unstable_ImmediatePriority,cm=n.unstable_UserBlockingPriority,Js=n.unstable_NormalPriority,F1=n.unstable_LowPriority,hm=n.unstable_IdlePriority,Y1=n.log,K1=n.unstable_setDisableYieldValue,Sa=null,zt=null;function Zn(e){if(typeof Y1=="function"&&K1(e),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Sa,e)}catch{}}var Lt=Math.clz32?Math.clz32:Z1,W1=Math.log,X1=Math.LN2;function Z1(e){return e>>>=0,e===0?32:31-(W1(e)/X1|0)|0}var Qs=256,eo=262144,to=4194304;function ki(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function no(e,i,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,m=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?h=ki(l):(b&=S,b!==0?h=ki(b):s||(s=S&~e,s!==0&&(h=ki(s))))):(S=l&~m,S!==0?h=ki(S):b!==0?h=ki(b):s||(s=l&~e,s!==0&&(h=ki(s)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,s=i&-i,m>=s||m===32&&(s&4194048)!==0)?i:h}function Ea(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function J1(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dm(){var e=to;return to<<=1,(to&62914560)===0&&(to=4194304),e}function _u(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function ja(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Q1(e,i,s,l,h,m){var b=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var S=e.entanglements,N=e.expirationTimes,L=e.hiddenUpdates;for(s=b&~s;0<s;){var q=31-Lt(s),K=1<<q;S[q]=0,N[q]=-1;var U=L[q];if(U!==null)for(L[q]=null,q=0;q<U.length;q++){var H=U[q];H!==null&&(H.lane&=-536870913)}s&=~K}l!==0&&fm(e,l,0),m!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=m&~(b&~i))}function fm(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Lt(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function mm(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var l=31-Lt(s),h=1<<l;h&i|e[l]&i&&(e[l]|=i),s&=~h}}function pm(e,i){var s=i&-i;return s=(s&42)!==0?1:Su(s),(s&(e.suspendedLanes|i))!==0?0:s}function Su(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Eu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function gm(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:ty(e.type))}function ym(e,i){var s=W.p;try{return W.p=e,i()}finally{W.p=s}}var Jn=Math.random().toString(36).slice(2),ct="__reactFiber$"+Jn,Et="__reactProps$"+Jn,cr="__reactContainer$"+Jn,ju="__reactEvents$"+Jn,e2="__reactListeners$"+Jn,t2="__reactHandles$"+Jn,vm="__reactResources$"+Jn,Ta="__reactMarker$"+Jn;function Tu(e){delete e[ct],delete e[Et],delete e[ju],delete e[e2],delete e[t2]}function hr(e){var i=e[ct];if(i)return i;for(var s=e.parentNode;s;){if(i=s[cr]||s[ct]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Bg(e);e!==null;){if(s=e[ct])return s;e=Bg(e)}return i}e=s,s=e.parentNode}return null}function dr(e){if(e=e[ct]||e[cr]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Aa(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function fr(e){var i=e[vm];return i||(i=e[vm]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function lt(e){e[Ta]=!0}var bm=new Set,wm={};function Di(e,i){mr(e,i),mr(e+"Capture",i)}function mr(e,i){for(wm[e]=i,e=0;e<i.length;e++)bm.add(i[e])}var n2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xm={},_m={};function i2(e){return bu.call(_m,e)?!0:bu.call(xm,e)?!1:n2.test(e)?_m[e]=!0:(xm[e]=!0,!1)}function io(e,i,s){if(i2(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function ro(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function jn(e,i,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+l)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sm(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function r2(e,i,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(b){s=""+b,m.call(this,b)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Au(e){if(!e._valueTracker){var i=Sm(e)?"checked":"value";e._valueTracker=r2(e,i,""+e[i])}}function Em(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return e&&(l=Sm(e)?e.checked?"true":"false":e.value),e=l,e!==s?(i.setValue(e),!0):!1}function ao(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var a2=/[\n"\\]/g;function Ft(e){return e.replace(a2,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Cu(e,i,s,l,h,m,b,S){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),i!=null?b==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Gt(i)):e.value!==""+Gt(i)&&(e.value=""+Gt(i)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),i!=null?Ru(e,b,Gt(i)):s!=null?Ru(e,b,Gt(s)):l!=null&&e.removeAttribute("value"),h==null&&m!=null&&(e.defaultChecked=!!m),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Gt(S):e.removeAttribute("name")}function jm(e,i,s,l,h,m,b,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),i!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Au(e);return}s=s!=null?""+Gt(s):"",i=i!=null?""+Gt(i):s,S||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),Au(e)}function Ru(e,i,s){i==="number"&&ao(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function pr(e,i,s,l){if(e=e.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=i.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Gt(s),i=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Tm(e,i,s){if(i!=null&&(i=""+Gt(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+Gt(s):""}function Am(e,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(ae(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Gt(i),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Au(e)}function gr(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var s2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cm(e,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,s):typeof s!="number"||s===0||s2.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function Rm(e,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Cm(e,h,l)}else for(var m in i)i.hasOwnProperty(m)&&Cm(e,m,i[m])}function Nu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),l2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function so(e){return l2.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Tn(){}var Ou=null;function ku(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yr=null,vr=null;function Nm(e){var i=dr(e);if(i&&(e=i.stateNode)){var s=e[Et]||null;e:switch(e=i.stateNode,i.type){case"input":if(Cu(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ft(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==e&&l.form===e.form){var h=l[Et]||null;if(!h)throw Error(a(90));Cu(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===e.form&&Em(l)}break e;case"textarea":Tm(e,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&pr(e,!!s.multiple,i,!1)}}}var Du=!1;function Om(e,i,s){if(Du)return e(i,s);Du=!0;try{var l=e(i);return l}finally{if(Du=!1,(yr!==null||vr!==null)&&(Ko(),yr&&(i=yr,e=vr,vr=yr=null,Nm(i),e)))for(i=0;i<e.length;i++)Nm(e[i])}}function Ca(e,i){var s=e.stateNode;if(s===null)return null;var l=s[Et]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mu=!1;if(An)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){Mu=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Mu=!1}var Qn=null,zu=null,oo=null;function km(){if(oo)return oo;var e,i=zu,s=i.length,l,h="value"in Qn?Qn.value:Qn.textContent,m=h.length;for(e=0;e<s&&i[e]===h[e];e++);var b=s-e;for(l=1;l<=b&&i[s-l]===h[m-l];l++);return oo=h.slice(e,1<l?1-l:void 0)}function lo(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function uo(){return!0}function Dm(){return!1}function jt(e){function i(s,l,h,m,b){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(s=e[S],this[S]=s?s(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?uo:Dm,this.isPropagationStopped=Dm,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=uo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=uo)},persist:function(){},isPersistent:uo}),i}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=jt(Mi),Na=v({},Mi,{view:0,detail:0}),u2=jt(Na),Lu,Uu,Oa,ho=v({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oa&&(Oa&&e.type==="mousemove"?(Lu=e.screenX-Oa.screenX,Uu=e.screenY-Oa.screenY):Uu=Lu=0,Oa=e),Lu)},movementY:function(e){return"movementY"in e?e.movementY:Uu}}),Mm=jt(ho),c2=v({},ho,{dataTransfer:0}),h2=jt(c2),d2=v({},Na,{relatedTarget:0}),Pu=jt(d2),f2=v({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),m2=jt(f2),p2=v({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g2=jt(p2),y2=v({},Mi,{data:0}),zm=jt(y2),v2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x2(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=w2[e])?!!i[e]:!1}function Bu(){return x2}var _2=v({},Na,{key:function(e){if(e.key){var i=v2[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=lo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bu,charCode:function(e){return e.type==="keypress"?lo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),S2=jt(_2),E2=v({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lm=jt(E2),j2=v({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bu}),T2=jt(j2),A2=v({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),C2=jt(A2),R2=v({},ho,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N2=jt(R2),O2=v({},Mi,{newState:0,oldState:0}),k2=jt(O2),D2=[9,13,27,32],Vu=An&&"CompositionEvent"in window,ka=null;An&&"documentMode"in document&&(ka=document.documentMode);var M2=An&&"TextEvent"in window&&!ka,Um=An&&(!Vu||ka&&8<ka&&11>=ka),Pm=" ",Bm=!1;function Vm(e,i){switch(e){case"keyup":return D2.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var br=!1;function z2(e,i){switch(e){case"compositionend":return Hm(i);case"keypress":return i.which!==32?null:(Bm=!0,Pm);case"textInput":return e=i.data,e===Pm&&Bm?null:e;default:return null}}function L2(e,i){if(br)return e==="compositionend"||!Vu&&Vm(e,i)?(e=km(),oo=zu=Qn=null,br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Um&&i.locale!=="ko"?null:i.data;default:return null}}var U2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qm(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!U2[e.type]:i==="textarea"}function $m(e,i,s,l){yr?vr?vr.push(l):vr=[l]:yr=l,i=tl(i,"onChange"),0<i.length&&(s=new co("onChange","change",null,s,l),e.push({event:s,listeners:i}))}var Da=null,Ma=null;function P2(e){jg(e,0)}function fo(e){var i=Aa(e);if(Em(i))return e}function Im(e,i){if(e==="change")return i}var Gm=!1;if(An){var Hu;if(An){var qu="oninput"in document;if(!qu){var Fm=document.createElement("div");Fm.setAttribute("oninput","return;"),qu=typeof Fm.oninput=="function"}Hu=qu}else Hu=!1;Gm=Hu&&(!document.documentMode||9<document.documentMode)}function Ym(){Da&&(Da.detachEvent("onpropertychange",Km),Ma=Da=null)}function Km(e){if(e.propertyName==="value"&&fo(Ma)){var i=[];$m(i,Ma,e,ku(e)),Om(P2,i)}}function B2(e,i,s){e==="focusin"?(Ym(),Da=i,Ma=s,Da.attachEvent("onpropertychange",Km)):e==="focusout"&&Ym()}function V2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fo(Ma)}function H2(e,i){if(e==="click")return fo(i)}function q2(e,i){if(e==="input"||e==="change")return fo(i)}function $2(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Ut=typeof Object.is=="function"?Object.is:$2;function za(e,i){if(Ut(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!bu.call(i,h)||!Ut(e[h],i[h]))return!1}return!0}function Wm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xm(e,i){var s=Wm(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=i&&l>=i)return{node:s,offset:i-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Wm(s)}}function Zm(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Zm(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Jm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ao(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=ao(e.document)}return i}function $u(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var I2=An&&"documentMode"in document&&11>=document.documentMode,wr=null,Iu=null,La=null,Gu=!1;function Qm(e,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Gu||wr==null||wr!==ao(l)||(l=wr,"selectionStart"in l&&$u(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),La&&za(La,l)||(La=l,l=tl(Iu,"onSelect"),0<l.length&&(i=new co("onSelect","select",null,i,s),e.push({event:i,listeners:l}),i.target=wr)))}function zi(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var xr={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionrun:zi("Transition","TransitionRun"),transitionstart:zi("Transition","TransitionStart"),transitioncancel:zi("Transition","TransitionCancel"),transitionend:zi("Transition","TransitionEnd")},Fu={},ep={};An&&(ep=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function Li(e){if(Fu[e])return Fu[e];if(!xr[e])return e;var i=xr[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in ep)return Fu[e]=i[s];return e}var tp=Li("animationend"),np=Li("animationiteration"),ip=Li("animationstart"),G2=Li("transitionrun"),F2=Li("transitionstart"),Y2=Li("transitioncancel"),rp=Li("transitionend"),ap=new Map,Yu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yu.push("scrollEnd");function ln(e,i){ap.set(e,i),Di(i,[e])}var mo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yt=[],_r=0,Ku=0;function po(){for(var e=_r,i=Ku=_r=0;i<e;){var s=Yt[i];Yt[i++]=null;var l=Yt[i];Yt[i++]=null;var h=Yt[i];Yt[i++]=null;var m=Yt[i];if(Yt[i++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}m!==0&&sp(s,h,m)}}function go(e,i,s,l){Yt[_r++]=e,Yt[_r++]=i,Yt[_r++]=s,Yt[_r++]=l,Ku|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Wu(e,i,s,l){return go(e,i,s,l),yo(e)}function Ui(e,i){return go(e,null,null,i),yo(e)}function sp(e,i,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,m=e.return;m!==null;)m.childLanes|=s,l=m.alternate,l!==null&&(l.childLanes|=s),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(h=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,h&&i!==null&&(h=31-Lt(s),e=m.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=s|536870912),m):null}function yo(e){if(50<rs)throw rs=0,rh=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Sr={};function K2(e,i,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,i,s,l){return new K2(e,i,s,l)}function Xu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cn(e,i){var s=e.alternate;return s===null?(s=Pt(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function op(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function vo(e,i,s,l,h,m){var b=0;if(l=e,typeof e=="function")Xu(e)&&(b=1);else if(typeof e=="string")b=Q_(e,s,se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=Pt(31,s,i,h),e.elementType=Q,e.lanes=m,e;case T:return Pi(s.children,h,m,i);case E:b=8,h|=24;break;case C:return e=Pt(12,s,i,h|2),e.elementType=C,e.lanes=m,e;case B:return e=Pt(13,s,i,h),e.elementType=B,e.lanes=m,e;case $:return e=Pt(19,s,i,h),e.elementType=$,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:b=10;break e;case R:b=9;break e;case M:b=11;break e;case V:b=14;break e;case I:b=16,l=null;break e}b=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return i=Pt(b,s,i,h),i.elementType=e,i.type=l,i.lanes=m,i}function Pi(e,i,s,l){return e=Pt(7,e,l,i),e.lanes=s,e}function Zu(e,i,s){return e=Pt(6,e,null,i),e.lanes=s,e}function lp(e){var i=Pt(18,null,null,0);return i.stateNode=e,i}function Ju(e,i,s){return i=Pt(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var up=new WeakMap;function Kt(e,i){if(typeof e=="object"&&e!==null){var s=up.get(e);return s!==void 0?s:(i={value:e,source:i,stack:lm(i)},up.set(e,i),i)}return{value:e,source:i,stack:lm(i)}}var Er=[],jr=0,bo=null,Ua=0,Wt=[],Xt=0,ei=null,vn=1,bn="";function Rn(e,i){Er[jr++]=Ua,Er[jr++]=bo,bo=e,Ua=i}function cp(e,i,s){Wt[Xt++]=vn,Wt[Xt++]=bn,Wt[Xt++]=ei,ei=e;var l=vn;e=bn;var h=32-Lt(l)-1;l&=~(1<<h),s+=1;var m=32-Lt(i)+h;if(30<m){var b=h-h%5;m=(l&(1<<b)-1).toString(32),l>>=b,h-=b,vn=1<<32-Lt(i)+h|s<<h|l,bn=m+e}else vn=1<<m|s<<h|l,bn=e}function Qu(e){e.return!==null&&(Rn(e,1),cp(e,1,0))}function ec(e){for(;e===bo;)bo=Er[--jr],Er[jr]=null,Ua=Er[--jr],Er[jr]=null;for(;e===ei;)ei=Wt[--Xt],Wt[Xt]=null,bn=Wt[--Xt],Wt[Xt]=null,vn=Wt[--Xt],Wt[Xt]=null}function hp(e,i){Wt[Xt++]=vn,Wt[Xt++]=bn,Wt[Xt++]=ei,vn=i.id,bn=i.overflow,ei=e}var ht=null,Pe=null,Te=!1,ti=null,Zt=!1,tc=Error(a(519));function ni(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pa(Kt(i,e)),tc}function dp(e){var i=e.stateNode,s=e.type,l=e.memoizedProps;switch(i[ct]=e,i[Et]=l,s){case"dialog":Se("cancel",i),Se("close",i);break;case"iframe":case"object":case"embed":Se("load",i);break;case"video":case"audio":for(s=0;s<ss.length;s++)Se(ss[s],i);break;case"source":Se("error",i);break;case"img":case"image":case"link":Se("error",i),Se("load",i);break;case"details":Se("toggle",i);break;case"input":Se("invalid",i),jm(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Se("invalid",i);break;case"textarea":Se("invalid",i),Am(i,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Rg(i.textContent,s)?(l.popover!=null&&(Se("beforetoggle",i),Se("toggle",i)),l.onScroll!=null&&Se("scroll",i),l.onScrollEnd!=null&&Se("scrollend",i),l.onClick!=null&&(i.onclick=Tn),i=!0):i=!1,i||ni(e,!0)}function fp(e){for(ht=e.return;ht;)switch(ht.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:ht=ht.return}}function Tr(e){if(e!==ht)return!1;if(!Te)return fp(e),Te=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||bh(e.type,e.memoizedProps)),s=!s),s&&Pe&&ni(e),fp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Pe=Pg(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Pe=Pg(e)}else i===27?(i=Pe,gi(e.type)?(e=Eh,Eh=null,Pe=e):Pe=i):Pe=ht?Qt(e.stateNode.nextSibling):null;return!0}function Bi(){Pe=ht=null,Te=!1}function nc(){var e=ti;return e!==null&&(Rt===null?Rt=e:Rt.push.apply(Rt,e),ti=null),e}function Pa(e){ti===null?ti=[e]:ti.push(e)}var ic=k(null),Vi=null,Nn=null;function ii(e,i,s){te(ic,i._currentValue),i._currentValue=s}function On(e){e._currentValue=ic.current,G(ic)}function rc(e,i,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===s)break;e=e.return}}function ac(e,i,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){m.lanes|=s,S=m.alternate,S!==null&&(S.lanes|=s),rc(m.return,s,e),l||(b=null);break e}m=S.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(a(341));b.lanes|=s,m=b.alternate,m!==null&&(m.lanes|=s),rc(b,s,e),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===e){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Ar(e,i,s,l){e=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(a(387));if(b=b.memoizedProps,b!==null){var S=h.type;Ut(h.pendingProps.value,b.value)||(e!==null?e.push(S):e=[S])}}else if(h===Ne.current){if(b=h.alternate,b===null)throw Error(a(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hs):e=[hs])}h=h.return}e!==null&&ac(i,e,s,l),i.flags|=262144}function wo(e){for(e=e.firstContext;e!==null;){if(!Ut(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hi(e){Vi=e,Nn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return mp(Vi,e)}function xo(e,i){return Vi===null&&Hi(e),mp(e,i)}function mp(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Nn===null){if(e===null)throw Error(a(308));Nn=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Nn=Nn.next=i;return s}var W2=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},X2=n.unstable_scheduleCallback,Z2=n.unstable_NormalPriority,Je={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sc(){return{controller:new W2,data:new Map,refCount:0}}function Ba(e){e.refCount--,e.refCount===0&&X2(Z2,function(){e.controller.abort()})}var Va=null,oc=0,Cr=0,Rr=null;function J2(e,i){if(Va===null){var s=Va=[];oc=0,Cr=ch(),Rr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return oc++,i.then(pp,pp),i}function pp(){if(--oc===0&&Va!==null){Rr!==null&&(Rr.status="fulfilled");var e=Va;Va=null,Cr=0,Rr=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Q2(e,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var gp=P.S;P.S=function(e,i){Q0=Mt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&J2(e,i),gp!==null&&gp(e,i)};var qi=k(null);function lc(){var e=qi.current;return e!==null?e:Le.pooledCache}function _o(e,i){i===null?te(qi,qi.current):te(qi,i.pool)}function yp(){var e=lc();return e===null?null:{parent:Je._currentValue,pool:e}}var Nr=Error(a(460)),uc=Error(a(474)),So=Error(a(542)),Eo={then:function(){}};function vp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bp(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(Tn,Tn),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,xp(e),e;default:if(typeof i.status=="string")i.then(Tn,Tn);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,xp(e),e}throw Ii=i,Nr}}function $i(e){try{var i=e._init;return i(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ii=s,Nr):s}}var Ii=null;function wp(){if(Ii===null)throw Error(a(459));var e=Ii;return Ii=null,e}function xp(e){if(e===Nr||e===So)throw Error(a(483))}var Or=null,Ha=0;function jo(e){var i=Ha;return Ha+=1,Or===null&&(Or=[]),bp(Or,e,i)}function qa(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function To(e,i){throw i.$$typeof===w?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function _p(e){function i(D,O){if(e){var z=D.deletions;z===null?(D.deletions=[O],D.flags|=16):z.push(O)}}function s(D,O){if(!e)return null;for(;O!==null;)i(D,O),O=O.sibling;return null}function l(D){for(var O=new Map;D!==null;)D.key!==null?O.set(D.key,D):O.set(D.index,D),D=D.sibling;return O}function h(D,O){return D=Cn(D,O),D.index=0,D.sibling=null,D}function m(D,O,z){return D.index=z,e?(z=D.alternate,z!==null?(z=z.index,z<O?(D.flags|=67108866,O):z):(D.flags|=67108866,O)):(D.flags|=1048576,O)}function b(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function S(D,O,z,F){return O===null||O.tag!==6?(O=Zu(z,D.mode,F),O.return=D,O):(O=h(O,z),O.return=D,O)}function N(D,O,z,F){var ue=z.type;return ue===T?q(D,O,z.props.children,F,z.key):O!==null&&(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===I&&$i(ue)===O.type)?(O=h(O,z.props),qa(O,z),O.return=D,O):(O=vo(z.type,z.key,z.props,null,D.mode,F),qa(O,z),O.return=D,O)}function L(D,O,z,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Ju(z,D.mode,F),O.return=D,O):(O=h(O,z.children||[]),O.return=D,O)}function q(D,O,z,F,ue){return O===null||O.tag!==7?(O=Pi(z,D.mode,F,ue),O.return=D,O):(O=h(O,z),O.return=D,O)}function K(D,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Zu(""+O,D.mode,z),O.return=D,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case x:return z=vo(O.type,O.key,O.props,null,D.mode,z),qa(z,O),z.return=D,z;case _:return O=Ju(O,D.mode,z),O.return=D,O;case I:return O=$i(O),K(D,O,z)}if(ae(O)||Z(O))return O=Pi(O,D.mode,z,null),O.return=D,O;if(typeof O.then=="function")return K(D,jo(O),z);if(O.$$typeof===A)return K(D,xo(D,O),z);To(D,O)}return null}function U(D,O,z,F){var ue=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ue!==null?null:S(D,O,""+z,F);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return z.key===ue?N(D,O,z,F):null;case _:return z.key===ue?L(D,O,z,F):null;case I:return z=$i(z),U(D,O,z,F)}if(ae(z)||Z(z))return ue!==null?null:q(D,O,z,F,null);if(typeof z.then=="function")return U(D,O,jo(z),F);if(z.$$typeof===A)return U(D,O,xo(D,z),F);To(D,z)}return null}function H(D,O,z,F,ue){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return D=D.get(z)||null,S(O,D,""+F,ue);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return D=D.get(F.key===null?z:F.key)||null,N(O,D,F,ue);case _:return D=D.get(F.key===null?z:F.key)||null,L(O,D,F,ue);case I:return F=$i(F),H(D,O,z,F,ue)}if(ae(F)||Z(F))return D=D.get(z)||null,q(O,D,F,ue,null);if(typeof F.then=="function")return H(D,O,z,jo(F),ue);if(F.$$typeof===A)return H(D,O,z,xo(O,F),ue);To(O,F)}return null}function re(D,O,z,F){for(var ue=null,Ae=null,oe=O,we=O=0,je=null;oe!==null&&we<z.length;we++){oe.index>we?(je=oe,oe=null):je=oe.sibling;var Ce=U(D,oe,z[we],F);if(Ce===null){oe===null&&(oe=je);break}e&&oe&&Ce.alternate===null&&i(D,oe),O=m(Ce,O,we),Ae===null?ue=Ce:Ae.sibling=Ce,Ae=Ce,oe=je}if(we===z.length)return s(D,oe),Te&&Rn(D,we),ue;if(oe===null){for(;we<z.length;we++)oe=K(D,z[we],F),oe!==null&&(O=m(oe,O,we),Ae===null?ue=oe:Ae.sibling=oe,Ae=oe);return Te&&Rn(D,we),ue}for(oe=l(oe);we<z.length;we++)je=H(oe,D,we,z[we],F),je!==null&&(e&&je.alternate!==null&&oe.delete(je.key===null?we:je.key),O=m(je,O,we),Ae===null?ue=je:Ae.sibling=je,Ae=je);return e&&oe.forEach(function(xi){return i(D,xi)}),Te&&Rn(D,we),ue}function ce(D,O,z,F){if(z==null)throw Error(a(151));for(var ue=null,Ae=null,oe=O,we=O=0,je=null,Ce=z.next();oe!==null&&!Ce.done;we++,Ce=z.next()){oe.index>we?(je=oe,oe=null):je=oe.sibling;var xi=U(D,oe,Ce.value,F);if(xi===null){oe===null&&(oe=je);break}e&&oe&&xi.alternate===null&&i(D,oe),O=m(xi,O,we),Ae===null?ue=xi:Ae.sibling=xi,Ae=xi,oe=je}if(Ce.done)return s(D,oe),Te&&Rn(D,we),ue;if(oe===null){for(;!Ce.done;we++,Ce=z.next())Ce=K(D,Ce.value,F),Ce!==null&&(O=m(Ce,O,we),Ae===null?ue=Ce:Ae.sibling=Ce,Ae=Ce);return Te&&Rn(D,we),ue}for(oe=l(oe);!Ce.done;we++,Ce=z.next())Ce=H(oe,D,we,Ce.value,F),Ce!==null&&(e&&Ce.alternate!==null&&oe.delete(Ce.key===null?we:Ce.key),O=m(Ce,O,we),Ae===null?ue=Ce:Ae.sibling=Ce,Ae=Ce);return e&&oe.forEach(function(cS){return i(D,cS)}),Te&&Rn(D,we),ue}function ze(D,O,z,F){if(typeof z=="object"&&z!==null&&z.type===T&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case x:e:{for(var ue=z.key;O!==null;){if(O.key===ue){if(ue=z.type,ue===T){if(O.tag===7){s(D,O.sibling),F=h(O,z.props.children),F.return=D,D=F;break e}}else if(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===I&&$i(ue)===O.type){s(D,O.sibling),F=h(O,z.props),qa(F,z),F.return=D,D=F;break e}s(D,O);break}else i(D,O);O=O.sibling}z.type===T?(F=Pi(z.props.children,D.mode,F,z.key),F.return=D,D=F):(F=vo(z.type,z.key,z.props,null,D.mode,F),qa(F,z),F.return=D,D=F)}return b(D);case _:e:{for(ue=z.key;O!==null;){if(O.key===ue)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){s(D,O.sibling),F=h(O,z.children||[]),F.return=D,D=F;break e}else{s(D,O);break}else i(D,O);O=O.sibling}F=Ju(z,D.mode,F),F.return=D,D=F}return b(D);case I:return z=$i(z),ze(D,O,z,F)}if(ae(z))return re(D,O,z,F);if(Z(z)){if(ue=Z(z),typeof ue!="function")throw Error(a(150));return z=ue.call(z),ce(D,O,z,F)}if(typeof z.then=="function")return ze(D,O,jo(z),F);if(z.$$typeof===A)return ze(D,O,xo(D,z),F);To(D,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(s(D,O.sibling),F=h(O,z),F.return=D,D=F):(s(D,O),F=Zu(z,D.mode,F),F.return=D,D=F),b(D)):s(D,O)}return function(D,O,z,F){try{Ha=0;var ue=ze(D,O,z,F);return Or=null,ue}catch(oe){if(oe===Nr||oe===So)throw oe;var Ae=Pt(29,oe,null,D.mode);return Ae.lanes=F,Ae.return=D,Ae}finally{}}}var Gi=_p(!0),Sp=_p(!1),ri=!1;function cc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hc(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function si(e,i,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Re&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=yo(e),sp(e,null,s),i}return go(e,l,i,s),yo(e)}function $a(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,mm(e,s)}}function dc(e,i){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,s=s.next}while(s!==null);m===null?h=m=i:m=m.next=i}else h=m=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var fc=!1;function Ia(){if(fc){var e=Rr;if(e!==null)throw e}}function Ga(e,i,s,l){fc=!1;var h=e.updateQueue;ri=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,L=N.next;N.next=null,b===null?m=L:b.next=L,b=N;var q=e.alternate;q!==null&&(q=q.updateQueue,S=q.lastBaseUpdate,S!==b&&(S===null?q.firstBaseUpdate=L:S.next=L,q.lastBaseUpdate=N))}if(m!==null){var K=h.baseState;b=0,q=L=N=null,S=m;do{var U=S.lane&-536870913,H=U!==S.lane;if(H?(Ee&U)===U:(l&U)===U){U!==0&&U===Cr&&(fc=!0),q!==null&&(q=q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var re=e,ce=S;U=i;var ze=s;switch(ce.tag){case 1:if(re=ce.payload,typeof re=="function"){K=re.call(ze,K,U);break e}K=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ce.payload,U=typeof re=="function"?re.call(ze,K,U):re,U==null)break e;K=v({},K,U);break e;case 2:ri=!0}}U=S.callback,U!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[U]:H.push(U))}else H={lane:U,tag:S.tag,payload:S.payload,callback:S.callback,next:null},q===null?(L=q=H,N=K):q=q.next=H,b|=U;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;H=S,S=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);q===null&&(N=K),h.baseState=N,h.firstBaseUpdate=L,h.lastBaseUpdate=q,m===null&&(h.shared.lanes=0),hi|=b,e.lanes=b,e.memoizedState=K}}function Ep(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function jp(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Ep(s[e],i)}var kr=k(null),Ao=k(0);function Tp(e,i){e=Vn,te(Ao,e),te(kr,i),Vn=e|i.baseLanes}function mc(){te(Ao,Vn),te(kr,kr.current)}function pc(){Vn=Ao.current,G(kr),G(Ao)}var Bt=k(null),Jt=null;function oi(e){var i=e.alternate;te(We,We.current&1),te(Bt,e),Jt===null&&(i===null||kr.current!==null||i.memoizedState!==null)&&(Jt=e)}function gc(e){te(We,We.current),te(Bt,e),Jt===null&&(Jt=e)}function Ap(e){e.tag===22?(te(We,We.current),te(Bt,e),Jt===null&&(Jt=e)):li()}function li(){te(We,We.current),te(Bt,Bt.current)}function Vt(e){G(Bt),Jt===e&&(Jt=null),G(We)}var We=k(0);function Co(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_h(s)||Sh(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var kn=0,be=null,De=null,Qe=null,Ro=!1,Dr=!1,Fi=!1,No=0,Fa=0,Mr=null,e_=0;function Ge(){throw Error(a(321))}function yc(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!Ut(e[s],i[s]))return!1;return!0}function vc(e,i,s,l,h,m){return kn=m,be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=e===null||e.memoizedState===null?c0:Dc,Fi=!1,m=s(l,h),Fi=!1,Dr&&(m=Rp(i,s,l,h)),Cp(e),m}function Cp(e){P.H=Wa;var i=De!==null&&De.next!==null;if(kn=0,Qe=De=be=null,Ro=!1,Fa=0,Mr=null,i)throw Error(a(300));e===null||et||(e=e.dependencies,e!==null&&wo(e)&&(et=!0))}function Rp(e,i,s,l){be=e;var h=0;do{if(Dr&&(Mr=null),Fa=0,Dr=!1,25<=h)throw Error(a(301));if(h+=1,Qe=De=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}P.H=h0,m=i(s,l)}while(Dr);return m}function t_(){var e=P.H,i=e.useState()[0];return i=typeof i.then=="function"?Ya(i):i,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(be.flags|=1024),i}function bc(){var e=No!==0;return No=0,e}function wc(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function xc(e){if(Ro){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ro=!1}kn=0,Qe=De=be=null,Dr=!1,Fa=No=0,Mr=null}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?be.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Xe(){if(De===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var i=Qe===null?be.memoizedState:Qe.next;if(i!==null)Qe=i,De=e;else{if(e===null)throw be.alternate===null?Error(a(467)):Error(a(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Qe===null?be.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Oo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ya(e){var i=Fa;return Fa+=1,Mr===null&&(Mr=[]),e=bp(Mr,e,i),i=be,(Qe===null?i.memoizedState:Qe.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?c0:Dc),e}function ko(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ya(e);if(e.$$typeof===A)return dt(e)}throw Error(a(438,String(e)))}function _c(e){var i=null,s=be.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Oo(),be.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),l=0;l<e;l++)s[l]=J;return i.index++,s}function Dn(e,i){return typeof i=="function"?i(e):i}function Do(e){var i=Xe();return Sc(i,De,e)}function Sc(e,i,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,m=l.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}i.baseQueue=h=m,l.pending=null}if(m=e.baseState,h===null)e.memoizedState=m;else{i=h.next;var S=b=null,N=null,L=i,q=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(Ee&K)===K:(kn&K)===K){var U=L.revertLane;if(U===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===Cr&&(q=!0);else if((kn&U)===U){L=L.next,U===Cr&&(q=!0);continue}else K={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(S=N=K,b=m):N=N.next=K,be.lanes|=U,hi|=U;K=L.action,Fi&&s(m,K),m=L.hasEagerState?L.eagerState:s(m,K)}else U={lane:K,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(S=N=U,b=m):N=N.next=U,be.lanes|=K,hi|=K;L=L.next}while(L!==null&&L!==i);if(N===null?b=m:N.next=S,!Ut(m,e.memoizedState)&&(et=!0,q&&(s=Rr,s!==null)))throw s;e.memoizedState=m,e.baseState=b,e.baseQueue=N,l.lastRenderedState=m}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ec(e){var i=Xe(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,m=i.memoizedState;if(h!==null){s.pending=null;var b=h=h.next;do m=e(m,b.action),b=b.next;while(b!==h);Ut(m,i.memoizedState)||(et=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),s.lastRenderedState=m}return[m,l]}function Np(e,i,s){var l=be,h=Xe(),m=Te;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=i();var b=!Ut((De||h).memoizedState,s);if(b&&(h.memoizedState=s,et=!0),h=h.queue,Ac(Dp.bind(null,l,h,e),[e]),h.getSnapshot!==i||b||Qe!==null&&Qe.memoizedState.tag&1){if(l.flags|=2048,zr(9,{destroy:void 0},kp.bind(null,l,h,s,i),null),Le===null)throw Error(a(349));m||(kn&127)!==0||Op(l,i,s)}return s}function Op(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=be.updateQueue,i===null?(i=Oo(),be.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function kp(e,i,s,l){i.value=s,i.getSnapshot=l,Mp(i)&&zp(e)}function Dp(e,i,s){return s(function(){Mp(i)&&zp(e)})}function Mp(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!Ut(e,s)}catch{return!0}}function zp(e){var i=Ui(e,2);i!==null&&Nt(i,e,2)}function jc(e){var i=_t();if(typeof e=="function"){var s=e;if(e=s(),Fi){Zn(!0);try{s()}finally{Zn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:e},i}function Lp(e,i,s,l){return e.baseState=s,Sc(e,De,typeof l=="function"?l:Dn)}function n_(e,i,s,l,h){if(Lo(e))throw Error(a(485));if(e=i.action,e!==null){var m={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};P.T!==null?s(!0):m.isTransition=!1,l(m),s=i.pending,s===null?(m.next=i.pending=m,Up(i,m)):(m.next=s.next,i.pending=s.next=m)}}function Up(e,i){var s=i.action,l=i.payload,h=e.state;if(i.isTransition){var m=P.T,b={};P.T=b;try{var S=s(h,l),N=P.S;N!==null&&N(b,S),Pp(e,i,S)}catch(L){Tc(e,i,L)}finally{m!==null&&b.types!==null&&(m.types=b.types),P.T=m}}else try{m=s(h,l),Pp(e,i,m)}catch(L){Tc(e,i,L)}}function Pp(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Bp(e,i,l)},function(l){return Tc(e,i,l)}):Bp(e,i,s)}function Bp(e,i,s){i.status="fulfilled",i.value=s,Vp(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,Up(e,s)))}function Tc(e,i,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Vp(i),i=i.next;while(i!==l)}e.action=null}function Vp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Hp(e,i){return i}function qp(e,i){if(Te){var s=Le.formState;if(s!==null){e:{var l=be;if(Te){if(Pe){t:{for(var h=Pe,m=Zt;h.nodeType!==8;){if(!m){h=null;break t}if(h=Qt(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Pe=Qt(h.nextSibling),l=h.data==="F!";break e}}ni(l)}l=!1}l&&(i=s[0])}}return s=_t(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hp,lastRenderedState:i},s.queue=l,s=o0.bind(null,be,l),l.dispatch=s,l=jc(!1),m=kc.bind(null,be,!1,l.queue),l=_t(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,s=n_.bind(null,be,h,m,s),h.dispatch=s,l.memoizedState=e,[i,s,!1]}function $p(e){var i=Xe();return Ip(i,De,e)}function Ip(e,i,s){if(i=Sc(e,i,Hp)[0],e=Do(Dn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ya(i)}catch(b){throw b===Nr?So:b}else l=i;i=Xe();var h=i.queue,m=h.dispatch;return s!==i.memoizedState&&(be.flags|=2048,zr(9,{destroy:void 0},i_.bind(null,h,s),null)),[l,m,e]}function i_(e,i){e.action=i}function Gp(e){var i=Xe(),s=De;if(s!==null)return Ip(i,s,e);Xe(),i=i.memoizedState,s=Xe();var l=s.queue.dispatch;return s.memoizedState=e,[i,l,!1]}function zr(e,i,s,l){return e={tag:e,create:s,deps:l,inst:i,next:null},i=be.updateQueue,i===null&&(i=Oo(),be.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,i.lastEffect=e),e}function Fp(){return Xe().memoizedState}function Mo(e,i,s,l){var h=_t();be.flags|=e,h.memoizedState=zr(1|i,{destroy:void 0},s,l===void 0?null:l)}function zo(e,i,s,l){var h=Xe();l=l===void 0?null:l;var m=h.memoizedState.inst;De!==null&&l!==null&&yc(l,De.memoizedState.deps)?h.memoizedState=zr(i,m,s,l):(be.flags|=e,h.memoizedState=zr(1|i,m,s,l))}function Yp(e,i){Mo(8390656,8,e,i)}function Ac(e,i){zo(2048,8,e,i)}function r_(e){be.flags|=4;var i=be.updateQueue;if(i===null)i=Oo(),be.updateQueue=i,i.events=[e];else{var s=i.events;s===null?i.events=[e]:s.push(e)}}function Kp(e){var i=Xe().memoizedState;return r_({ref:i,nextImpl:e}),function(){if((Re&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Wp(e,i){return zo(4,2,e,i)}function Xp(e,i){return zo(4,4,e,i)}function Zp(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Jp(e,i,s){s=s!=null?s.concat([e]):null,zo(4,4,Zp.bind(null,i,e),s)}function Cc(){}function Qp(e,i){var s=Xe();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&yc(i,l[1])?l[0]:(s.memoizedState=[e,i],e)}function e0(e,i){var s=Xe();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&yc(i,l[1]))return l[0];if(l=e(),Fi){Zn(!0);try{e()}finally{Zn(!1)}}return s.memoizedState=[l,i],l}function Rc(e,i,s){return s===void 0||(kn&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=i:(e.memoizedState=s,e=tg(),be.lanes|=e,hi|=e,s)}function t0(e,i,s,l){return Ut(s,i)?s:kr.current!==null?(e=Rc(e,s,l),Ut(e,i)||(et=!0),e):(kn&42)===0||(kn&1073741824)!==0&&(Ee&261930)===0?(et=!0,e.memoizedState=s):(e=tg(),be.lanes|=e,hi|=e,i)}function n0(e,i,s,l,h){var m=W.p;W.p=m!==0&&8>m?m:8;var b=P.T,S={};P.T=S,kc(e,!1,i,s);try{var N=h(),L=P.S;if(L!==null&&L(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var q=Q2(N,l);Ka(e,i,q,$t(e))}else Ka(e,i,l,$t(e))}catch(K){Ka(e,i,{then:function(){},status:"rejected",reason:K},$t())}finally{W.p=m,b!==null&&S.types!==null&&(b.types=S.types),P.T=b}}function a_(){}function Nc(e,i,s,l){if(e.tag!==5)throw Error(a(476));var h=i0(e).queue;n0(e,h,i,ie,s===null?a_:function(){return r0(e),s(l)})}function i0(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:ie},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function r0(e){var i=i0(e);i.next===null&&(i=e.alternate.memoizedState),Ka(e,i.next.queue,{},$t())}function Oc(){return dt(hs)}function a0(){return Xe().memoizedState}function s0(){return Xe().memoizedState}function s_(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=$t();e=ai(s);var l=si(i,e,s);l!==null&&(Nt(l,i,s),$a(l,i,s)),i={cache:sc()},e.payload=i;return}i=i.return}}function o_(e,i,s){var l=$t();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Lo(e)?l0(i,s):(s=Wu(e,i,s,l),s!==null&&(Nt(s,e,l),u0(s,i,l)))}function o0(e,i,s){var l=$t();Ka(e,i,s,l)}function Ka(e,i,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lo(e))l0(i,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var b=i.lastRenderedState,S=m(b,s);if(h.hasEagerState=!0,h.eagerState=S,Ut(S,b))return go(e,i,h,0),Le===null&&po(),!1}catch{}finally{}if(s=Wu(e,i,h,l),s!==null)return Nt(s,e,l),u0(s,i,l),!0}return!1}function kc(e,i,s,l){if(l={lane:2,revertLane:ch(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Lo(e)){if(i)throw Error(a(479))}else i=Wu(e,s,l,2),i!==null&&Nt(i,e,2)}function Lo(e){var i=e.alternate;return e===be||i!==null&&i===be}function l0(e,i){Dr=Ro=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function u0(e,i,s){if((s&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,mm(e,s)}}var Wa={readContext:dt,use:ko,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};Wa.useEffectEvent=Ge;var c0={readContext:dt,use:ko,useCallback:function(e,i){return _t().memoizedState=[e,i===void 0?null:i],e},useContext:dt,useEffect:Yp,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,Mo(4194308,4,Zp.bind(null,i,e),s)},useLayoutEffect:function(e,i){return Mo(4194308,4,e,i)},useInsertionEffect:function(e,i){Mo(4,2,e,i)},useMemo:function(e,i){var s=_t();i=i===void 0?null:i;var l=e();if(Fi){Zn(!0);try{e()}finally{Zn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(e,i,s){var l=_t();if(s!==void 0){var h=s(i);if(Fi){Zn(!0);try{s(i)}finally{Zn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=o_.bind(null,be,e),[l.memoizedState,e]},useRef:function(e){var i=_t();return e={current:e},i.memoizedState=e},useState:function(e){e=jc(e);var i=e.queue,s=o0.bind(null,be,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:Cc,useDeferredValue:function(e,i){var s=_t();return Rc(s,e,i)},useTransition:function(){var e=jc(!1);return e=n0.bind(null,be,e.queue,!0,!1),_t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var l=be,h=_t();if(Te){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Le===null)throw Error(a(349));(Ee&127)!==0||Op(l,i,s)}h.memoizedState=s;var m={value:s,getSnapshot:i};return h.queue=m,Yp(Dp.bind(null,l,m,e),[e]),l.flags|=2048,zr(9,{destroy:void 0},kp.bind(null,l,m,s,i),null),s},useId:function(){var e=_t(),i=Le.identifierPrefix;if(Te){var s=bn,l=vn;s=(l&~(1<<32-Lt(l)-1)).toString(32)+s,i="_"+i+"R_"+s,s=No++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=e_++,i="_"+i+"r_"+s.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Oc,useFormState:qp,useActionState:qp,useOptimistic:function(e){var i=_t();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=kc.bind(null,be,!0,s),s.dispatch=i,[e,i]},useMemoCache:_c,useCacheRefresh:function(){return _t().memoizedState=s_.bind(null,be)},useEffectEvent:function(e){var i=_t(),s={impl:e};return i.memoizedState=s,function(){if((Re&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Dc={readContext:dt,use:ko,useCallback:Qp,useContext:dt,useEffect:Ac,useImperativeHandle:Jp,useInsertionEffect:Wp,useLayoutEffect:Xp,useMemo:e0,useReducer:Do,useRef:Fp,useState:function(){return Do(Dn)},useDebugValue:Cc,useDeferredValue:function(e,i){var s=Xe();return t0(s,De.memoizedState,e,i)},useTransition:function(){var e=Do(Dn)[0],i=Xe().memoizedState;return[typeof e=="boolean"?e:Ya(e),i]},useSyncExternalStore:Np,useId:a0,useHostTransitionStatus:Oc,useFormState:$p,useActionState:$p,useOptimistic:function(e,i){var s=Xe();return Lp(s,De,e,i)},useMemoCache:_c,useCacheRefresh:s0};Dc.useEffectEvent=Kp;var h0={readContext:dt,use:ko,useCallback:Qp,useContext:dt,useEffect:Ac,useImperativeHandle:Jp,useInsertionEffect:Wp,useLayoutEffect:Xp,useMemo:e0,useReducer:Ec,useRef:Fp,useState:function(){return Ec(Dn)},useDebugValue:Cc,useDeferredValue:function(e,i){var s=Xe();return De===null?Rc(s,e,i):t0(s,De.memoizedState,e,i)},useTransition:function(){var e=Ec(Dn)[0],i=Xe().memoizedState;return[typeof e=="boolean"?e:Ya(e),i]},useSyncExternalStore:Np,useId:a0,useHostTransitionStatus:Oc,useFormState:Gp,useActionState:Gp,useOptimistic:function(e,i){var s=Xe();return De!==null?Lp(s,De,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:_c,useCacheRefresh:s0};h0.useEffectEvent=Kp;function Mc(e,i,s,l){i=e.memoizedState,s=s(l,i),s=s==null?i:v({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var zc={enqueueSetState:function(e,i,s){e=e._reactInternals;var l=$t(),h=ai(l);h.payload=i,s!=null&&(h.callback=s),i=si(e,h,l),i!==null&&(Nt(i,e,l),$a(i,e,l))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var l=$t(),h=ai(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=si(e,h,l),i!==null&&(Nt(i,e,l),$a(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=$t(),l=ai(s);l.tag=2,i!=null&&(l.callback=i),i=si(e,l,s),i!==null&&(Nt(i,e,s),$a(i,e,s))}};function d0(e,i,s,l,h,m,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,m,b):i.prototype&&i.prototype.isPureReactComponent?!za(s,l)||!za(h,m):!0}function f0(e,i,s,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==e&&zc.enqueueReplaceState(i,i.state,null)}function Yi(e,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(e=e.defaultProps){s===i&&(s=v({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function m0(e){mo(e)}function p0(e){console.error(e)}function g0(e){mo(e)}function Uo(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function y0(e,i,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lc(e,i,s){return s=ai(s),s.tag=3,s.payload={element:null},s.callback=function(){Uo(e,i)},s}function v0(e){return e=ai(e),e.tag=3,e}function b0(e,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;e.payload=function(){return h(m)},e.callback=function(){y0(i,s,l)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){y0(i,s,l),typeof h!="function"&&(di===null?di=new Set([this]):di.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function l_(e,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Ar(i,s,h,!0),s=Bt.current,s!==null){switch(s.tag){case 31:case 13:return Jt===null?Wo():s.alternate===null&&Fe===0&&(Fe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Eo?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),oh(e,l,h)),!1;case 22:return s.flags|=65536,l===Eo?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),oh(e,l,h)),!1}throw Error(a(435,s.tag))}return oh(e,l,h),Wo(),!1}if(Te)return i=Bt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==tc&&(e=Error(a(422),{cause:l}),Pa(Kt(e,s)))):(l!==tc&&(i=Error(a(423),{cause:l}),Pa(Kt(i,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Kt(l,s),h=Lc(e.stateNode,l,h),dc(e,h),Fe!==4&&(Fe=2)),!1;var m=Error(a(520),{cause:l});if(m=Kt(m,s),is===null?is=[m]:is.push(m),Fe!==4&&(Fe=2),i===null)return!0;l=Kt(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Lc(s.stateNode,l,e),dc(s,e),!1;case 1:if(i=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(di===null||!di.has(m))))return s.flags|=65536,h&=-h,s.lanes|=h,h=v0(h),b0(h,e,s,l),dc(s,h),!1}s=s.return}while(s!==null);return!1}var Uc=Error(a(461)),et=!1;function ft(e,i,s,l){i.child=e===null?Sp(i,null,s,l):Gi(i,e.child,s,l)}function w0(e,i,s,l,h){s=s.render;var m=i.ref;if("ref"in l){var b={};for(var S in l)S!=="ref"&&(b[S]=l[S])}else b=l;return Hi(i),l=vc(e,i,s,b,m,h),S=bc(),e!==null&&!et?(wc(e,i,h),Mn(e,i,h)):(Te&&S&&Qu(i),i.flags|=1,ft(e,i,l,h),i.child)}function x0(e,i,s,l,h){if(e===null){var m=s.type;return typeof m=="function"&&!Xu(m)&&m.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=m,_0(e,i,m,l,h)):(e=vo(s.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(m=e.child,!Gc(e,h)){var b=m.memoizedProps;if(s=s.compare,s=s!==null?s:za,s(b,l)&&e.ref===i.ref)return Mn(e,i,h)}return i.flags|=1,e=Cn(m,l),e.ref=i.ref,e.return=i,i.child=e}function _0(e,i,s,l,h){if(e!==null){var m=e.memoizedProps;if(za(m,l)&&e.ref===i.ref)if(et=!1,i.pendingProps=l=m,Gc(e,h))(e.flags&131072)!==0&&(et=!0);else return i.lanes=e.lanes,Mn(e,i,h)}return Pc(e,i,s,l,h)}function S0(e,i,s,l){var h=l.children,m=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~m}else l=0,i.child=null;return E0(e,i,m,s,l)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&_o(i,m!==null?m.cachePool:null),m!==null?Tp(i,m):mc(),Ap(i);else return l=i.lanes=536870912,E0(e,i,m!==null?m.baseLanes|s:s,s,l)}else m!==null?(_o(i,m.cachePool),Tp(i,m),li(),i.memoizedState=null):(e!==null&&_o(i,null),mc(),li());return ft(e,i,h,s),i.child}function Xa(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function E0(e,i,s,l,h){var m=lc();return m=m===null?null:{parent:Je._currentValue,pool:m},i.memoizedState={baseLanes:s,cachePool:m},e!==null&&_o(i,null),mc(),Ap(i),e!==null&&Ar(e,i,l,!0),i.childLanes=h,null}function Po(e,i){return i=Vo({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function j0(e,i,s){return Gi(i,e.child,null,s),e=Po(i,i.pendingProps),e.flags|=2,Vt(i),i.memoizedState=null,e}function u_(e,i,s){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Te){if(l.mode==="hidden")return e=Po(i,l),i.lanes=536870912,Xa(null,e);if(gc(i),(e=Pe)?(e=Ug(e,Zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:ei!==null?{id:vn,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},s=lp(e),s.return=i,i.child=s,ht=i,Pe=null)):e=null,e===null)throw ni(i);return i.lanes=536870912,null}return Po(i,l)}var m=e.memoizedState;if(m!==null){var b=m.dehydrated;if(gc(i),h)if(i.flags&256)i.flags&=-257,i=j0(e,i,s);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if(et||Ar(e,i,s,!1),h=(s&e.childLanes)!==0,et||h){if(l=Le,l!==null&&(b=pm(l,s),b!==0&&b!==m.retryLane))throw m.retryLane=b,Ui(e,b),Nt(l,e,b),Uc;Wo(),i=j0(e,i,s)}else e=m.treeContext,Pe=Qt(b.nextSibling),ht=i,Te=!0,ti=null,Zt=!1,e!==null&&hp(i,e),i=Po(i,l),i.flags|=4096;return i}return e=Cn(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Bo(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function Pc(e,i,s,l,h){return Hi(i),s=vc(e,i,s,l,void 0,h),l=bc(),e!==null&&!et?(wc(e,i,h),Mn(e,i,h)):(Te&&l&&Qu(i),i.flags|=1,ft(e,i,s,h),i.child)}function T0(e,i,s,l,h,m){return Hi(i),i.updateQueue=null,s=Rp(i,l,s,h),Cp(e),l=bc(),e!==null&&!et?(wc(e,i,m),Mn(e,i,m)):(Te&&l&&Qu(i),i.flags|=1,ft(e,i,s,m),i.child)}function A0(e,i,s,l,h){if(Hi(i),i.stateNode===null){var m=Sr,b=s.contextType;typeof b=="object"&&b!==null&&(m=dt(b)),m=new s(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=zc,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},cc(i),b=s.contextType,m.context=typeof b=="object"&&b!==null?dt(b):Sr,m.state=i.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(Mc(i,s,b,l),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&zc.enqueueReplaceState(m,m.state,null),Ga(i,l,m,h),Ia(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){m=i.stateNode;var S=i.memoizedProps,N=Yi(s,S);m.props=N;var L=m.context,q=s.contextType;b=Sr,typeof q=="object"&&q!==null&&(b=dt(q));var K=s.getDerivedStateFromProps;q=typeof K=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,q||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||L!==b)&&f0(i,m,l,b),ri=!1;var U=i.memoizedState;m.state=U,Ga(i,l,m,h),Ia(),L=i.memoizedState,S||U!==L||ri?(typeof K=="function"&&(Mc(i,s,K,l),L=i.memoizedState),(N=ri||d0(i,s,N,l,U,L,b))?(q||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),m.props=l,m.state=L,m.context=b,l=N):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,hc(e,i),b=i.memoizedProps,q=Yi(s,b),m.props=q,K=i.pendingProps,U=m.context,L=s.contextType,N=Sr,typeof L=="object"&&L!==null&&(N=dt(L)),S=s.getDerivedStateFromProps,(L=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==K||U!==N)&&f0(i,m,l,N),ri=!1,U=i.memoizedState,m.state=U,Ga(i,l,m,h),Ia();var H=i.memoizedState;b!==K||U!==H||ri||e!==null&&e.dependencies!==null&&wo(e.dependencies)?(typeof S=="function"&&(Mc(i,s,S,l),H=i.memoizedState),(q=ri||d0(i,s,q,l,U,H,N)||e!==null&&e.dependencies!==null&&wo(e.dependencies))?(L||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,H,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,H,N)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&U===e.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&U===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),m.props=l,m.state=H,m.context=N,l=q):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&U===e.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&U===e.memoizedState||(i.flags|=1024),l=!1)}return m=l,Bo(e,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,e!==null&&l?(i.child=Gi(i,e.child,null,h),i.child=Gi(i,null,s,h)):ft(e,i,s,h),i.memoizedState=m.state,e=i.child):e=Mn(e,i,h),e}function C0(e,i,s,l){return Bi(),i.flags|=256,ft(e,i,s,l),i.child}var Bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vc(e){return{baseLanes:e,cachePool:yp()}}function Hc(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=qt),e}function R0(e,i,s){var l=i.pendingProps,h=!1,m=(i.flags&128)!==0,b;if((b=m)||(b=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),b&&(h=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,e===null){if(Te){if(h?oi(i):li(),(e=Pe)?(e=Ug(e,Zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:ei!==null?{id:vn,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},s=lp(e),s.return=i,i.child=s,ht=i,Pe=null)):e=null,e===null)throw ni(i);return Sh(e)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(li(),h=i.mode,S=Vo({mode:"hidden",children:S},h),l=Pi(l,h,s,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Vc(s),l.childLanes=Hc(e,b,s),i.memoizedState=Bc,Xa(null,l)):(oi(i),qc(i,S))}var N=e.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(m)i.flags&256?(oi(i),i.flags&=-257,i=$c(e,i,s)):i.memoizedState!==null?(li(),i.child=e.child,i.flags|=128,i=null):(li(),S=l.fallback,h=i.mode,l=Vo({mode:"visible",children:l.children},h),S=Pi(S,h,s,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Gi(i,e.child,null,s),l=i.child,l.memoizedState=Vc(s),l.childLanes=Hc(e,b,s),i.memoizedState=Bc,i=Xa(null,l));else if(oi(i),Sh(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var L=b.dgst;b=L,l=Error(a(419)),l.stack="",l.digest=b,Pa({value:l,source:null,stack:null}),i=$c(e,i,s)}else if(et||Ar(e,i,s,!1),b=(s&e.childLanes)!==0,et||b){if(b=Le,b!==null&&(l=pm(b,s),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ui(e,l),Nt(b,e,l),Uc;_h(S)||Wo(),i=$c(e,i,s)}else _h(S)?(i.flags|=192,i.child=e.child,i=null):(e=N.treeContext,Pe=Qt(S.nextSibling),ht=i,Te=!0,ti=null,Zt=!1,e!==null&&hp(i,e),i=qc(i,l.children),i.flags|=4096);return i}return h?(li(),S=l.fallback,h=i.mode,N=e.child,L=N.sibling,l=Cn(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,L!==null?S=Cn(L,S):(S=Pi(S,h,s,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Xa(null,l),l=i.child,S=e.child.memoizedState,S===null?S=Vc(s):(h=S.cachePool,h!==null?(N=Je._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=yp(),S={baseLanes:S.baseLanes|s,cachePool:h}),l.memoizedState=S,l.childLanes=Hc(e,b,s),i.memoizedState=Bc,Xa(e.child,l)):(oi(i),s=e.child,e=s.sibling,s=Cn(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,e!==null&&(b=i.deletions,b===null?(i.deletions=[e],i.flags|=16):b.push(e)),i.child=s,i.memoizedState=null,s)}function qc(e,i){return i=Vo({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Vo(e,i){return e=Pt(22,e,null,i),e.lanes=0,e}function $c(e,i,s){return Gi(i,e.child,null,s),e=qc(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function N0(e,i,s){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),rc(e.return,i,s)}function Ic(e,i,s,l,h,m){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:m}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=s,b.tailMode=h,b.treeForkCount=m)}function O0(e,i,s){var l=i.pendingProps,h=l.revealOrder,m=l.tail;l=l.children;var b=We.current,S=(b&2)!==0;if(S?(b=b&1|2,i.flags|=128):b&=1,te(We,b),ft(e,i,l,s),l=Te?Ua:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&N0(e,s,i);else if(e.tag===19)N0(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)e=s.alternate,e!==null&&Co(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Ic(i,!1,h,s,m,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Co(e)===null){i.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Ic(i,!0,s,null,m,l);break;case"together":Ic(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Mn(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),hi|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(Ar(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,s=Cn(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=Cn(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function Gc(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&wo(e)))}function c_(e,i,s){switch(i.tag){case 3:xt(i,i.stateNode.containerInfo),ii(i,Je,e.memoizedState.cache),Bi();break;case 27:case 5:_a(i);break;case 4:xt(i,i.stateNode.containerInfo);break;case 10:ii(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,gc(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(oi(i),i.flags|=128,null):(s&i.child.childLanes)!==0?R0(e,i,s):(oi(i),e=Mn(e,i,s),e!==null?e.sibling:null);oi(i);break;case 19:var h=(e.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Ar(e,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return O0(e,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(We,We.current),l)break;return null;case 22:return i.lanes=0,S0(e,i,s,i.pendingProps);case 24:ii(i,Je,e.memoizedState.cache)}return Mn(e,i,s)}function k0(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)et=!0;else{if(!Gc(e,s)&&(i.flags&128)===0)return et=!1,c_(e,i,s);et=(e.flags&131072)!==0}else et=!1,Te&&(i.flags&1048576)!==0&&cp(i,Ua,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(e=$i(i.elementType),i.type=e,typeof e=="function")Xu(e)?(l=Yi(e,l),i.tag=1,i=A0(null,i,e,l,s)):(i.tag=0,i=Pc(null,i,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===M){i.tag=11,i=w0(null,i,e,l,s);break e}else if(h===V){i.tag=14,i=x0(null,i,e,l,s);break e}}throw i=ee(e)||e,Error(a(306,i,""))}}return i;case 0:return Pc(e,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=Yi(l,i.pendingProps),A0(e,i,l,h,s);case 3:e:{if(xt(i,i.stateNode.containerInfo),e===null)throw Error(a(387));l=i.pendingProps;var m=i.memoizedState;h=m.element,hc(e,i),Ga(i,l,null,s);var b=i.memoizedState;if(l=b.cache,ii(i,Je,l),l!==m.cache&&ac(i,[Je],s,!0),Ia(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=C0(e,i,l,s);break e}else if(l!==h){h=Kt(Error(a(424)),i),Pa(h),i=C0(e,i,l,s);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pe=Qt(e.firstChild),ht=i,Te=!0,ti=null,Zt=!0,s=Sp(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Bi(),l===h){i=Mn(e,i,s);break e}ft(e,i,l,s)}i=i.child}return i;case 26:return Bo(e,i),e===null?(s=$g(i.type,null,i.pendingProps,null))?i.memoizedState=s:Te||(s=i.type,e=i.pendingProps,l=nl(xe.current).createElement(s),l[ct]=i,l[Et]=e,mt(l,s,e),lt(l),i.stateNode=l):i.memoizedState=$g(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return _a(i),e===null&&Te&&(l=i.stateNode=Vg(i.type,i.pendingProps,xe.current),ht=i,Zt=!0,h=Pe,gi(i.type)?(Eh=h,Pe=Qt(l.firstChild)):Pe=h),ft(e,i,i.pendingProps.children,s),Bo(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Te&&((h=l=Pe)&&(l=V_(l,i.type,i.pendingProps,Zt),l!==null?(i.stateNode=l,ht=i,Pe=Qt(l.firstChild),Zt=!1,h=!0):h=!1),h||ni(i)),_a(i),h=i.type,m=i.pendingProps,b=e!==null?e.memoizedProps:null,l=m.children,bh(h,m)?l=null:b!==null&&bh(h,b)&&(i.flags|=32),i.memoizedState!==null&&(h=vc(e,i,t_,null,null,s),hs._currentValue=h),Bo(e,i),ft(e,i,l,s),i.child;case 6:return e===null&&Te&&((e=s=Pe)&&(s=H_(s,i.pendingProps,Zt),s!==null?(i.stateNode=s,ht=i,Pe=null,e=!0):e=!1),e||ni(i)),null;case 13:return R0(e,i,s);case 4:return xt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Gi(i,null,l,s):ft(e,i,l,s),i.child;case 11:return w0(e,i,i.type,i.pendingProps,s);case 7:return ft(e,i,i.pendingProps,s),i.child;case 8:return ft(e,i,i.pendingProps.children,s),i.child;case 12:return ft(e,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,ii(i,i.type,l.value),ft(e,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Hi(i),h=dt(h),l=l(h),i.flags|=1,ft(e,i,l,s),i.child;case 14:return x0(e,i,i.type,i.pendingProps,s);case 15:return _0(e,i,i.type,i.pendingProps,s);case 19:return O0(e,i,s);case 31:return u_(e,i,s);case 22:return S0(e,i,s,i.pendingProps);case 24:return Hi(i),l=dt(Je),e===null?(h=lc(),h===null&&(h=Le,m=sc(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=s),h=m),i.memoizedState={parent:l,cache:h},cc(i),ii(i,Je,h)):((e.lanes&s)!==0&&(hc(e,i),Ga(i,null,null,s),Ia()),h=e.memoizedState,m=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ii(i,Je,l)):(l=m.cache,ii(i,Je,l),l!==h.cache&&ac(i,[Je],s,!0))),ft(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function zn(e){e.flags|=4}function Fc(e,i,s,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(ag())e.flags|=8192;else throw Ii=Eo,uc}else e.flags&=-16777217}function D0(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Kg(i))if(ag())e.flags|=8192;else throw Ii=Eo,uc}function Ho(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?dm():536870912,e.lanes|=i,Br|=i)}function Za(e,i){if(!Te)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Be(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(i)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,i}function h_(e,i,s){var l=i.pendingProps;switch(ec(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(i),null;case 1:return Be(i),null;case 3:return s=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),On(Je),Ke(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Tr(i)?zn(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,nc())),Be(i),null;case 26:var h=i.type,m=i.memoizedState;return e===null?(zn(i),m!==null?(Be(i),D0(i,m)):(Be(i),Fc(i,h,null,l,s))):m?m!==e.memoizedState?(zn(i),Be(i),D0(i,m)):(Be(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&zn(i),Be(i),Fc(i,h,e,l,s)),null;case 27:if(Zs(i),s=xe.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&zn(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Be(i),null}e=se.current,Tr(i)?dp(i):(e=Vg(h,l,s),i.stateNode=e,zn(i))}return Be(i),null;case 5:if(Zs(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&zn(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Be(i),null}if(m=se.current,Tr(i))dp(i);else{var b=nl(xe.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?b.createElement(h,{is:l.is}):b.createElement(h)}}m[ct]=i,m[Et]=l;e:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break e;for(;b.sibling===null;){if(b.return===null||b.return===i)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=m;e:switch(mt(m,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&zn(i)}}return Be(i),Fc(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,s),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&zn(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(e=xe.current,Tr(i)){if(e=i.stateNode,s=i.memoizedProps,l=null,h=ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ct]=i,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Rg(e.nodeValue,s)),e||ni(i,!0)}else e=nl(e).createTextNode(l),e[ct]=i,i.stateNode=e}return Be(i),null;case 31:if(s=i.memoizedState,e===null||e.memoizedState!==null){if(l=Tr(i),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ct]=i}else Bi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Be(i),e=!1}else s=nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return i.flags&256?(Vt(i),i):(Vt(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Be(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Tr(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ct]=i}else Bi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Be(i),h=!1}else h=nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Vt(i),i):(Vt(i),null)}return Vt(i),(i.flags&128)!==0?(i.lanes=s,i):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)),s!==e&&s&&(i.child.flags|=8192),Ho(i,i.updateQueue),Be(i),null);case 4:return Ke(),e===null&&mh(i.stateNode.containerInfo),Be(i),null;case 10:return On(i.type),Be(i),null;case 19:if(G(We),l=i.memoizedState,l===null)return Be(i),null;if(h=(i.flags&128)!==0,m=l.rendering,m===null)if(h)Za(l,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(m=Co(e),m!==null){for(i.flags|=128,Za(l,!1),e=m.updateQueue,i.updateQueue=e,Ho(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)op(s,e),s=s.sibling;return te(We,We.current&1|2),Te&&Rn(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&Mt()>Fo&&(i.flags|=128,h=!0,Za(l,!1),i.lanes=4194304)}else{if(!h)if(e=Co(m),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,Ho(i,e),Za(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Te)return Be(i),null}else 2*Mt()-l.renderingStartTime>Fo&&s!==536870912&&(i.flags|=128,h=!0,Za(l,!1),i.lanes=4194304);l.isBackwards?(m.sibling=i.child,i.child=m):(e=l.last,e!==null?e.sibling=m:i.child=m,l.last=m)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Mt(),e.sibling=null,s=We.current,te(We,h?s&1|2:s&1),Te&&Rn(i,l.treeForkCount),e):(Be(i),null);case 22:case 23:return Vt(i),pc(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Be(i),i.subtreeFlags&6&&(i.flags|=8192)):Be(i),s=i.updateQueue,s!==null&&Ho(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),e!==null&&G(qi),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),On(Je),Be(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function d_(e,i){switch(ec(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return On(Je),Ke(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Zs(i),null;case 31:if(i.memoizedState!==null){if(Vt(i),i.alternate===null)throw Error(a(340));Bi()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Vt(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Bi()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return G(We),null;case 4:return Ke(),null;case 10:return On(i.type),null;case 22:case 23:return Vt(i),pc(),e!==null&&G(qi),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return On(Je),null;case 25:return null;default:return null}}function M0(e,i){switch(ec(i),i.tag){case 3:On(Je),Ke();break;case 26:case 27:case 5:Zs(i);break;case 4:Ke();break;case 31:i.memoizedState!==null&&Vt(i);break;case 13:Vt(i);break;case 19:G(We);break;case 10:On(i.type);break;case 22:case 23:Vt(i),pc(),e!==null&&G(qi);break;case 24:On(Je)}}function Ja(e,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var m=s.create,b=s.inst;l=m(),b.destroy=l}s=s.next}while(s!==h)}}catch(S){ke(i,i.return,S)}}function ui(e,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&e)===e){var b=l.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,h=i;var N=s,L=S;try{L()}catch(q){ke(h,N,q)}}}l=l.next}while(l!==m)}}catch(q){ke(i,i.return,q)}}function z0(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{jp(i,s)}catch(l){ke(e,e.return,l)}}}function L0(e,i,s){s.props=Yi(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){ke(e,i,l)}}function Qa(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){ke(e,i,h)}}function wn(e,i){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){ke(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ke(e,i,h)}else s.current=null}function U0(e){var i=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){ke(e,e.return,h)}}function Yc(e,i,s){try{var l=e.stateNode;M_(l,e.type,s,i),l[Et]=i}catch(h){ke(e,e.return,h)}}function P0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gi(e.type)||e.tag===4}function Kc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||P0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wc(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Tn));else if(l!==4&&(l===27&&gi(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(Wc(e,i,s),e=e.sibling;e!==null;)Wc(e,i,s),e=e.sibling}function qo(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(l!==4&&(l===27&&gi(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(qo(e,i,s),e=e.sibling;e!==null;)qo(e,i,s),e=e.sibling}function B0(e){var i=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);mt(i,l,s),i[ct]=e,i[Et]=s}catch(m){ke(e,e.return,m)}}var Ln=!1,tt=!1,Xc=!1,V0=typeof WeakSet=="function"?WeakSet:Set,ut=null;function f_(e,i){if(e=e.containerInfo,yh=ul,e=Jm(e),$u(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var b=0,S=-1,N=-1,L=0,q=0,K=e,U=null;t:for(;;){for(var H;K!==s||h!==0&&K.nodeType!==3||(S=b+h),K!==m||l!==0&&K.nodeType!==3||(N=b+l),K.nodeType===3&&(b+=K.nodeValue.length),(H=K.firstChild)!==null;)U=K,K=H;for(;;){if(K===e)break t;if(U===s&&++L===h&&(S=b),U===m&&++q===l&&(N=b),(H=K.nextSibling)!==null)break;K=U,U=K.parentNode}K=H}s=S===-1||N===-1?null:{start:S,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(vh={focusedElem:e,selectionRange:s},ul=!1,ut=i;ut!==null;)if(i=ut,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ut=e;else for(;ut!==null;){switch(i=ut,m=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,s=i,h=m.memoizedProps,m=m.memoizedState,l=s.stateNode;try{var re=Yi(s.type,h);e=l.getSnapshotBeforeUpdate(re,m),l.__reactInternalSnapshotBeforeUpdate=e}catch(ce){ke(s,s.return,ce)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)xh(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,ut=e;break}ut=i.return}}function H0(e,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Pn(e,s),l&4&&Ja(5,s);break;case 1:if(Pn(e,s),l&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(b){ke(s,s.return,b)}else{var h=Yi(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(b){ke(s,s.return,b)}}l&64&&z0(s),l&512&&Qa(s,s.return);break;case 3:if(Pn(e,s),l&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{jp(e,i)}catch(b){ke(s,s.return,b)}}break;case 27:i===null&&l&4&&B0(s);case 26:case 5:Pn(e,s),i===null&&l&4&&U0(s),l&512&&Qa(s,s.return);break;case 12:Pn(e,s);break;case 31:Pn(e,s),l&4&&I0(e,s);break;case 13:Pn(e,s),l&4&&G0(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=__.bind(null,s),q_(e,s))));break;case 22:if(l=s.memoizedState!==null||Ln,!l){i=i!==null&&i.memoizedState!==null||tt,h=Ln;var m=tt;Ln=l,(tt=i)&&!m?Bn(e,s,(s.subtreeFlags&8772)!==0):Pn(e,s),Ln=h,tt=m}break;case 30:break;default:Pn(e,s)}}function q0(e){var i=e.alternate;i!==null&&(e.alternate=null,q0(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Tu(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,Tt=!1;function Un(e,i,s){for(s=s.child;s!==null;)$0(e,i,s),s=s.sibling}function $0(e,i,s){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Sa,s)}catch{}switch(s.tag){case 26:tt||wn(s,i),Un(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:tt||wn(s,i);var l=Ve,h=Tt;gi(s.type)&&(Ve=s.stateNode,Tt=!1),Un(e,i,s),ls(s.stateNode),Ve=l,Tt=h;break;case 5:tt||wn(s,i);case 6:if(l=Ve,h=Tt,Ve=null,Un(e,i,s),Ve=l,Tt=h,Ve!==null)if(Tt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(s.stateNode)}catch(m){ke(s,i,m)}else try{Ve.removeChild(s.stateNode)}catch(m){ke(s,i,m)}break;case 18:Ve!==null&&(Tt?(e=Ve,zg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Yr(e)):zg(Ve,s.stateNode));break;case 4:l=Ve,h=Tt,Ve=s.stateNode.containerInfo,Tt=!0,Un(e,i,s),Ve=l,Tt=h;break;case 0:case 11:case 14:case 15:ui(2,s,i),tt||ui(4,s,i),Un(e,i,s);break;case 1:tt||(wn(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&L0(s,i,l)),Un(e,i,s);break;case 21:Un(e,i,s);break;case 22:tt=(l=tt)||s.memoizedState!==null,Un(e,i,s),tt=l;break;default:Un(e,i,s)}}function I0(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Yr(e)}catch(s){ke(i,i.return,s)}}}function G0(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Yr(e)}catch(s){ke(i,i.return,s)}}function m_(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new V0),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new V0),i;default:throw Error(a(435,e.tag))}}function $o(e,i){var s=m_(e);i.forEach(function(l){if(!s.has(l)){s.add(l);var h=S_.bind(null,e,l);l.then(h,h)}})}function At(e,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],m=e,b=i,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(gi(S.type)){Ve=S.stateNode,Tt=!1;break e}break;case 5:Ve=S.stateNode,Tt=!1;break e;case 3:case 4:Ve=S.stateNode.containerInfo,Tt=!0;break e}S=S.return}if(Ve===null)throw Error(a(160));$0(m,b,h),Ve=null,Tt=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)F0(i,e),i=i.sibling}var un=null;function F0(e,i){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(i,e),Ct(e),l&4&&(ui(3,e,e.return),Ja(3,e),ui(5,e,e.return));break;case 1:At(i,e),Ct(e),l&512&&(tt||s===null||wn(s,s.return)),l&64&&Ln&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=un;if(At(i,e),Ct(e),l&512&&(tt||s===null||wn(s,s.return)),l&4){var m=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Ta]||m[ct]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),mt(m,l,s),m[ct]=e,lt(m),l=m;break e;case"link":var b=Fg("link","href",h).get(l+(s.href||""));if(b){for(var S=0;S<b.length;S++)if(m=b[S],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(S,1);break t}}m=h.createElement(l),mt(m,l,s),h.head.appendChild(m);break;case"meta":if(b=Fg("meta","content",h).get(l+(s.content||""))){for(S=0;S<b.length;S++)if(m=b[S],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(S,1);break t}}m=h.createElement(l),mt(m,l,s),h.head.appendChild(m);break;default:throw Error(a(468,l))}m[ct]=e,lt(m),l=m}e.stateNode=l}else Yg(h,e.type,e.stateNode);else e.stateNode=Gg(h,l,e.memoizedProps);else m!==l?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,l===null?Yg(h,e.type,e.stateNode):Gg(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Yc(e,e.memoizedProps,s.memoizedProps)}break;case 27:At(i,e),Ct(e),l&512&&(tt||s===null||wn(s,s.return)),s!==null&&l&4&&Yc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(At(i,e),Ct(e),l&512&&(tt||s===null||wn(s,s.return)),e.flags&32){h=e.stateNode;try{gr(h,"")}catch(re){ke(e,e.return,re)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Yc(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Xc=!0);break;case 6:if(At(i,e),Ct(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(re){ke(e,e.return,re)}}break;case 3:if(al=null,h=un,un=il(i.containerInfo),At(i,e),un=h,Ct(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Yr(i.containerInfo)}catch(re){ke(e,e.return,re)}Xc&&(Xc=!1,Y0(e));break;case 4:l=un,un=il(e.stateNode.containerInfo),At(i,e),Ct(e),un=l;break;case 12:At(i,e),Ct(e);break;case 31:At(i,e),Ct(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$o(e,l)));break;case 13:At(i,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Go=Mt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$o(e,l)));break;case 22:h=e.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,L=Ln,q=tt;if(Ln=L||h,tt=q||N,At(i,e),tt=q,Ln=L,Ct(e),l&8192)e:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||N||Ln||tt||Ki(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){N=s=i;try{if(m=N.stateNode,h)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=N.stateNode;var K=N.memoizedProps.style,U=K!=null&&K.hasOwnProperty("display")?K.display:null;S.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(re){ke(N,N.return,re)}}}else if(i.tag===6){if(s===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(re){ke(N,N.return,re)}}}else if(i.tag===18){if(s===null){N=i;try{var H=N.stateNode;h?Lg(H,!0):Lg(N.stateNode,!1)}catch(re){ke(N,N.return,re)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,$o(e,s))));break;case 19:At(i,e),Ct(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$o(e,l)));break;case 30:break;case 21:break;default:At(i,e),Ct(e)}}function Ct(e){var i=e.flags;if(i&2){try{for(var s,l=e.return;l!==null;){if(P0(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,m=Kc(e);qo(e,m,h);break;case 5:var b=s.stateNode;s.flags&32&&(gr(b,""),s.flags&=-33);var S=Kc(e);qo(e,S,b);break;case 3:case 4:var N=s.stateNode.containerInfo,L=Kc(e);Wc(e,L,N);break;default:throw Error(a(161))}}catch(q){ke(e,e.return,q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Y0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Y0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Pn(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)H0(e,i.alternate,i),i=i.sibling}function Ki(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ui(4,i,i.return),Ki(i);break;case 1:wn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&L0(i,i.return,s),Ki(i);break;case 27:ls(i.stateNode);case 26:case 5:wn(i,i.return),Ki(i);break;case 22:i.memoizedState===null&&Ki(i);break;case 30:Ki(i);break;default:Ki(i)}e=e.sibling}}function Bn(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,m=i,b=m.flags;switch(m.tag){case 0:case 11:case 15:Bn(h,m,s),Ja(4,m);break;case 1:if(Bn(h,m,s),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){ke(l,l.return,L)}if(l=m,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Ep(N[h],S)}catch(L){ke(l,l.return,L)}}s&&b&64&&z0(m),Qa(m,m.return);break;case 27:B0(m);case 26:case 5:Bn(h,m,s),s&&l===null&&b&4&&U0(m),Qa(m,m.return);break;case 12:Bn(h,m,s);break;case 31:Bn(h,m,s),s&&b&4&&I0(h,m);break;case 13:Bn(h,m,s),s&&b&4&&G0(h,m);break;case 22:m.memoizedState===null&&Bn(h,m,s),Qa(m,m.return);break;case 30:break;default:Bn(h,m,s)}i=i.sibling}}function Zc(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ba(s))}function Jc(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ba(e))}function cn(e,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)K0(e,i,s,l),i=i.sibling}function K0(e,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:cn(e,i,s,l),h&2048&&Ja(9,i);break;case 1:cn(e,i,s,l);break;case 3:cn(e,i,s,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ba(e)));break;case 12:if(h&2048){cn(e,i,s,l),e=i.stateNode;try{var m=i.memoizedProps,b=m.id,S=m.onPostCommit;typeof S=="function"&&S(b,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){ke(i,i.return,N)}}else cn(e,i,s,l);break;case 31:cn(e,i,s,l);break;case 13:cn(e,i,s,l);break;case 23:break;case 22:m=i.stateNode,b=i.alternate,i.memoizedState!==null?m._visibility&2?cn(e,i,s,l):es(e,i):m._visibility&2?cn(e,i,s,l):(m._visibility|=2,Lr(e,i,s,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Zc(b,i);break;case 24:cn(e,i,s,l),h&2048&&Jc(i.alternate,i);break;default:cn(e,i,s,l)}}function Lr(e,i,s,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=e,b=i,S=s,N=l,L=b.flags;switch(b.tag){case 0:case 11:case 15:Lr(m,b,S,N,h),Ja(8,b);break;case 23:break;case 22:var q=b.stateNode;b.memoizedState!==null?q._visibility&2?Lr(m,b,S,N,h):es(m,b):(q._visibility|=2,Lr(m,b,S,N,h)),h&&L&2048&&Zc(b.alternate,b);break;case 24:Lr(m,b,S,N,h),h&&L&2048&&Jc(b.alternate,b);break;default:Lr(m,b,S,N,h)}i=i.sibling}}function es(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,l=i,h=l.flags;switch(l.tag){case 22:es(s,l),h&2048&&Zc(l.alternate,l);break;case 24:es(s,l),h&2048&&Jc(l.alternate,l);break;default:es(s,l)}i=i.sibling}}var ts=8192;function Ur(e,i,s){if(e.subtreeFlags&ts)for(e=e.child;e!==null;)W0(e,i,s),e=e.sibling}function W0(e,i,s){switch(e.tag){case 26:Ur(e,i,s),e.flags&ts&&e.memoizedState!==null&&eS(s,un,e.memoizedState,e.memoizedProps);break;case 5:Ur(e,i,s);break;case 3:case 4:var l=un;un=il(e.stateNode.containerInfo),Ur(e,i,s),un=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ts,ts=16777216,Ur(e,i,s),ts=l):Ur(e,i,s));break;default:Ur(e,i,s)}}function X0(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ns(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];ut=l,J0(l,e)}X0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Z0(e),e=e.sibling}function Z0(e){switch(e.tag){case 0:case 11:case 15:ns(e),e.flags&2048&&ui(9,e,e.return);break;case 3:ns(e);break;case 12:ns(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Io(e)):ns(e);break;default:ns(e)}}function Io(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];ut=l,J0(l,e)}X0(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ui(8,i,i.return),Io(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Io(i));break;default:Io(i)}e=e.sibling}}function J0(e,i){for(;ut!==null;){var s=ut;switch(s.tag){case 0:case 11:case 15:ui(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ba(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ut=l;else e:for(s=e;ut!==null;){l=ut;var h=l.sibling,m=l.return;if(q0(l),l===s){ut=null;break e}if(h!==null){h.return=m,ut=h;break e}ut=m}}}var p_={getCacheForType:function(e){var i=dt(Je),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s},cacheSignal:function(){return dt(Je).controller.signal}},g_=typeof WeakMap=="function"?WeakMap:Map,Re=0,Le=null,_e=null,Ee=0,Oe=0,Ht=null,ci=!1,Pr=!1,Qc=!1,Vn=0,Fe=0,hi=0,Wi=0,eh=0,qt=0,Br=0,is=null,Rt=null,th=!1,Go=0,Q0=0,Fo=1/0,Yo=null,di=null,st=0,fi=null,Vr=null,Hn=0,nh=0,ih=null,eg=null,rs=0,rh=null;function $t(){return(Re&2)!==0&&Ee!==0?Ee&-Ee:P.T!==null?ch():gm()}function tg(){if(qt===0)if((Ee&536870912)===0||Te){var e=eo;eo<<=1,(eo&3932160)===0&&(eo=262144),qt=e}else qt=536870912;return e=Bt.current,e!==null&&(e.flags|=32),qt}function Nt(e,i,s){(e===Le&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(Hr(e,0),mi(e,Ee,qt,!1)),ja(e,s),((Re&2)===0||e!==Le)&&(e===Le&&((Re&2)===0&&(Wi|=s),Fe===4&&mi(e,Ee,qt,!1)),xn(e))}function ng(e,i,s){if((Re&6)!==0)throw Error(a(327));var l=!s&&(i&127)===0&&(i&e.expiredLanes)===0||Ea(e,i),h=l?b_(e,i):sh(e,i,!0),m=l;do{if(h===0){Pr&&!l&&mi(e,i,0,!1);break}else{if(s=e.current.alternate,m&&!y_(s)){h=sh(e,i,!1),m=!1;continue}if(h===2){if(m=i,e.errorRecoveryDisabledLanes&m)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var S=e;h=is;var N=S.current.memoizedState.isDehydrated;if(N&&(Hr(S,b).flags|=256),b=sh(S,b,!1),b!==2){if(Qc&&!N){S.errorRecoveryDisabledLanes|=m,Wi|=m,h=4;break e}m=Rt,Rt=h,m!==null&&(Rt===null?Rt=m:Rt.push.apply(Rt,m))}h=b}if(m=!1,h!==2)continue}}if(h===1){Hr(e,0),mi(e,i,0,!0);break}e:{switch(l=e,m=h,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:mi(l,i,qt,!ci);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Go+300-Mt(),10<h)){if(mi(l,i,qt,!ci),no(l,0,!0)!==0)break e;Hn=i,l.timeoutHandle=Dg(ig.bind(null,l,s,Rt,Yo,th,i,qt,Wi,Br,ci,m,"Throttled",-0,0),h);break e}ig(l,s,Rt,Yo,th,i,qt,Wi,Br,ci,m,null,-0,0)}}break}while(!0);xn(e)}function ig(e,i,s,l,h,m,b,S,N,L,q,K,U,H){if(e.timeoutHandle=-1,K=i.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tn},W0(i,m,K);var re=(m&62914560)===m?Go-Mt():(m&4194048)===m?Q0-Mt():0;if(re=tS(K,re),re!==null){Hn=m,e.cancelPendingCommit=re(hg.bind(null,e,i,m,s,l,h,b,S,N,q,K,null,U,H)),mi(e,m,b,!L);return}}hg(e,i,m,s,l,h,b,S,N)}function y_(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],m=h.getSnapshot;h=h.value;try{if(!Ut(m(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function mi(e,i,s,l){i&=~eh,i&=~Wi,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var m=31-Lt(h),b=1<<m;l[m]=-1,h&=~b}s!==0&&fm(e,s,i)}function Ko(){return(Re&6)===0?(as(0),!1):!0}function ah(){if(_e!==null){if(Oe===0)var e=_e.return;else e=_e,Nn=Vi=null,xc(e),Or=null,Ha=0,e=_e;for(;e!==null;)M0(e.alternate,e),e=e.return;_e=null}}function Hr(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,U_(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Hn=0,ah(),Le=e,_e=s=Cn(e.current,null),Ee=i,Oe=0,Ht=null,ci=!1,Pr=Ea(e,i),Qc=!1,Br=qt=eh=Wi=hi=Fe=0,Rt=is=null,th=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Lt(l),m=1<<h;i|=e[h],l&=~m}return Vn=i,po(),s}function rg(e,i){be=null,P.H=Wa,i===Nr||i===So?(i=wp(),Oe=3):i===uc?(i=wp(),Oe=4):Oe=i===Uc?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ht=i,_e===null&&(Fe=1,Uo(e,Kt(i,e.current)))}function ag(){var e=Bt.current;return e===null?!0:(Ee&4194048)===Ee?Jt===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===Jt:!1}function sg(){var e=P.H;return P.H=Wa,e===null?Wa:e}function og(){var e=P.A;return P.A=p_,e}function Wo(){Fe=4,ci||(Ee&4194048)!==Ee&&Bt.current!==null||(Pr=!0),(hi&134217727)===0&&(Wi&134217727)===0||Le===null||mi(Le,Ee,qt,!1)}function sh(e,i,s){var l=Re;Re|=2;var h=sg(),m=og();(Le!==e||Ee!==i)&&(Yo=null,Hr(e,i)),i=!1;var b=Fe;e:do try{if(Oe!==0&&_e!==null){var S=_e,N=Ht;switch(Oe){case 8:ah(),b=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(i=!0);var L=Oe;if(Oe=0,Ht=null,qr(e,S,N,L),s&&Pr){b=0;break e}break;default:L=Oe,Oe=0,Ht=null,qr(e,S,N,L)}}v_(),b=Fe;break}catch(q){rg(e,q)}while(!0);return i&&e.shellSuspendCounter++,Nn=Vi=null,Re=l,P.H=h,P.A=m,_e===null&&(Le=null,Ee=0,po()),b}function v_(){for(;_e!==null;)lg(_e)}function b_(e,i){var s=Re;Re|=2;var l=sg(),h=og();Le!==e||Ee!==i?(Yo=null,Fo=Mt()+500,Hr(e,i)):Pr=Ea(e,i);e:do try{if(Oe!==0&&_e!==null){i=_e;var m=Ht;t:switch(Oe){case 1:Oe=0,Ht=null,qr(e,i,m,1);break;case 2:case 9:if(vp(m)){Oe=0,Ht=null,ug(i);break}i=function(){Oe!==2&&Oe!==9||Le!==e||(Oe=7),xn(e)},m.then(i,i);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:vp(m)?(Oe=0,Ht=null,ug(i)):(Oe=0,Ht=null,qr(e,i,m,7));break;case 5:var b=null;switch(_e.tag){case 26:b=_e.memoizedState;case 5:case 27:var S=_e;if(b?Kg(b):S.stateNode.complete){Oe=0,Ht=null;var N=S.sibling;if(N!==null)_e=N;else{var L=S.return;L!==null?(_e=L,Xo(L)):_e=null}break t}}Oe=0,Ht=null,qr(e,i,m,5);break;case 6:Oe=0,Ht=null,qr(e,i,m,6);break;case 8:ah(),Fe=6;break e;default:throw Error(a(462))}}w_();break}catch(q){rg(e,q)}while(!0);return Nn=Vi=null,P.H=l,P.A=h,Re=s,_e!==null?0:(Le=null,Ee=0,po(),Fe)}function w_(){for(;_e!==null&&!$1();)lg(_e)}function lg(e){var i=k0(e.alternate,e,Vn);e.memoizedProps=e.pendingProps,i===null?Xo(e):_e=i}function ug(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=T0(s,i,i.pendingProps,i.type,void 0,Ee);break;case 11:i=T0(s,i,i.pendingProps,i.type.render,i.ref,Ee);break;case 5:xc(i);default:M0(s,i),i=_e=op(i,Vn),i=k0(s,i,Vn)}e.memoizedProps=e.pendingProps,i===null?Xo(e):_e=i}function qr(e,i,s,l){Nn=Vi=null,xc(i),Or=null,Ha=0;var h=i.return;try{if(l_(e,h,i,s,Ee)){Fe=1,Uo(e,Kt(s,e.current)),_e=null;return}}catch(m){if(h!==null)throw _e=h,m;Fe=1,Uo(e,Kt(s,e.current)),_e=null;return}i.flags&32768?(Te||l===1?e=!0:Pr||(Ee&536870912)!==0?e=!1:(ci=e=!0,(l===2||l===9||l===3||l===6)&&(l=Bt.current,l!==null&&l.tag===13&&(l.flags|=16384))),cg(i,e)):Xo(i)}function Xo(e){var i=e;do{if((i.flags&32768)!==0){cg(i,ci);return}e=i.return;var s=h_(i.alternate,i,Vn);if(s!==null){_e=s;return}if(i=i.sibling,i!==null){_e=i;return}_e=i=e}while(i!==null);Fe===0&&(Fe=5)}function cg(e,i){do{var s=d_(e.alternate,e);if(s!==null){s.flags&=32767,_e=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){_e=e;return}_e=e=s}while(e!==null);Fe=6,_e=null}function hg(e,i,s,l,h,m,b,S,N){e.cancelPendingCommit=null;do Zo();while(st!==0);if((Re&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=Ku,Q1(e,s,m,b,S,N),e===Le&&(_e=Le=null,Ee=0),Vr=i,fi=e,Hn=s,nh=m,ih=h,eg=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,E_(Js,function(){return gg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,h=W.p,W.p=2,b=Re,Re|=4;try{f_(e,i,s)}finally{Re=b,W.p=h,P.T=l}}st=1,dg(),fg(),mg()}}function dg(){if(st===1){st=0;var e=fi,i=Vr,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=P.T,P.T=null;var l=W.p;W.p=2;var h=Re;Re|=4;try{F0(i,e);var m=vh,b=Jm(e.containerInfo),S=m.focusedElem,N=m.selectionRange;if(b!==S&&S&&S.ownerDocument&&Zm(S.ownerDocument.documentElement,S)){if(N!==null&&$u(S)){var L=N.start,q=N.end;if(q===void 0&&(q=L),"selectionStart"in S)S.selectionStart=L,S.selectionEnd=Math.min(q,S.value.length);else{var K=S.ownerDocument||document,U=K&&K.defaultView||window;if(U.getSelection){var H=U.getSelection(),re=S.textContent.length,ce=Math.min(N.start,re),ze=N.end===void 0?ce:Math.min(N.end,re);!H.extend&&ce>ze&&(b=ze,ze=ce,ce=b);var D=Xm(S,ce),O=Xm(S,ze);if(D&&O&&(H.rangeCount!==1||H.anchorNode!==D.node||H.anchorOffset!==D.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var z=K.createRange();z.setStart(D.node,D.offset),H.removeAllRanges(),ce>ze?(H.addRange(z),H.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),H.addRange(z))}}}}for(K=[],H=S;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<K.length;S++){var F=K[S];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}ul=!!yh,vh=yh=null}finally{Re=h,W.p=l,P.T=s}}e.current=i,st=2}}function fg(){if(st===2){st=0;var e=fi,i=Vr,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=P.T,P.T=null;var l=W.p;W.p=2;var h=Re;Re|=4;try{H0(e,i.alternate,i)}finally{Re=h,W.p=l,P.T=s}}st=3}}function mg(){if(st===4||st===3){st=0,I1();var e=fi,i=Vr,s=Hn,l=eg;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?st=5:(st=0,Vr=fi=null,pg(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(di=null),Eu(s),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Sa,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=P.T,h=W.p,W.p=2,P.T=null;try{for(var m=e.onRecoverableError,b=0;b<l.length;b++){var S=l[b];m(S.value,{componentStack:S.stack})}}finally{P.T=i,W.p=h}}(Hn&3)!==0&&Zo(),xn(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===rh?rs++:(rs=0,rh=e):rs=0,as(0)}}function pg(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ba(i)))}function Zo(){return dg(),fg(),mg(),gg()}function gg(){if(st!==5)return!1;var e=fi,i=nh;nh=0;var s=Eu(Hn),l=P.T,h=W.p;try{W.p=32>s?32:s,P.T=null,s=ih,ih=null;var m=fi,b=Hn;if(st=0,Vr=fi=null,Hn=0,(Re&6)!==0)throw Error(a(331));var S=Re;if(Re|=4,Z0(m.current),K0(m,m.current,b,s),Re=S,as(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Sa,m)}catch{}return!0}finally{W.p=h,P.T=l,pg(e,i)}}function yg(e,i,s){i=Kt(s,i),i=Lc(e.stateNode,i,2),e=si(e,i,2),e!==null&&(ja(e,2),xn(e))}function ke(e,i,s){if(e.tag===3)yg(e,e,s);else for(;i!==null;){if(i.tag===3){yg(i,e,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(di===null||!di.has(l))){e=Kt(s,e),s=v0(2),l=si(i,s,2),l!==null&&(b0(s,l,i,e),ja(l,2),xn(l));break}}i=i.return}}function oh(e,i,s){var l=e.pingCache;if(l===null){l=e.pingCache=new g_;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(Qc=!0,h.add(s),e=x_.bind(null,e,i,s),i.then(e,e))}function x_(e,i,s){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Le===e&&(Ee&s)===s&&(Fe===4||Fe===3&&(Ee&62914560)===Ee&&300>Mt()-Go?(Re&2)===0&&Hr(e,0):eh|=s,Br===Ee&&(Br=0)),xn(e)}function vg(e,i){i===0&&(i=dm()),e=Ui(e,i),e!==null&&(ja(e,i),xn(e))}function __(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),vg(e,s)}function S_(e,i){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),vg(e,s)}function E_(e,i){return wu(e,i)}var Jo=null,$r=null,lh=!1,Qo=!1,uh=!1,pi=0;function xn(e){e!==$r&&e.next===null&&($r===null?Jo=$r=e:$r=$r.next=e),Qo=!0,lh||(lh=!0,T_())}function as(e,i){if(!uh&&Qo){uh=!0;do for(var s=!1,l=Jo;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var b=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-Lt(42|e)+1)-1,m&=h&~(b&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,_g(l,m))}else m=Ee,m=no(l,l===Le?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ea(l,m)||(s=!0,_g(l,m));l=l.next}while(s);uh=!1}}function j_(){bg()}function bg(){Qo=lh=!1;var e=0;pi!==0&&L_()&&(e=pi);for(var i=Mt(),s=null,l=Jo;l!==null;){var h=l.next,m=wg(l,i);m===0?(l.next=null,s===null?Jo=h:s.next=h,h===null&&($r=s)):(s=l,(e!==0||(m&3)!==0)&&(Qo=!0)),l=h}st!==0&&st!==5||as(e),pi!==0&&(pi=0)}function wg(e,i){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var b=31-Lt(m),S=1<<b,N=h[b];N===-1?((S&s)===0||(S&l)!==0)&&(h[b]=J1(S,i)):N<=i&&(e.expiredLanes|=S),m&=~S}if(i=Le,s=Ee,s=no(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===i&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&xu(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ea(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(l!==null&&xu(l),Eu(s)){case 2:case 8:s=cm;break;case 32:s=Js;break;case 268435456:s=hm;break;default:s=Js}return l=xg.bind(null,e),s=wu(s,l),e.callbackPriority=i,e.callbackNode=s,i}return l!==null&&l!==null&&xu(l),e.callbackPriority=2,e.callbackNode=null,2}function xg(e,i){if(st!==0&&st!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Zo()&&e.callbackNode!==s)return null;var l=Ee;return l=no(e,e===Le?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(ng(e,l,i),wg(e,Mt()),e.callbackNode!=null&&e.callbackNode===s?xg.bind(null,e):null)}function _g(e,i){if(Zo())return null;ng(e,i,!0)}function T_(){P_(function(){(Re&6)!==0?wu(um,j_):bg()})}function ch(){if(pi===0){var e=Cr;e===0&&(e=Qs,Qs<<=1,(Qs&261888)===0&&(Qs=256)),pi=e}return pi}function Sg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:so(""+e)}function Eg(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function A_(e,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var m=Sg((h[Et]||null).action),b=l.submitter;b&&(i=(i=b[Et]||null)?Sg(i.formAction):b.getAttribute("formAction"),i!==null&&(m=i,b=null));var S=new co("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(pi!==0){var N=b?Eg(h,b):new FormData(h);Nc(s,{pending:!0,data:N,method:h.method,action:m},null,N)}}else typeof m=="function"&&(S.preventDefault(),N=b?Eg(h,b):new FormData(h),Nc(s,{pending:!0,data:N,method:h.method,action:m},m,N))},currentTarget:h}]})}}for(var hh=0;hh<Yu.length;hh++){var dh=Yu[hh],C_=dh.toLowerCase(),R_=dh[0].toUpperCase()+dh.slice(1);ln(C_,"on"+R_)}ln(tp,"onAnimationEnd"),ln(np,"onAnimationIteration"),ln(ip,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(G2,"onTransitionRun"),ln(F2,"onTransitionStart"),ln(Y2,"onTransitionCancel"),ln(rp,"onTransitionEnd"),mr("onMouseEnter",["mouseout","mouseover"]),mr("onMouseLeave",["mouseout","mouseover"]),mr("onPointerEnter",["pointerout","pointerover"]),mr("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ss));function jg(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var b=l.length-1;0<=b;b--){var S=l[b],N=S.instance,L=S.currentTarget;if(S=S.listener,N!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=L;try{m(h)}catch(q){mo(q)}h.currentTarget=null,m=N}else for(b=0;b<l.length;b++){if(S=l[b],N=S.instance,L=S.currentTarget,S=S.listener,N!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=L;try{m(h)}catch(q){mo(q)}h.currentTarget=null,m=N}}}}function Se(e,i){var s=i[ju];s===void 0&&(s=i[ju]=new Set);var l=e+"__bubble";s.has(l)||(Tg(i,e,2,!1),s.add(l))}function fh(e,i,s){var l=0;i&&(l|=4),Tg(s,e,l,i)}var el="_reactListening"+Math.random().toString(36).slice(2);function mh(e){if(!e[el]){e[el]=!0,bm.forEach(function(s){s!=="selectionchange"&&(N_.has(s)||fh(s,!1,e),fh(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[el]||(i[el]=!0,fh("selectionchange",!1,i))}}function Tg(e,i,s,l){switch(ty(i)){case 2:var h=rS;break;case 8:h=aS;break;default:h=Rh}s=h.bind(null,i,s,e),h=void 0,!Mu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,s,{capture:!0,passive:h}):e.addEventListener(i,s,!0):h!==void 0?e.addEventListener(i,s,{passive:h}):e.addEventListener(i,s,!1)}function ph(e,i,s,l,h){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var S=l.stateNode.containerInfo;if(S===h)break;if(b===4)for(b=l.return;b!==null;){var N=b.tag;if((N===3||N===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;S!==null;){if(b=hr(S),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){l=m=b;continue e}S=S.parentNode}}l=l.return}Om(function(){var L=m,q=ku(s),K=[];e:{var U=ap.get(e);if(U!==void 0){var H=co,re=e;switch(e){case"keypress":if(lo(s)===0)break e;case"keydown":case"keyup":H=S2;break;case"focusin":re="focus",H=Pu;break;case"focusout":re="blur",H=Pu;break;case"beforeblur":case"afterblur":H=Pu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Mm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=h2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=T2;break;case tp:case np:case ip:H=m2;break;case rp:H=C2;break;case"scroll":case"scrollend":H=u2;break;case"wheel":H=N2;break;case"copy":case"cut":case"paste":H=g2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Lm;break;case"toggle":case"beforetoggle":H=k2}var ce=(i&4)!==0,ze=!ce&&(e==="scroll"||e==="scrollend"),D=ce?U!==null?U+"Capture":null:U;ce=[];for(var O=L,z;O!==null;){var F=O;if(z=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||z===null||D===null||(F=Ca(O,D),F!=null&&ce.push(os(O,F,z))),ze)break;O=O.return}0<ce.length&&(U=new H(U,re,null,s,q),K.push({event:U,listeners:ce}))}}if((i&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",U&&s!==Ou&&(re=s.relatedTarget||s.fromElement)&&(hr(re)||re[cr]))break e;if((H||U)&&(U=q.window===q?q:(U=q.ownerDocument)?U.defaultView||U.parentWindow:window,H?(re=s.relatedTarget||s.toElement,H=L,re=re?hr(re):null,re!==null&&(ze=u(re),ce=re.tag,re!==ze||ce!==5&&ce!==27&&ce!==6)&&(re=null)):(H=null,re=L),H!==re)){if(ce=Mm,F="onMouseLeave",D="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ce=Lm,F="onPointerLeave",D="onPointerEnter",O="pointer"),ze=H==null?U:Aa(H),z=re==null?U:Aa(re),U=new ce(F,O+"leave",H,s,q),U.target=ze,U.relatedTarget=z,F=null,hr(q)===L&&(ce=new ce(D,O+"enter",re,s,q),ce.target=z,ce.relatedTarget=ze,F=ce),ze=F,H&&re)t:{for(ce=O_,D=H,O=re,z=0,F=D;F;F=ce(F))z++;F=0;for(var ue=O;ue;ue=ce(ue))F++;for(;0<z-F;)D=ce(D),z--;for(;0<F-z;)O=ce(O),F--;for(;z--;){if(D===O||O!==null&&D===O.alternate){ce=D;break t}D=ce(D),O=ce(O)}ce=null}else ce=null;H!==null&&Ag(K,U,H,ce,!1),re!==null&&ze!==null&&Ag(K,ze,re,ce,!0)}}e:{if(U=L?Aa(L):window,H=U.nodeName&&U.nodeName.toLowerCase(),H==="select"||H==="input"&&U.type==="file")var Ae=Im;else if(qm(U))if(Gm)Ae=q2;else{Ae=V2;var oe=B2}else H=U.nodeName,!H||H.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?L&&Nu(L.elementType)&&(Ae=Im):Ae=H2;if(Ae&&(Ae=Ae(e,L))){$m(K,Ae,s,q);break e}oe&&oe(e,U,L),e==="focusout"&&L&&U.type==="number"&&L.memoizedProps.value!=null&&Ru(U,"number",U.value)}switch(oe=L?Aa(L):window,e){case"focusin":(qm(oe)||oe.contentEditable==="true")&&(wr=oe,Iu=L,La=null);break;case"focusout":La=Iu=wr=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,Qm(K,s,q);break;case"selectionchange":if(I2)break;case"keydown":case"keyup":Qm(K,s,q)}var we;if(Vu)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else br?Vm(e,s)&&(je="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(je="onCompositionStart");je&&(Um&&s.locale!=="ko"&&(br||je!=="onCompositionStart"?je==="onCompositionEnd"&&br&&(we=km()):(Qn=q,zu="value"in Qn?Qn.value:Qn.textContent,br=!0)),oe=tl(L,je),0<oe.length&&(je=new zm(je,e,null,s,q),K.push({event:je,listeners:oe}),we?je.data=we:(we=Hm(s),we!==null&&(je.data=we)))),(we=M2?z2(e,s):L2(e,s))&&(je=tl(L,"onBeforeInput"),0<je.length&&(oe=new zm("onBeforeInput","beforeinput",null,s,q),K.push({event:oe,listeners:je}),oe.data=we)),A_(K,e,L,s,q)}jg(K,i)})}function os(e,i,s){return{instance:e,listener:i,currentTarget:s}}function tl(e,i){for(var s=i+"Capture",l=[];e!==null;){var h=e,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Ca(e,s),h!=null&&l.unshift(os(e,h,m)),h=Ca(e,i),h!=null&&l.push(os(e,h,m))),e.tag===3)return l;e=e.return}return[]}function O_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ag(e,i,s,l,h){for(var m=i._reactName,b=[];s!==null&&s!==l;){var S=s,N=S.alternate,L=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||L===null||(N=L,h?(L=Ca(s,m),L!=null&&b.unshift(os(s,L,N))):h||(L=Ca(s,m),L!=null&&b.push(os(s,L,N)))),s=s.return}b.length!==0&&e.push({event:i,listeners:b})}var k_=/\r\n?/g,D_=/\u0000|\uFFFD/g;function Cg(e){return(typeof e=="string"?e:""+e).replace(k_,`
`).replace(D_,"")}function Rg(e,i){return i=Cg(i),Cg(e)===i}function Me(e,i,s,l,h,m){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||gr(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&gr(e,""+l);break;case"className":ro(e,"class",l);break;case"tabIndex":ro(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ro(e,s,l);break;case"style":Rm(e,l,m);break;case"data":if(i!=="object"){ro(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=so(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(i!=="input"&&Me(e,i,"name",h.name,h,null),Me(e,i,"formEncType",h.formEncType,h,null),Me(e,i,"formMethod",h.formMethod,h,null),Me(e,i,"formTarget",h.formTarget,h,null)):(Me(e,i,"encType",h.encType,h,null),Me(e,i,"method",h.method,h,null),Me(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=so(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Tn);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=so(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Se("beforetoggle",e),Se("toggle",e),io(e,"popover",l);break;case"xlinkActuate":jn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":io(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=o2.get(s)||s,io(e,s,l))}}function gh(e,i,s,l,h,m){switch(s){case"style":Rm(e,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?gr(e,l):(typeof l=="number"||typeof l=="bigint")&&gr(e,""+l);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wm.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),m=e[Et]||null,m=m!=null?m[s]:null,typeof m=="function"&&e.removeEventListener(i,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,l,h);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):io(e,s,l)}}}function mt(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var l=!1,h=!1,m;for(m in s)if(s.hasOwnProperty(m)){var b=s[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Me(e,i,m,b,s,null)}}h&&Me(e,i,"srcSet",s.srcSet,s,null),l&&Me(e,i,"src",s.src,s,null);return;case"input":Se("invalid",e);var S=m=b=h=null,N=null,L=null;for(l in s)if(s.hasOwnProperty(l)){var q=s[l];if(q!=null)switch(l){case"name":h=q;break;case"type":b=q;break;case"checked":N=q;break;case"defaultChecked":L=q;break;case"value":m=q;break;case"defaultValue":S=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:Me(e,i,l,q,s,null)}}jm(e,m,S,N,L,b,h,!1);return;case"select":Se("invalid",e),l=b=m=null;for(h in s)if(s.hasOwnProperty(h)&&(S=s[h],S!=null))switch(h){case"value":m=S;break;case"defaultValue":b=S;break;case"multiple":l=S;default:Me(e,i,h,S,s,null)}i=m,s=b,e.multiple=!!l,i!=null?pr(e,!!l,i,!1):s!=null&&pr(e,!!l,s,!0);return;case"textarea":Se("invalid",e),m=h=l=null;for(b in s)if(s.hasOwnProperty(b)&&(S=s[b],S!=null))switch(b){case"value":l=S;break;case"defaultValue":h=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:Me(e,i,b,S,s,null)}Am(e,l,h,m);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Me(e,i,N,l,s,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(l=0;l<ss.length;l++)Se(ss[l],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in s)if(s.hasOwnProperty(L)&&(l=s[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Me(e,i,L,l,s,null)}return;default:if(Nu(i)){for(q in s)s.hasOwnProperty(q)&&(l=s[q],l!==void 0&&gh(e,i,q,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&Me(e,i,S,l,s,null))}function M_(e,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,S=null,N=null,L=null,q=null;for(H in s){var K=s[H];if(s.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=K;default:l.hasOwnProperty(H)||Me(e,i,H,null,l,K)}}for(var U in l){var H=l[U];if(K=s[U],l.hasOwnProperty(U)&&(H!=null||K!=null))switch(U){case"type":m=H;break;case"name":h=H;break;case"checked":L=H;break;case"defaultChecked":q=H;break;case"value":b=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,i));break;default:H!==K&&Me(e,i,U,H,l,K)}}Cu(e,b,S,N,L,q,m,h);return;case"select":H=b=S=U=null;for(m in s)if(N=s[m],s.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":H=N;default:l.hasOwnProperty(m)||Me(e,i,m,null,l,N)}for(h in l)if(m=l[h],N=s[h],l.hasOwnProperty(h)&&(m!=null||N!=null))switch(h){case"value":U=m;break;case"defaultValue":S=m;break;case"multiple":b=m;default:m!==N&&Me(e,i,h,m,l,N)}i=S,s=b,l=H,U!=null?pr(e,!!s,U,!1):!!l!=!!s&&(i!=null?pr(e,!!s,i,!0):pr(e,!!s,s?[]:"",!1));return;case"textarea":H=U=null;for(S in s)if(h=s[S],s.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Me(e,i,S,null,l,h)}for(b in l)if(h=l[b],m=s[b],l.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":U=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==m&&Me(e,i,b,h,l,m)}Tm(e,U,H);return;case"option":for(var re in s)if(U=s[re],s.hasOwnProperty(re)&&U!=null&&!l.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Me(e,i,re,null,l,U)}for(N in l)if(U=l[N],H=s[N],l.hasOwnProperty(N)&&U!==H&&(U!=null||H!=null))switch(N){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Me(e,i,N,U,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in s)U=s[ce],s.hasOwnProperty(ce)&&U!=null&&!l.hasOwnProperty(ce)&&Me(e,i,ce,null,l,U);for(L in l)if(U=l[L],H=s[L],l.hasOwnProperty(L)&&U!==H&&(U!=null||H!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,i));break;default:Me(e,i,L,U,l,H)}return;default:if(Nu(i)){for(var ze in s)U=s[ze],s.hasOwnProperty(ze)&&U!==void 0&&!l.hasOwnProperty(ze)&&gh(e,i,ze,void 0,l,U);for(q in l)U=l[q],H=s[q],!l.hasOwnProperty(q)||U===H||U===void 0&&H===void 0||gh(e,i,q,U,l,H);return}}for(var D in s)U=s[D],s.hasOwnProperty(D)&&U!=null&&!l.hasOwnProperty(D)&&Me(e,i,D,null,l,U);for(K in l)U=l[K],H=s[K],!l.hasOwnProperty(K)||U===H||U==null&&H==null||Me(e,i,K,U,l,H)}function Ng(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],m=h.transferSize,b=h.initiatorType,S=h.duration;if(m&&S&&Ng(b)){for(b=0,S=h.responseEnd,l+=1;l<s.length;l++){var N=s[l],L=N.startTime;if(L>S)break;var q=N.transferSize,K=N.initiatorType;q&&Ng(K)&&(N=N.responseEnd,b+=q*(N<S?1:(S-L)/(N-L)))}if(--l,i+=8*(m+b)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yh=null,vh=null;function nl(e){return e.nodeType===9?e:e.ownerDocument}function Og(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kg(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function bh(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wh=null;function L_(){var e=window.event;return e&&e.type==="popstate"?e===wh?!1:(wh=e,!0):(wh=null,!1)}var Dg=typeof setTimeout=="function"?setTimeout:void 0,U_=typeof clearTimeout=="function"?clearTimeout:void 0,Mg=typeof Promise=="function"?Promise:void 0,P_=typeof queueMicrotask=="function"?queueMicrotask:typeof Mg<"u"?function(e){return Mg.resolve(null).then(e).catch(B_)}:Dg;function B_(e){setTimeout(function(){throw e})}function gi(e){return e==="head"}function zg(e,i){var s=i,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Yr(i);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ls(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ls(s);for(var m=s.firstChild;m;){var b=m.nextSibling,S=m.nodeName;m[Ta]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=b}}else s==="body"&&ls(e.ownerDocument.body);s=h}while(s);Yr(i)}function Lg(e,i){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function xh(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":xh(s),Tu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function V_(e,i,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ta])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Qt(e.nextSibling),e===null)break}return null}function H_(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Qt(e.nextSibling),e===null))return null;return e}function Ug(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Qt(e.nextSibling),e===null))return null;return e}function _h(e){return e.data==="$?"||e.data==="$~"}function Sh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function q_(e,i){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||s.readyState!=="loading")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Qt(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Eh=null;function Pg(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(i===0)return Qt(e.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}e=e.nextSibling}return null}function Bg(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return e;i--}else s!=="/$"&&s!=="/&"||i++}e=e.previousSibling}return null}function Vg(e,i,s){switch(i=nl(s),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ls(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Tu(e)}var en=new Map,Hg=new Set;function il(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qn=W.d;W.d={f:$_,r:I_,D:G_,C:F_,L:Y_,m:K_,X:X_,S:W_,M:Z_};function $_(){var e=qn.f(),i=Ko();return e||i}function I_(e){var i=dr(e);i!==null&&i.tag===5&&i.type==="form"?r0(i):qn.r(e)}var Ir=typeof document>"u"?null:document;function qg(e,i,s){var l=Ir;if(l&&typeof i=="string"&&i){var h=Ft(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Hg.has(h)||(Hg.add(h),e={rel:e,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),mt(i,"link",e),lt(i),l.head.appendChild(i)))}}function G_(e){qn.D(e),qg("dns-prefetch",e,null)}function F_(e,i){qn.C(e,i),qg("preconnect",e,i)}function Y_(e,i,s){qn.L(e,i,s);var l=Ir;if(l&&e&&i){var h='link[rel="preload"][as="'+Ft(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Ft(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Ft(s.imageSizes)+'"]')):h+='[href="'+Ft(e)+'"]';var m=h;switch(i){case"style":m=Gr(e);break;case"script":m=Fr(e)}en.has(m)||(e=v({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),en.set(m,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(us(m))||i==="script"&&l.querySelector(cs(m))||(i=l.createElement("link"),mt(i,"link",e),lt(i),l.head.appendChild(i)))}}function K_(e,i){qn.m(e,i);var s=Ir;if(s&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ft(l)+'"][href="'+Ft(e)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Fr(e)}if(!en.has(m)&&(e=v({rel:"modulepreload",href:e},i),en.set(m,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(cs(m)))return}l=s.createElement("link"),mt(l,"link",e),lt(l),s.head.appendChild(l)}}}function W_(e,i,s){qn.S(e,i,s);var l=Ir;if(l&&e){var h=fr(l).hoistableStyles,m=Gr(e);i=i||"default";var b=h.get(m);if(!b){var S={loading:0,preload:null};if(b=l.querySelector(us(m)))S.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":i},s),(s=en.get(m))&&jh(e,s);var N=b=l.createElement("link");lt(N),mt(N,"link",e),N._p=new Promise(function(L,q){N.onload=L,N.onerror=q}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,rl(b,i,l)}b={type:"stylesheet",instance:b,count:1,state:S},h.set(m,b)}}}function X_(e,i){qn.X(e,i);var s=Ir;if(s&&e){var l=fr(s).hoistableScripts,h=Fr(e),m=l.get(h);m||(m=s.querySelector(cs(h)),m||(e=v({src:e,async:!0},i),(i=en.get(h))&&Th(e,i),m=s.createElement("script"),lt(m),mt(m,"link",e),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function Z_(e,i){qn.M(e,i);var s=Ir;if(s&&e){var l=fr(s).hoistableScripts,h=Fr(e),m=l.get(h);m||(m=s.querySelector(cs(h)),m||(e=v({src:e,async:!0,type:"module"},i),(i=en.get(h))&&Th(e,i),m=s.createElement("script"),lt(m),mt(m,"link",e),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function $g(e,i,s,l){var h=(h=xe.current)?il(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Gr(s.href),s=fr(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Gr(s.href);var m=fr(h).hoistableStyles,b=m.get(e);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,b),(m=h.querySelector(us(e)))&&!m._p&&(b.instance=m,b.state.loading=5),en.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},en.set(e,s),m||J_(h,e,s,b.state))),i&&l===null)throw Error(a(528,""));return b}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fr(s),s=fr(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Gr(e){return'href="'+Ft(e)+'"'}function us(e){return'link[rel="stylesheet"]['+e+"]"}function Ig(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function J_(e,i,s,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),mt(i,"link",s),lt(i),e.head.appendChild(i))}function Fr(e){return'[src="'+Ft(e)+'"]'}function cs(e){return"script[async]"+e}function Gg(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Ft(s.href)+'"]');if(l)return i.instance=l,lt(l),l;var h=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),lt(l),mt(l,"style",h),rl(l,s.precedence,e),i.instance=l;case"stylesheet":h=Gr(s.href);var m=e.querySelector(us(h));if(m)return i.state.loading|=4,i.instance=m,lt(m),m;l=Ig(s),(h=en.get(h))&&jh(l,h),m=(e.ownerDocument||e).createElement("link"),lt(m);var b=m;return b._p=new Promise(function(S,N){b.onload=S,b.onerror=N}),mt(m,"link",l),i.state.loading|=4,rl(m,s.precedence,e),i.instance=m;case"script":return m=Fr(s.src),(h=e.querySelector(cs(m)))?(i.instance=h,lt(h),h):(l=s,(h=en.get(m))&&(l=v({},s),Th(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),lt(h),mt(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,rl(l,s.precedence,e));return i.instance}function rl(e,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,b=0;b<l.length;b++){var S=l[b];if(S.dataset.precedence===i)m=S;else if(m!==h)break}m?m.parentNode.insertBefore(e,m.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function jh(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Th(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var al=null;function Fg(e,i,s){if(al===null){var l=new Map,h=al=new Map;h.set(s,l)}else h=al,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var m=s[h];if(!(m[Ta]||m[ct]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(i)||"";b=e+b;var S=l.get(b);S?S.push(m):l.set(b,[m])}}return l}function Yg(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function Q_(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Kg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eS(e,i,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Gr(l.href),m=i.querySelector(us(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=sl.bind(e),i.then(e,e)),s.state.loading|=4,s.instance=m,lt(m);return}m=i.ownerDocument||i,l=Ig(l),(h=en.get(h))&&jh(l,h),m=m.createElement("link"),lt(m);var b=m;b._p=new Promise(function(S,N){b.onload=S,b.onerror=N}),mt(m,"link",l),s.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=sl.bind(e),i.addEventListener("load",s),i.addEventListener("error",s))}}var Ah=0;function tS(e,i){return e.stylesheets&&e.count===0&&ll(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&ll(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+i);0<e.imgBytes&&Ah===0&&(Ah=62500*z_());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ll(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>Ah?50:800)+i);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function sl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ll(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ol=null;function ll(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ol=new Map,i.forEach(nS,e),ol=null,sl.call(e))}function nS(e,i){if(!(i.state.loading&4)){var s=ol.get(e);if(s)var l=s.get(null);else{s=new Map,ol.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),l=b)}l&&s.set(null,l)}h=i.instance,b=h.getAttribute("data-precedence"),m=s.get(b)||l,m===l&&s.set(null,h),s.set(b,h),this.count++,l=sl.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var hs={$$typeof:A,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function iS(e,i,s,l,h,m,b,S,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_u(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_u(0),this.hiddenUpdates=_u(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Wg(e,i,s,l,h,m,b,S,N,L,q,K){return e=new iS(e,i,s,b,N,L,q,K,S),i=1,m===!0&&(i|=24),m=Pt(3,null,null,i),e.current=m,m.stateNode=e,i=sc(),i.refCount++,e.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:s,cache:i},cc(m),e}function Xg(e){return e?(e=Sr,e):Sr}function Zg(e,i,s,l,h,m){h=Xg(h),l.context===null?l.context=h:l.pendingContext=h,l=ai(i),l.payload={element:s},m=m===void 0?null:m,m!==null&&(l.callback=m),s=si(e,l,i),s!==null&&(Nt(s,e,i),$a(s,e,i))}function Jg(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function Ch(e,i){Jg(e,i),(e=e.alternate)&&Jg(e,i)}function Qg(e){if(e.tag===13||e.tag===31){var i=Ui(e,67108864);i!==null&&Nt(i,e,67108864),Ch(e,67108864)}}function ey(e){if(e.tag===13||e.tag===31){var i=$t();i=Su(i);var s=Ui(e,i);s!==null&&Nt(s,e,i),Ch(e,i)}}var ul=!0;function rS(e,i,s,l){var h=P.T;P.T=null;var m=W.p;try{W.p=2,Rh(e,i,s,l)}finally{W.p=m,P.T=h}}function aS(e,i,s,l){var h=P.T;P.T=null;var m=W.p;try{W.p=8,Rh(e,i,s,l)}finally{W.p=m,P.T=h}}function Rh(e,i,s,l){if(ul){var h=Nh(l);if(h===null)ph(e,i,l,cl,s),ny(e,l);else if(oS(h,e,i,s,l))l.stopPropagation();else if(ny(e,l),i&4&&-1<sS.indexOf(e)){for(;h!==null;){var m=dr(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=ki(m.pendingLanes);if(b!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var N=1<<31-Lt(b);S.entanglements[1]|=N,b&=~N}xn(m),(Re&6)===0&&(Fo=Mt()+500,as(0))}}break;case 31:case 13:S=Ui(m,2),S!==null&&Nt(S,m,2),Ko(),Ch(m,2)}if(m=Nh(l),m===null&&ph(e,i,l,cl,s),m===h)break;h=m}h!==null&&l.stopPropagation()}else ph(e,i,l,null,s)}}function Nh(e){return e=ku(e),Oh(e)}var cl=null;function Oh(e){if(cl=null,e=hr(e),e!==null){var i=u(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=c(i),e!==null)return e;e=null}else if(s===31){if(e=d(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return cl=e,null}function ty(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(G1()){case um:return 2;case cm:return 8;case Js:case F1:return 32;case hm:return 268435456;default:return 32}default:return 32}}var kh=!1,yi=null,vi=null,bi=null,ds=new Map,fs=new Map,wi=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ny(e,i){switch(e){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":ds.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fs.delete(i.pointerId)}}function ms(e,i,s,l,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},i!==null&&(i=dr(i),i!==null&&Qg(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function oS(e,i,s,l,h){switch(i){case"focusin":return yi=ms(yi,e,i,s,l,h),!0;case"dragenter":return vi=ms(vi,e,i,s,l,h),!0;case"mouseover":return bi=ms(bi,e,i,s,l,h),!0;case"pointerover":var m=h.pointerId;return ds.set(m,ms(ds.get(m)||null,e,i,s,l,h)),!0;case"gotpointercapture":return m=h.pointerId,fs.set(m,ms(fs.get(m)||null,e,i,s,l,h)),!0}return!1}function iy(e){var i=hr(e.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){e.blockedOn=i,ym(e.priority,function(){ey(s)});return}}else if(i===31){if(i=d(s),i!==null){e.blockedOn=i,ym(e.priority,function(){ey(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hl(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Nh(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Ou=l,s.target.dispatchEvent(l),Ou=null}else return i=dr(s),i!==null&&Qg(i),e.blockedOn=s,!1;i.shift()}return!0}function ry(e,i,s){hl(e)&&s.delete(i)}function lS(){kh=!1,yi!==null&&hl(yi)&&(yi=null),vi!==null&&hl(vi)&&(vi=null),bi!==null&&hl(bi)&&(bi=null),ds.forEach(ry),fs.forEach(ry)}function dl(e,i){e.blockedOn===i&&(e.blockedOn=null,kh||(kh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,lS)))}var fl=null;function ay(e){fl!==e&&(fl=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){fl===e&&(fl=null);for(var i=0;i<e.length;i+=3){var s=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Oh(l||s)===null)continue;break}var m=dr(s);m!==null&&(e.splice(i,3),i-=3,Nc(m,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Yr(e){function i(N){return dl(N,e)}yi!==null&&dl(yi,e),vi!==null&&dl(vi,e),bi!==null&&dl(bi,e),ds.forEach(i),fs.forEach(i);for(var s=0;s<wi.length;s++){var l=wi[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<wi.length&&(s=wi[0],s.blockedOn===null);)iy(s),s.blockedOn===null&&wi.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],m=s[l+1],b=h[Et]||null;if(typeof m=="function")b||ay(s);else if(b){var S=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[Et]||null)S=b.formAction;else if(Oh(h)!==null)continue}else S=b.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),ay(s)}}}function sy(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Dh(e){this._internalRoot=e}ml.prototype.render=Dh.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=$t();Zg(s,l,e,i,null,null)},ml.prototype.unmount=Dh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Zg(e.current,2,null,e,null,null),Ko(),i[cr]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var i=gm();e={blockedOn:null,target:e,priority:i};for(var s=0;s<wi.length&&i!==0&&i<wi[s].priority;s++);wi.splice(s,0,e),s===0&&iy(e)}};var oy=t.version;if(oy!=="19.2.1")throw Error(a(527,oy,"19.2.1"));W.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var uS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{Sa=pl.inject(uS),zt=pl}catch{}}return gs.createRoot=function(e,i){if(!o(e))throw Error(a(299));var s=!1,l="",h=m0,m=p0,b=g0;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=Wg(e,1,!1,null,null,s,l,null,h,m,b,sy),e[cr]=i.current,mh(e),new Dh(i)},gs.hydrateRoot=function(e,i,s){if(!o(e))throw Error(a(299));var l=!1,h="",m=m0,b=p0,S=g0,N=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.formState!==void 0&&(N=s.formState)),i=Wg(e,1,!0,i,s??null,l,h,N,m,b,S,sy),i.context=Xg(null),s=i.current,l=$t(),l=Su(l),h=ai(l),h.callback=null,si(s,h,l),s=l,i.current.lanes=s,ja(i,s),xn(i),e[cr]=i.current,mh(e),new ml(i)},gs.version="19.2.1",gs}var yy;function wS(){if(yy)return Lh.exports;yy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Lh.exports=bS(),Lh.exports}var xS=wS();var vy="popstate";function _S(n={}){function t(a,o){let{pathname:u,search:c,hash:d}=a.location;return vd("",{pathname:u,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(a,o){return typeof o=="string"?o:ks(o)}return ES(t,r,null,n)}function $e(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function an(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SS(){return Math.random().toString(36).substring(2,10)}function by(n,t){return{usr:n.state,key:n.key,idx:t}}function vd(n,t,r=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?fa(t):t,state:r,key:t&&t.key||a||SS()}}function ks({pathname:n="/",search:t="",hash:r=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function fa(n){let t={};if(n){let r=n.indexOf("#");r>=0&&(t.hash=n.substring(r),n=n.substring(0,r));let a=n.indexOf("?");a>=0&&(t.search=n.substring(a),n=n.substring(0,a)),n&&(t.pathname=n)}return t}function ES(n,t,r,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,c=o.history,d="POP",f=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function v(){d="POP";let E=y(),C=E==null?null:E-p;p=E,f&&f({action:d,location:T.location,delta:C})}function w(E,C){d="PUSH";let R=vd(T.location,E,C);p=y()+1;let A=by(R,p),M=T.createHref(R);try{c.pushState(A,"",M)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;o.location.assign(M)}u&&f&&f({action:d,location:T.location,delta:1})}function x(E,C){d="REPLACE";let R=vd(T.location,E,C);p=y();let A=by(R,p),M=T.createHref(R);c.replaceState(A,"",M),u&&f&&f({action:d,location:T.location,delta:0})}function _(E){return jS(E)}let T={get action(){return d},get location(){return n(o,c)},listen(E){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(vy,v),f=E,()=>{o.removeEventListener(vy,v),f=null}},createHref(E){return t(o,E)},createURL:_,encodeLocation(E){let C=_(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:w,replace:x,go(E){return c.go(E)}};return T}function jS(n,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),$e(r,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:ks(n);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function Rb(n,t,r="/"){return TS(n,t,r,!1)}function TS(n,t,r,a){let o=typeof t=="string"?fa(t):t,u=Fn(o.pathname||"/",r);if(u==null)return null;let c=Nb(n);AS(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let p=PS(u);d=LS(c[f],p,a)}return d}function Nb(n,t=[],r=[],a="",o=!1){let u=(c,d,f=o,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&f)return;$e(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let v=Gn([a,y.relativePath]),w=r.concat(y);c.children&&c.children.length>0&&($e(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Nb(c.children,t,w,v,f)),!(c.path==null&&!c.index)&&t.push({path:v,score:MS(v,c.index),routesMeta:w})};return n.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))u(c,d);else for(let f of Ob(c.path))u(c,d,!0,f)}),t}function Ob(n){let t=n.split("/");if(t.length===0)return[];let[r,...a]=t,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let c=Ob(a.join("/")),d=[];return d.push(...c.map(f=>f===""?u:[u,f].join("/"))),o&&d.push(...c),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function AS(n){n.sort((t,r)=>t.score!==r.score?r.score-t.score:zS(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var CS=/^:[\w-]+$/,RS=3,NS=2,OS=1,kS=10,DS=-2,wy=n=>n==="*";function MS(n,t){let r=n.split("/"),a=r.length;return r.some(wy)&&(a+=DS),t&&(a+=NS),r.filter(o=>!wy(o)).reduce((o,u)=>o+(CS.test(u)?RS:u===""?OS:kS),a)}function zS(n,t){return n.length===t.length&&n.slice(0,-1).every((a,o)=>a===t[o])?n[n.length-1]-t[t.length-1]:0}function LS(n,t,r=!1){let{routesMeta:a}=n,o={},u="/",c=[];for(let d=0;d<a.length;++d){let f=a[d],p=d===a.length-1,y=u==="/"?t:t.slice(u.length)||"/",v=Il({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),w=f.route;if(!v&&p&&r&&!a[a.length-1].route.index&&(v=Il({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),c.push({params:o,pathname:Gn([u,v.pathname]),pathnameBase:$S(Gn([u,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(u=Gn([u,v.pathnameBase]))}return c}function Il(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,a]=US(n.path,n.caseSensitive,n.end),o=t.match(r);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((p,{paramName:y,isOptional:v},w)=>{if(y==="*"){let _=d[w]||"";c=u.slice(0,u.length-_.length).replace(/(.)\/+$/,"$1")}const x=d[w];return v&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:n}}function US(n,t=!1,r=!0){an(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(a.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function PS(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return an(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Fn(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=n.charAt(r);return a&&a!=="/"?null:n.slice(r)||"/"}var BS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VS=n=>BS.test(n);function HS(n,t="/"){let{pathname:r,search:a="",hash:o=""}=typeof n=="string"?fa(n):n,u;if(r)if(VS(r))u=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),an(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?u=xy(r.substring(1),"/"):u=xy(r,t)}else u=t;return{pathname:u,search:IS(a),hash:GS(o)}}function xy(n,t){let r=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Vh(n,t,r,a){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qS(n){return n.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function sf(n){let t=qS(n);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function of(n,t,r,a=!1){let o;typeof n=="string"?o=fa(n):(o={...n},$e(!o.pathname||!o.pathname.includes("?"),Vh("?","pathname","search",o)),$e(!o.pathname||!o.pathname.includes("#"),Vh("#","pathname","hash",o)),$e(!o.search||!o.search.includes("#"),Vh("#","search","hash",o)));let u=n===""||o.pathname==="",c=u?"/":o.pathname,d;if(c==null)d=r;else{let v=t.length-1;if(!a&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),v-=1;o.pathname=w.join("/")}d=v>=0?t[v]:"/"}let f=HS(o,d),p=c&&c!=="/"&&c.endsWith("/"),y=(u||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var Gn=n=>n.join("/").replace(/\/\/+/g,"/"),$S=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),IS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,GS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function FS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function YS(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kb=["POST","PUT","PATCH","DELETE"];new Set(kb);var KS=["GET",...kb];new Set(KS);var ma=j.createContext(null);ma.displayName="DataRouter";var au=j.createContext(null);au.displayName="DataRouterState";j.createContext(!1);var Db=j.createContext({isTransitioning:!1});Db.displayName="ViewTransition";var WS=j.createContext(new Map);WS.displayName="Fetchers";var XS=j.createContext(null);XS.displayName="Await";var sn=j.createContext(null);sn.displayName="Navigation";var $s=j.createContext(null);$s.displayName="Location";var gn=j.createContext({outlet:null,matches:[],isDataRoute:!1});gn.displayName="Route";var lf=j.createContext(null);lf.displayName="RouteError";function ZS(n,{relative:t}={}){$e(pa(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=j.useContext(sn),{hash:o,pathname:u,search:c}=Is(n,{relative:t}),d=u;return r!=="/"&&(d=u==="/"?r:Gn([r,u])),a.createHref({pathname:d,search:c,hash:o})}function pa(){return j.useContext($s)!=null}function yn(){return $e(pa(),"useLocation() may be used only in the context of a <Router> component."),j.useContext($s).location}var Mb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zb(n){j.useContext(sn).static||j.useLayoutEffect(n)}function on(){let{isDataRoute:n}=j.useContext(gn);return n?dE():JS()}function JS(){$e(pa(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(ma),{basename:t,navigator:r}=j.useContext(sn),{matches:a}=j.useContext(gn),{pathname:o}=yn(),u=JSON.stringify(sf(a)),c=j.useRef(!1);return zb(()=>{c.current=!0}),j.useCallback((f,p={})=>{if(an(c.current,Mb),!c.current)return;if(typeof f=="number"){r.go(f);return}let y=of(f,JSON.parse(u),o,p.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Gn([t,y.pathname])),(p.replace?r.replace:r.push)(y,p.state,p)},[t,r,u,o,n])}var QS=j.createContext(null);function eE(n){let t=j.useContext(gn).outlet;return j.useMemo(()=>t&&j.createElement(QS.Provider,{value:n},t),[t,n])}function Is(n,{relative:t}={}){let{matches:r}=j.useContext(gn),{pathname:a}=yn(),o=JSON.stringify(sf(r));return j.useMemo(()=>of(n,JSON.parse(o),a,t==="path"),[n,o,a,t])}function tE(n,t){return Lb(n,t)}function Lb(n,t,r,a,o){$e(pa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(sn),{matches:c}=j.useContext(gn),d=c[c.length-1],f=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",v=d&&d.route;{let R=v&&v.path||"";Ub(p,!v||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let w=yn(),x;if(t){let R=typeof t=="string"?fa(t):t;$e(y==="/"||R.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${R.pathname}" was given in the \`location\` prop.`),x=R}else x=w;let _=x.pathname||"/",T=_;if(y!=="/"){let R=y.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(R.length).join("/")}let E=Rb(n,{pathname:T});an(v||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),an(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=sE(E&&E.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:Gn([y,u.encodeLocation?u.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?y:Gn([y,u.encodeLocation?u.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),c,r,a,o);return t&&C?j.createElement($s.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},C):C}function nE(){let n=hE(),t=FS(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:o},r):null,c)}var iE=j.createElement(nE,null),rE=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?j.createElement(gn.Provider,{value:this.props.routeContext},j.createElement(lf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aE({routeContext:n,match:t,children:r}){let a=j.useContext(ma);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(gn.Provider,{value:n},r)}function sE(n,t=[],r=null,a=null,o=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let u=n,c=r?.errors;if(c!=null){let y=u.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);$e(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let d=!1,f=-1;if(r)for(let y=0;y<u.length;y++){let v=u[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=y),v.route.id){let{loaderData:w,errors:x}=r,_=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!x||x[v.route.id]===void 0);if(v.route.lazy||_){d=!0,f>=0?u=u.slice(0,f+1):u=[u[0]];break}}}let p=r&&a?(y,v)=>{a(y,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:YS(r.matches),errorInfo:v})}:void 0;return u.reduceRight((y,v,w)=>{let x,_=!1,T=null,E=null;r&&(x=c&&v.route.id?c[v.route.id]:void 0,T=v.route.errorElement||iE,d&&(f<0&&w===0?(Ub("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):f===w&&(_=!0,E=v.route.hydrateFallbackElement||null)));let C=t.concat(u.slice(0,w+1)),R=()=>{let A;return x?A=T:_?A=E:v.route.Component?A=j.createElement(v.route.Component,null):v.route.element?A=v.route.element:A=y,j.createElement(aE,{match:v,routeContext:{outlet:y,matches:C,isDataRoute:r!=null},children:A})};return r&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?j.createElement(rE,{location:r.location,revalidation:r.revalidation,component:T,error:x,children:R(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:p}):R()},null)}function uf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oE(n){let t=j.useContext(ma);return $e(t,uf(n)),t}function lE(n){let t=j.useContext(au);return $e(t,uf(n)),t}function uE(n){let t=j.useContext(gn);return $e(t,uf(n)),t}function cf(n){let t=uE(n),r=t.matches[t.matches.length-1];return $e(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function cE(){return cf("useRouteId")}function hE(){let n=j.useContext(lf),t=lE("useRouteError"),r=cf("useRouteError");return n!==void 0?n:t.errors?.[r]}function dE(){let{router:n}=oE("useNavigate"),t=cf("useNavigate"),r=j.useRef(!1);return zb(()=>{r.current=!0}),j.useCallback(async(o,u={})=>{an(r.current,Mb),r.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:t,...u}))},[n,t])}var _y={};function Ub(n,t,r){!t&&!_y[n]&&(_y[n]=!0,an(!1,r))}j.memo(fE);function fE({routes:n,future:t,state:r,unstable_onError:a}){return Lb(n,void 0,r,a,t)}function Pb({to:n,replace:t,state:r,relative:a}){$e(pa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(sn);an(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(gn),{pathname:c}=yn(),d=on(),f=of(n,sf(u),c,a==="path"),p=JSON.stringify(f);return j.useEffect(()=>{d(JSON.parse(p),{replace:t,state:r,relative:a})},[d,p,a,t,r]),null}function Bb(n){return eE(n.context)}function Ze(n){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mE({basename:n="/",children:t=null,location:r,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){$e(!pa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:d,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[d,o,u,c]);typeof r=="string"&&(r=fa(r));let{pathname:p="/",search:y="",hash:v="",state:w=null,key:x="default"}=r,_=j.useMemo(()=>{let T=Fn(p,d);return T==null?null:{location:{pathname:T,search:y,hash:v,state:w,key:x},navigationType:a}},[d,p,y,v,w,x,a]);return an(_!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:j.createElement(sn.Provider,{value:f},j.createElement($s.Provider,{children:t,value:_}))}function pE({children:n,location:t}){return tE(bd(n),t)}function bd(n,t=[]){let r=[];return j.Children.forEach(n,(a,o)=>{if(!j.isValidElement(a))return;let u=[...t,o];if(a.type===j.Fragment){r.push.apply(r,bd(a.props.children,u));return}$e(a.type===Ze,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=bd(a.props.children,u)),r.push(c)}),r}var Dl="get",Ml="application/x-www-form-urlencoded";function su(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function gE(n){return su(n)&&n.tagName.toLowerCase()==="button"}function yE(n){return su(n)&&n.tagName.toLowerCase()==="form"}function vE(n){return su(n)&&n.tagName.toLowerCase()==="input"}function bE(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function wE(n,t){return n.button===0&&(!t||t==="_self")&&!bE(n)}var gl=null;function xE(){if(gl===null)try{new FormData(document.createElement("form"),0),gl=!1}catch{gl=!0}return gl}var _E=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hh(n){return n!=null&&!_E.has(n)?(an(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ml}"`),null):n}function SE(n,t){let r,a,o,u,c;if(yE(n)){let d=n.getAttribute("action");a=d?Fn(d,t):null,r=n.getAttribute("method")||Dl,o=Hh(n.getAttribute("enctype"))||Ml,u=new FormData(n)}else if(gE(n)||vE(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(a=f?Fn(f,t):null,r=n.getAttribute("formmethod")||d.getAttribute("method")||Dl,o=Hh(n.getAttribute("formenctype"))||Hh(d.getAttribute("enctype"))||Ml,u=new FormData(d,n),!xE()){let{name:p,type:y,value:v}=n;if(y==="image"){let w=p?`${p}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else p&&u.append(p,v)}}else{if(su(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Dl,a=null,o=Ml,c=n}return u&&o==="text/plain"&&(c=u,u=void 0),{action:a,method:r.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hf(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function EE(n,t,r){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return a.pathname==="/"?a.pathname=`_root.${r}`:t&&Fn(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function jE(n,t){if(n.id in t)return t[n.id];try{let r=await import(n.module);return t[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TE(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function AE(n,t,r){let a=await Promise.all(n.map(async o=>{let u=t.routes[o.route.id];if(u){let c=await jE(u,r);return c.links?c.links():[]}return[]}));return OE(a.flat(1).filter(TE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Sy(n,t,r,a,o,u){let c=(f,p)=>r[p]?f.route.id!==r[p].route.id:!0,d=(f,p)=>r[p].pathname!==f.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==f.params["*"];return u==="assets"?t.filter((f,p)=>c(f,p)||d(f,p)):u==="data"?t.filter((f,p)=>{let y=a.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function CE(n,t,{includeHydrateFallback:r}={}){return RE(n.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function RE(n){return[...new Set(n)]}function NE(n){let t={},r=Object.keys(n).sort();for(let a of r)t[a]=n[a];return t}function OE(n,t){let r=new Set;return new Set(t),n.reduce((a,o)=>{let u=JSON.stringify(NE(o));return r.has(u)||(r.add(u),a.push({key:u,link:o})),a},[])}function Vb(){let n=j.useContext(ma);return hf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function kE(){let n=j.useContext(au);return hf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var df=j.createContext(void 0);df.displayName="FrameworkContext";function Hb(){let n=j.useContext(df);return hf(n,"You must render this element inside a <HydratedRouter> element"),n}function DE(n,t){let r=j.useContext(df),[a,o]=j.useState(!1),[u,c]=j.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=t,w=j.useRef(null);j.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let T=C=>{C.forEach(R=>{c(R.isIntersecting)})},E=new IntersectionObserver(T,{threshold:.5});return w.current&&E.observe(w.current),()=>{E.disconnect()}}},[n]),j.useEffect(()=>{if(a){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[a]);let x=()=>{o(!0)},_=()=>{o(!1),c(!1)};return r?n!=="intent"?[u,w,{}]:[u,w,{onFocus:ys(d,x),onBlur:ys(f,_),onMouseEnter:ys(p,x),onMouseLeave:ys(y,_),onTouchStart:ys(v,x)}]:[!1,w,{}]}function ys(n,t){return r=>{n&&n(r),r.defaultPrevented||t(r)}}function ME({page:n,...t}){let{router:r}=Vb(),a=j.useMemo(()=>Rb(r.routes,n,r.basename),[r.routes,n,r.basename]);return a?j.createElement(LE,{page:n,matches:a,...t}):null}function zE(n){let{manifest:t,routeModules:r}=Hb(),[a,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return AE(n,t,r).then(c=>{u||o(c)}),()=>{u=!0}},[n,t,r]),a}function LE({page:n,matches:t,...r}){let a=yn(),{manifest:o,routeModules:u}=Hb(),{basename:c}=Vb(),{loaderData:d,matches:f}=kE(),p=j.useMemo(()=>Sy(n,t,f,o,a,"data"),[n,t,f,o,a]),y=j.useMemo(()=>Sy(n,t,f,o,a,"assets"),[n,t,f,o,a]),v=j.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let _=new Set,T=!1;if(t.forEach(C=>{let R=o.routes[C.route.id];!R||!R.hasLoader||(!p.some(A=>A.route.id===C.route.id)&&C.route.id in d&&u[C.route.id]?.shouldRevalidate||R.hasClientLoader?T=!0:_.add(C.route.id))}),_.size===0)return[];let E=EE(n,c,"data");return T&&_.size>0&&E.searchParams.set("_routes",t.filter(C=>_.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[c,d,a,o,p,t,n,u]),w=j.useMemo(()=>CE(y,o),[y,o]),x=zE(y);return j.createElement(j.Fragment,null,v.map(_=>j.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),w.map(_=>j.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),x.map(({key:_,link:T})=>j.createElement("link",{key:_,nonce:r.nonce,...T})))}function UE(...n){return t=>{n.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var qb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qb&&(window.__reactRouterVersion="7.10.1")}catch{}function PE({basename:n,children:t,unstable_useTransitions:r,window:a}){let o=j.useRef();o.current==null&&(o.current=_S({window:a,v5Compat:!0}));let u=o.current,[c,d]=j.useState({action:u.action,location:u.location}),f=j.useCallback(p=>{r===!1?d(p):j.startTransition(()=>d(p))},[r]);return j.useLayoutEffect(()=>u.listen(f),[u,f]),j.createElement(mE,{basename:n,children:t,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:r===!0})}var $b=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ib=j.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:o,reloadDocument:u,replace:c,state:d,target:f,to:p,preventScrollReset:y,viewTransition:v,...w},x){let{basename:_,unstable_useTransitions:T}=j.useContext(sn),E=typeof p=="string"&&$b.test(p),C,R=!1;if(typeof p=="string"&&E&&(C=p,qb))try{let J=new URL(window.location.href),Y=p.startsWith("//")?new URL(J.protocol+p):new URL(p),Z=Fn(Y.pathname,_);Y.origin===J.origin&&Z!=null?p=Z+Y.search+Y.hash:R=!0}catch{an(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=ZS(p,{relative:o}),[M,B,$]=DE(a,w),V=HE(p,{replace:c,state:d,target:f,preventScrollReset:y,relative:o,viewTransition:v,unstable_useTransitions:T});function I(J){t&&t(J),J.defaultPrevented||V(J)}let Q=j.createElement("a",{...w,...$,href:C||A,onClick:R||u?t:I,ref:UE(x,B),target:f,"data-discover":!E&&r==="render"?"true":void 0});return M&&!E?j.createElement(j.Fragment,null,Q,j.createElement(ME,{page:A})):Q});Ib.displayName="Link";var Gb=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:o=!1,style:u,to:c,viewTransition:d,children:f,...p},y){let v=Is(c,{relative:p.relative}),w=yn(),x=j.useContext(au),{navigator:_,basename:T}=j.useContext(sn),E=x!=null&&FE(v)&&d===!0,C=_.encodeLocation?_.encodeLocation(v).pathname:v.pathname,R=w.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(R=R.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&T&&(A=Fn(A,T)||A);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let B=R===C||!o&&R.startsWith(C)&&R.charAt(M)==="/",$=A!=null&&(A===C||!o&&A.startsWith(C)&&A.charAt(C.length)==="/"),V={isActive:B,isPending:$,isTransitioning:E},I=B?t:void 0,Q;typeof a=="function"?Q=a(V):Q=[a,B?"active":null,$?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let J=typeof u=="function"?u(V):u;return j.createElement(Ib,{...p,"aria-current":I,className:Q,ref:y,style:J,to:c,viewTransition:d},typeof f=="function"?f(V):f)});Gb.displayName="NavLink";var BE=j.forwardRef(({discover:n="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:o,state:u,method:c=Dl,action:d,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:v,...w},x)=>{let{unstable_useTransitions:_}=j.useContext(sn),T=IE(),E=GE(d,{relative:p}),C=c.toLowerCase()==="get"?"get":"post",R=typeof d=="string"&&$b.test(d),A=M=>{if(f&&f(M),M.defaultPrevented)return;M.preventDefault();let B=M.nativeEvent.submitter,$=B?.getAttribute("formmethod")||c,V=()=>T(B||M.currentTarget,{fetcherKey:t,method:$,navigate:r,replace:o,state:u,relative:p,preventScrollReset:y,viewTransition:v});_&&r!==!1?j.startTransition(()=>V()):V()};return j.createElement("form",{ref:x,method:C,action:E,onSubmit:a?f:A,...w,"data-discover":!R&&n==="render"?"true":void 0})});BE.displayName="Form";function VE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fb(n){let t=j.useContext(ma);return $e(t,VE(n)),t}function HE(n,{target:t,replace:r,state:a,preventScrollReset:o,relative:u,viewTransition:c,unstable_useTransitions:d}={}){let f=on(),p=yn(),y=Is(n,{relative:u});return j.useCallback(v=>{if(wE(v,t)){v.preventDefault();let w=r!==void 0?r:ks(p)===ks(y),x=()=>f(n,{replace:w,state:a,preventScrollReset:o,relative:u,viewTransition:c});d?j.startTransition(()=>x()):x()}},[p,f,y,r,a,t,n,o,u,c,d])}var qE=0,$E=()=>`__${String(++qE)}__`;function IE(){let{router:n}=Fb("useSubmit"),{basename:t}=j.useContext(sn),r=cE(),a=n.fetch,o=n.navigate;return j.useCallback(async(u,c={})=>{let{action:d,method:f,encType:p,formData:y,body:v}=SE(u,t);if(c.navigate===!1){let w=c.fetcherKey||$E();await a(w,r,c.action||d,{preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||f,formEncType:c.encType||p,flushSync:c.flushSync})}else await o(c.action||d,{preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||f,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,o,t,r])}function GE(n,{relative:t}={}){let{basename:r}=j.useContext(sn),a=j.useContext(gn);$e(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Is(n||".",{relative:t})},c=yn();if(n==null){u.search=c.search;let d=new URLSearchParams(u.search),f=d.getAll("index");if(f.some(y=>y==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let y=d.toString();u.search=y?`?${y}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Gn([r,u.pathname])),ks(u)}function FE(n,{relative:t}={}){let r=j.useContext(Db);$e(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Fb("useViewTransitionState"),o=Is(n,{relative:t});if(!r.isTransitioning)return!1;let u=Fn(r.currentLocation.pathname,a)||r.currentLocation.pathname,c=Fn(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Il(o.pathname,c)!=null||Il(o.pathname,u)!=null}const Yb=j.createContext(void 0),Ey="allify_allowed_routes",jy="allify_signup_form",YE=({children:n})=>{const[t,r]=j.useState(()=>{const y=localStorage.getItem(Ey),v=new Set(["/","/auth/signup","/home","/profile","/profile/edit","/search","/messages","/notifications","/settings","/create","/more"]),w=window.location.pathname;if(y)try{const x=JSON.parse(y),_="/Allify",T=w.startsWith(_)?w.slice(_.length)||"/":w;return x.filter(C=>C===T?!0:C!=="/auth/signup/confirm").forEach(C=>v.add(C)),v}catch{return v}return v}),[a,o]=j.useState(()=>{const y=localStorage.getItem(jy);if(y)try{return JSON.parse(y)}catch{return{fullName:"",email:"",username:"",password:"",birthday:""}}return{fullName:"",email:"",username:"",password:"",birthday:""}});j.useEffect(()=>{localStorage.setItem(Ey,JSON.stringify([...t]))},[t]),j.useEffect(()=>{localStorage.setItem(jy,JSON.stringify(a))},[a]);const u=y=>{r(v=>new Set([...v,y]))},c=y=>{r(v=>{const w=new Set(v);return w.delete(y),w})},d=y=>t.has(y),f=y=>{o(y)},p=()=>{o({fullName:"",email:"",username:"",password:"",birthday:""})};return g.jsx(Yb.Provider,{value:{allowedRoutes:t,allowRoute:u,removeRoute:c,isRouteAllowed:d,signupFormData:a,saveSignupFormData:f,clearSignupFormData:p},children:n})},ga=()=>{const n=j.useContext(Yb);if(!n)throw new Error("useNavigation must be used within NavigationProvider");return n},yl=({children:n})=>{const t=yn(),{isRouteAllowed:r}=ga();return r(t.pathname)?g.jsx(g.Fragment,{children:n}):g.jsx(Pb,{to:"/",replace:!0})},ff=j.createContext({});function mf(n){const t=j.useRef(null);return t.current===null&&(t.current=n()),t.current}const pf=typeof window<"u",Kb=pf?j.useLayoutEffect:j.useEffect,ou=j.createContext(null);function gf(n,t){n.indexOf(t)===-1&&n.push(t)}function yf(n,t){const r=n.indexOf(t);r>-1&&n.splice(r,1)}const Yn=(n,t,r)=>r>t?t:r<n?n:r;let vf=()=>{};const Kn={},Wb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Xb(n){return typeof n=="object"&&n!==null}const Zb=n=>/^0[^.\s]+$/u.test(n);function bf(n){let t;return()=>(t===void 0&&(t=n()),t)}const rn=n=>n,KE=(n,t)=>r=>t(n(r)),Gs=(...n)=>n.reduce(KE),Ds=(n,t,r)=>{const a=t-n;return a===0?1:(r-n)/a};class wf{constructor(){this.subscriptions=[]}add(t){return gf(this.subscriptions,t),()=>yf(this.subscriptions,t)}notify(t,r,a){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,r,a);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sn=n=>n*1e3,nn=n=>n/1e3;function Jb(n,t){return t?n*(1e3/t):0}const Qb=(n,t,r)=>(((1-3*r+3*t)*n+(3*r-6*t))*n+3*t)*n,WE=1e-7,XE=12;function ZE(n,t,r,a,o){let u,c,d=0;do c=t+(r-t)/2,u=Qb(c,a,o)-n,u>0?r=c:t=c;while(Math.abs(u)>WE&&++d<XE);return c}function Fs(n,t,r,a){if(n===t&&r===a)return rn;const o=u=>ZE(u,0,1,n,r);return u=>u===0||u===1?u:Qb(o(u),t,a)}const ew=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,tw=n=>t=>1-n(1-t),nw=Fs(.33,1.53,.69,.99),xf=tw(nw),iw=ew(xf),rw=n=>(n*=2)<1?.5*xf(n):.5*(2-Math.pow(2,-10*(n-1))),_f=n=>1-Math.sin(Math.acos(n)),aw=tw(_f),sw=ew(_f),JE=Fs(.42,0,1,1),QE=Fs(0,0,.58,1),ow=Fs(.42,0,.58,1),ej=n=>Array.isArray(n)&&typeof n[0]!="number",lw=n=>Array.isArray(n)&&typeof n[0]=="number",tj={linear:rn,easeIn:JE,easeInOut:ow,easeOut:QE,circIn:_f,circInOut:sw,circOut:aw,backIn:xf,backInOut:iw,backOut:nw,anticipate:rw},nj=n=>typeof n=="string",Ty=n=>{if(lw(n)){vf(n.length===4);const[t,r,a,o]=n;return Fs(t,r,a,o)}else if(nj(n))return tj[n];return n},vl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ij(n,t){let r=new Set,a=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(y){c.has(y)&&(p.schedule(y),n()),y(d)}const p={schedule:(y,v=!1,w=!1)=>{const _=w&&o?r:a;return v&&c.add(y),_.has(y)||_.add(y),y},cancel:y=>{a.delete(y),c.delete(y)},process:y=>{if(d=y,o){u=!0;return}o=!0,[r,a]=[a,r],r.forEach(f),r.clear(),o=!1,u&&(u=!1,p.process(y))}};return p}const rj=40;function uw(n,t){let r=!1,a=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>r=!0,c=vl.reduce((A,M)=>(A[M]=ij(u),A),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:y,update:v,preRender:w,render:x,postRender:_}=c,T=()=>{const A=Kn.useManualTiming?o.timestamp:performance.now();r=!1,Kn.useManualTiming||(o.delta=a?1e3/60:Math.max(Math.min(A-o.timestamp,rj),1)),o.timestamp=A,o.isProcessing=!0,d.process(o),f.process(o),p.process(o),y.process(o),v.process(o),w.process(o),x.process(o),_.process(o),o.isProcessing=!1,r&&t&&(a=!1,n(T))},E=()=>{r=!0,a=!0,o.isProcessing||n(T)};return{schedule:vl.reduce((A,M)=>{const B=c[M];return A[M]=($,V=!1,I=!1)=>(r||E(),B.schedule($,V,I)),A},{}),cancel:A=>{for(let M=0;M<vl.length;M++)c[vl[M]].cancel(A)},state:o,steps:c}}const{schedule:qe,cancel:Ti,state:yt,steps:qh}=uw(typeof requestAnimationFrame<"u"?requestAnimationFrame:rn,!0);let zl;function aj(){zl=void 0}const Dt={now:()=>(zl===void 0&&Dt.set(yt.isProcessing||Kn.useManualTiming?yt.timestamp:performance.now()),zl),set:n=>{zl=n,queueMicrotask(aj)}},cw=n=>t=>typeof t=="string"&&t.startsWith(n),Sf=cw("--"),sj=cw("var(--"),Ef=n=>sj(n)?oj.test(n.split("/*")[0].trim()):!1,oj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ya={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ms={...ya,transform:n=>Yn(0,1,n)},bl={...ya,default:1},Cs=n=>Math.round(n*1e5)/1e5,jf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lj(n){return n==null}const uj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Tf=(n,t)=>r=>!!(typeof r=="string"&&uj.test(r)&&r.startsWith(n)||t&&!lj(r)&&Object.prototype.hasOwnProperty.call(r,t)),hw=(n,t,r)=>a=>{if(typeof a!="string")return a;const[o,u,c,d]=a.match(jf);return{[n]:parseFloat(o),[t]:parseFloat(u),[r]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},cj=n=>Yn(0,255,n),$h={...ya,transform:n=>Math.round(cj(n))},ar={test:Tf("rgb","red"),parse:hw("red","green","blue"),transform:({red:n,green:t,blue:r,alpha:a=1})=>"rgba("+$h.transform(n)+", "+$h.transform(t)+", "+$h.transform(r)+", "+Cs(Ms.transform(a))+")"};function hj(n){let t="",r="",a="",o="";return n.length>5?(t=n.substring(1,3),r=n.substring(3,5),a=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),r=n.substring(2,3),a=n.substring(3,4),o=n.substring(4,5),t+=t,r+=r,a+=a,o+=o),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:o?parseInt(o,16)/255:1}}const wd={test:Tf("#"),parse:hj,transform:ar.transform},Ys=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),_i=Ys("deg"),En=Ys("%"),fe=Ys("px"),dj=Ys("vh"),fj=Ys("vw"),Ay={...En,parse:n=>En.parse(n)/100,transform:n=>En.transform(n*100)},ea={test:Tf("hsl","hue"),parse:hw("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:r,alpha:a=1})=>"hsla("+Math.round(n)+", "+En.transform(Cs(t))+", "+En.transform(Cs(r))+", "+Cs(Ms.transform(a))+")"},at={test:n=>ar.test(n)||wd.test(n)||ea.test(n),parse:n=>ar.test(n)?ar.parse(n):ea.test(n)?ea.parse(n):wd.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ar.transform(n):ea.transform(n),getAnimatableNone:n=>{const t=at.parse(n);return t.alpha=0,at.transform(t)}},mj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function pj(n){return isNaN(n)&&typeof n=="string"&&(n.match(jf)?.length||0)+(n.match(mj)?.length||0)>0}const dw="number",fw="color",gj="var",yj="var(",Cy="${}",vj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zs(n){const t=n.toString(),r=[],a={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(vj,f=>(at.test(f)?(a.color.push(u),o.push(fw),r.push(at.parse(f))):f.startsWith(yj)?(a.var.push(u),o.push(gj),r.push(f)):(a.number.push(u),o.push(dw),r.push(parseFloat(f))),++u,Cy)).split(Cy);return{values:r,split:d,indexes:a,types:o}}function mw(n){return zs(n).values}function pw(n){const{split:t,types:r}=zs(n),a=t.length;return o=>{let u="";for(let c=0;c<a;c++)if(u+=t[c],o[c]!==void 0){const d=r[c];d===dw?u+=Cs(o[c]):d===fw?u+=at.transform(o[c]):u+=o[c]}return u}}const bj=n=>typeof n=="number"?0:at.test(n)?at.getAnimatableNone(n):n;function wj(n){const t=mw(n);return pw(n)(t.map(bj))}const Ai={test:pj,parse:mw,createTransformer:pw,getAnimatableNone:wj};function Ih(n,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(t-n)*6*r:r<1/2?t:r<2/3?n+(t-n)*(2/3-r)*6:n}function xj({hue:n,saturation:t,lightness:r,alpha:a}){n/=360,t/=100,r/=100;let o=0,u=0,c=0;if(!t)o=u=c=r;else{const d=r<.5?r*(1+t):r+t-r*t,f=2*r-d;o=Ih(f,d,n+1/3),u=Ih(f,d,n),c=Ih(f,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:a}}function Gl(n,t){return r=>r>0?t:n}const Ie=(n,t,r)=>n+(t-n)*r,Gh=(n,t,r)=>{const a=n*n,o=r*(t*t-a)+a;return o<0?0:Math.sqrt(o)},_j=[wd,ar,ea],Sj=n=>_j.find(t=>t.test(n));function Ry(n){const t=Sj(n);if(!t)return!1;let r=t.parse(n);return t===ea&&(r=xj(r)),r}const Ny=(n,t)=>{const r=Ry(n),a=Ry(t);if(!r||!a)return Gl(n,t);const o={...r};return u=>(o.red=Gh(r.red,a.red,u),o.green=Gh(r.green,a.green,u),o.blue=Gh(r.blue,a.blue,u),o.alpha=Ie(r.alpha,a.alpha,u),ar.transform(o))},xd=new Set(["none","hidden"]);function Ej(n,t){return xd.has(n)?r=>r<=0?n:t:r=>r>=1?t:n}function jj(n,t){return r=>Ie(n,t,r)}function Af(n){return typeof n=="number"?jj:typeof n=="string"?Ef(n)?Gl:at.test(n)?Ny:Cj:Array.isArray(n)?gw:typeof n=="object"?at.test(n)?Ny:Tj:Gl}function gw(n,t){const r=[...n],a=r.length,o=n.map((u,c)=>Af(u)(u,t[c]));return u=>{for(let c=0;c<a;c++)r[c]=o[c](u);return r}}function Tj(n,t){const r={...n,...t},a={};for(const o in r)n[o]!==void 0&&t[o]!==void 0&&(a[o]=Af(n[o])(n[o],t[o]));return o=>{for(const u in a)r[u]=a[u](o);return r}}function Aj(n,t){const r=[],a={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][a[u]],d=n.values[c]??0;r[o]=d,a[u]++}return r}const Cj=(n,t)=>{const r=Ai.createTransformer(t),a=zs(n),o=zs(t);return a.indexes.var.length===o.indexes.var.length&&a.indexes.color.length===o.indexes.color.length&&a.indexes.number.length>=o.indexes.number.length?xd.has(n)&&!o.values.length||xd.has(t)&&!a.values.length?Ej(n,t):Gs(gw(Aj(a,o),o.values),r):Gl(n,t)};function yw(n,t,r){return typeof n=="number"&&typeof t=="number"&&typeof r=="number"?Ie(n,t,r):Af(n)(n,t)}const Rj=n=>{const t=({timestamp:r})=>n(r);return{start:(r=!0)=>qe.update(t,r),stop:()=>Ti(t),now:()=>yt.isProcessing?yt.timestamp:Dt.now()}},vw=(n,t,r=10)=>{let a="";const o=Math.max(Math.round(t/r),2);for(let u=0;u<o;u++)a+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Fl=2e4;function Cf(n){let t=0;const r=50;let a=n.next(t);for(;!a.done&&t<Fl;)t+=r,a=n.next(t);return t>=Fl?1/0:t}function Nj(n,t=100,r){const a=r({...n,keyframes:[0,t]}),o=Math.min(Cf(a),Fl);return{type:"keyframes",ease:u=>a.next(o*u).value/t,duration:nn(o)}}const Oj=5;function bw(n,t,r){const a=Math.max(t-Oj,0);return Jb(r-n(a),t-a)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fh=.001;function kj({duration:n=Ye.duration,bounce:t=Ye.bounce,velocity:r=Ye.velocity,mass:a=Ye.mass}){let o,u,c=1-t;c=Yn(Ye.minDamping,Ye.maxDamping,c),n=Yn(Ye.minDuration,Ye.maxDuration,nn(n)),c<1?(o=p=>{const y=p*c,v=y*n,w=y-r,x=_d(p,c),_=Math.exp(-v);return Fh-w/x*_},u=p=>{const v=p*c*n,w=v*r+r,x=Math.pow(c,2)*Math.pow(p,2)*n,_=Math.exp(-v),T=_d(Math.pow(p,2),c);return(-o(p)+Fh>0?-1:1)*((w-x)*_)/T}):(o=p=>{const y=Math.exp(-p*n),v=(p-r)*n+1;return-Fh+y*v},u=p=>{const y=Math.exp(-p*n),v=(r-p)*(n*n);return y*v});const d=5/n,f=Mj(o,u,d);if(n=Sn(n),isNaN(f))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:n};{const p=Math.pow(f,2)*a;return{stiffness:p,damping:c*2*Math.sqrt(a*p),duration:n}}}const Dj=12;function Mj(n,t,r){let a=r;for(let o=1;o<Dj;o++)a=a-n(a)/t(a);return a}function _d(n,t){return n*Math.sqrt(1-t*t)}const zj=["duration","bounce"],Lj=["stiffness","damping","mass"];function Oy(n,t){return t.some(r=>n[r]!==void 0)}function Uj(n){let t={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...n};if(!Oy(n,Lj)&&Oy(n,zj))if(n.visualDuration){const r=n.visualDuration,a=2*Math.PI/(r*1.2),o=a*a,u=2*Yn(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:Ye.mass,stiffness:o,damping:u}}else{const r=kj(n);t={...t,...r,mass:Ye.mass},t.isResolvedFromDuration=!0}return t}function Yl(n=Ye.visualDuration,t=Ye.bounce){const r=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:a,restDelta:o}=r;const u=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],d={done:!1,value:u},{stiffness:f,damping:p,mass:y,duration:v,velocity:w,isResolvedFromDuration:x}=Uj({...r,velocity:-nn(r.velocity||0)}),_=w||0,T=p/(2*Math.sqrt(f*y)),E=c-u,C=nn(Math.sqrt(f/y)),R=Math.abs(E)<5;a||(a=R?Ye.restSpeed.granular:Ye.restSpeed.default),o||(o=R?Ye.restDelta.granular:Ye.restDelta.default);let A;if(T<1){const B=_d(C,T);A=$=>{const V=Math.exp(-T*C*$);return c-V*((_+T*C*E)/B*Math.sin(B*$)+E*Math.cos(B*$))}}else if(T===1)A=B=>c-Math.exp(-C*B)*(E+(_+C*E)*B);else{const B=C*Math.sqrt(T*T-1);A=$=>{const V=Math.exp(-T*C*$),I=Math.min(B*$,300);return c-V*((_+T*C*E)*Math.sinh(I)+B*E*Math.cosh(I))/B}}const M={calculatedDuration:x&&v||null,next:B=>{const $=A(B);if(x)d.done=B>=v;else{let V=B===0?_:0;T<1&&(V=B===0?Sn(_):bw(A,B,$));const I=Math.abs(V)<=a,Q=Math.abs(c-$)<=o;d.done=I&&Q}return d.value=d.done?c:$,d},toString:()=>{const B=Math.min(Cf(M),Fl),$=vw(V=>M.next(B*V).value,B,30);return B+"ms "+$},toTransition:()=>{}};return M}Yl.applyToOptions=n=>{const t=Nj(n,100,Yl);return n.ease=t.ease,n.duration=Sn(t.duration),n.type="keyframes",n};function Sd({keyframes:n,velocity:t=0,power:r=.8,timeConstant:a=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:f,restDelta:p=.5,restSpeed:y}){const v=n[0],w={done:!1,value:v},x=I=>d!==void 0&&I<d||f!==void 0&&I>f,_=I=>d===void 0?f:f===void 0||Math.abs(d-I)<Math.abs(f-I)?d:f;let T=r*t;const E=v+T,C=c===void 0?E:c(E);C!==E&&(T=C-v);const R=I=>-T*Math.exp(-I/a),A=I=>C+R(I),M=I=>{const Q=R(I),J=A(I);w.done=Math.abs(Q)<=p,w.value=w.done?C:J};let B,$;const V=I=>{x(w.value)&&(B=I,$=Yl({keyframes:[w.value,_(w.value)],velocity:bw(A,I,w.value),damping:o,stiffness:u,restDelta:p,restSpeed:y}))};return V(0),{calculatedDuration:null,next:I=>{let Q=!1;return!$&&B===void 0&&(Q=!0,M(I),V(I)),B!==void 0&&I>=B?$.next(I-B):(!Q&&M(I),w)}}}function Pj(n,t,r){const a=[],o=r||Kn.mix||yw,u=n.length-1;for(let c=0;c<u;c++){let d=o(n[c],n[c+1]);if(t){const f=Array.isArray(t)?t[c]||rn:t;d=Gs(f,d)}a.push(d)}return a}function Bj(n,t,{clamp:r=!0,ease:a,mixer:o}={}){const u=n.length;if(vf(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=Pj(t,a,o),f=d.length,p=y=>{if(c&&y<n[0])return t[0];let v=0;if(f>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const w=Ds(n[v],n[v+1],y);return d[v](w)};return r?y=>p(Yn(n[0],n[u-1],y)):p}function Vj(n,t){const r=n[n.length-1];for(let a=1;a<=t;a++){const o=Ds(0,t,a);n.push(Ie(r,1,o))}}function Hj(n){const t=[0];return Vj(t,n.length-1),t}function qj(n,t){return n.map(r=>r*t)}function $j(n,t){return n.map(()=>t||ow).splice(0,n.length-1)}function Rs({duration:n=300,keyframes:t,times:r,ease:a="easeInOut"}){const o=ej(a)?a.map(Ty):Ty(a),u={done:!1,value:t[0]},c=qj(r&&r.length===t.length?r:Hj(t),n),d=Bj(c,t,{ease:Array.isArray(o)?o:$j(t,o)});return{calculatedDuration:n,next:f=>(u.value=d(f),u.done=f>=n,u)}}const Ij=n=>n!==null;function Rf(n,{repeat:t,repeatType:r="loop"},a,o=1){const u=n.filter(Ij),d=o<0||t&&r!=="loop"&&t%2===1?0:u.length-1;return!d||a===void 0?u[d]:a}const Gj={decay:Sd,inertia:Sd,tween:Rs,keyframes:Rs,spring:Yl};function ww(n){typeof n.type=="string"&&(n.type=Gj[n.type])}class Nf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Fj=n=>n/100;class Of extends Nf{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Dt.now()&&this.tick(Dt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ww(t);const{type:r=Rs,repeat:a=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const f=r||Rs;f!==Rs&&typeof d[0]!="number"&&(this.mixKeyframes=Gs(Fj,yw(d[0],d[1])),d=[0,100]);const p=f({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Cf(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(a+1)-o,this.generator=p}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:a,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return a.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:w,repeatDelay:x,type:_,onUpdate:T,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const C=this.currentTime-p*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let A=this.currentTime,M=a;if(v){const I=Math.min(this.currentTime,o)/d;let Q=Math.floor(I),J=I%1;!J&&I>=1&&(J=1),J===1&&Q--,Q=Math.min(Q,v+1),!!(Q%2)&&(w==="reverse"?(J=1-J,x&&(J-=x/d)):w==="mirror"&&(M=c)),A=Yn(0,1,J)*d}const B=R?{done:!1,value:y[0]}:M.next(A);u&&(B.value=u(B.value));let{done:$}=B;!R&&f!==null&&($=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return V&&_!==Sd&&(B.value=Rf(y,this.options,E,this.speed)),T&&T(B.value),V&&this.finish(),B}then(t,r){return this.finished.then(t,r)}get duration(){return nn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+nn(t)}get time(){return nn(this.currentTime)}set time(t){t=Sn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Dt.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=nn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Rj,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Yj(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const sr=n=>n*180/Math.PI,Ed=n=>{const t=sr(Math.atan2(n[1],n[0]));return jd(t)},Kj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Ed,rotateZ:Ed,skewX:n=>sr(Math.atan(n[1])),skewY:n=>sr(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},jd=n=>(n=n%360,n<0&&(n+=360),n),ky=Ed,Dy=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),My=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Wj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Dy,scaleY:My,scale:n=>(Dy(n)+My(n))/2,rotateX:n=>jd(sr(Math.atan2(n[6],n[5]))),rotateY:n=>jd(sr(Math.atan2(-n[2],n[0]))),rotateZ:ky,rotate:ky,skewX:n=>sr(Math.atan(n[4])),skewY:n=>sr(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Td(n){return n.includes("scale")?1:0}function Ad(n,t){if(!n||n==="none")return Td(t);const r=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,o;if(r)a=Wj,o=r;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=Kj,o=d}if(!o)return Td(t);const u=a[t],c=o[1].split(",").map(Zj);return typeof u=="function"?u(c):c[u]}const Xj=(n,t)=>{const{transform:r="none"}=getComputedStyle(n);return Ad(r,t)};function Zj(n){return parseFloat(n.trim())}const va=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ba=new Set(va),zy=n=>n===ya||n===fe,Jj=new Set(["x","y","z"]),Qj=va.filter(n=>!Jj.has(n));function eT(n){const t=[];return Qj.forEach(r=>{const a=n.getValue(r);a!==void 0&&(t.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),t}const lr={width:({x:n},{paddingLeft:t="0",paddingRight:r="0"})=>n.max-n.min-parseFloat(t)-parseFloat(r),height:({y:n},{paddingTop:t="0",paddingBottom:r="0"})=>n.max-n.min-parseFloat(t)-parseFloat(r),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Ad(t,"x"),y:(n,{transform:t})=>Ad(t,"y")};lr.translateX=lr.x;lr.translateY=lr.y;const ur=new Set;let Cd=!1,Rd=!1,Nd=!1;function xw(){if(Rd){const n=Array.from(ur).filter(a=>a.needsMeasurement),t=new Set(n.map(a=>a.element)),r=new Map;t.forEach(a=>{const o=eT(a);o.length&&(r.set(a,o),a.render())}),n.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const o=r.get(a);o&&o.forEach(([u,c])=>{a.getValue(u)?.set(c)})}),n.forEach(a=>a.measureEndState()),n.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}Rd=!1,Cd=!1,ur.forEach(n=>n.complete(Nd)),ur.clear()}function _w(){ur.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Rd=!0)})}function tT(){Nd=!0,_w(),xw(),Nd=!1}class kf{constructor(t,r,a,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=a,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ur.add(this),Cd||(Cd=!0,qe.read(_w),qe.resolveKeyframes(xw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:a,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(a&&r){const d=a.readValue(r,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}Yj(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ur.delete(this)}cancel(){this.state==="scheduled"&&(ur.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const nT=n=>n.startsWith("--");function iT(n,t,r){nT(t)?n.style.setProperty(t,r):n.style[t]=r}const rT=bf(()=>window.ScrollTimeline!==void 0),aT={};function sT(n,t){const r=bf(n);return()=>aT[t]??r()}const Sw=sT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Es=([n,t,r,a])=>`cubic-bezier(${n}, ${t}, ${r}, ${a})`,Ly={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Es([0,.65,.55,1]),circOut:Es([.55,0,1,.45]),backIn:Es([.31,.01,.66,-.59]),backOut:Es([.33,1.53,.69,.99])};function Ew(n,t){if(n)return typeof n=="function"?Sw()?vw(n,t):"ease-out":lw(n)?Es(n):Array.isArray(n)?n.map(r=>Ew(r,t)||Ly.easeOut):Ly[n]}function oT(n,t,r,{delay:a=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:f}={},p=void 0){const y={[t]:r};f&&(y.offset=f);const v=Ew(d,o);Array.isArray(v)&&(y.easing=v);const w={delay:a,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),n.animate(y,w)}function jw(n){return typeof n=="function"&&"applyToOptions"in n}function lT({type:n,...t}){return jw(n)&&Sw()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class uT extends Nf{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:a,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,vf(typeof t.type!="string");const p=lT(t);this.animation=oT(r,a,o,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const y=Rf(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):iT(r,a,y),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return nn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+nn(t)}get time(){return nn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Sn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&rT()?(this.animation.timeline=t,rn):r(this)}}const Tw={anticipate:rw,backInOut:iw,circInOut:sw};function cT(n){return n in Tw}function hT(n){typeof n.ease=="string"&&cT(n.ease)&&(n.ease=Tw[n.ease])}const Uy=10;class dT extends uT{constructor(t){hT(t),ww(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:a,onComplete:o,element:u,...c}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const d=new Of({...c,autoplay:!1}),f=Sn(this.finishedTime??this.time);r.setWithVelocity(d.sample(f-Uy).value,d.sample(f).value,Uy),d.stop()}}const Py=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ai.test(n)||n==="0")&&!n.startsWith("url("));function fT(n){const t=n[0];if(n.length===1)return!0;for(let r=0;r<n.length;r++)if(n[r]!==t)return!0}function mT(n,t,r,a){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=Py(o,t),d=Py(u,t);return!c||!d?!1:fT(n)||(r==="spring"||jw(r))&&a}function Od(n){n.duration=0,n.type="keyframes"}const pT=new Set(["opacity","clipPath","filter","transform"]),gT=bf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yT(n){const{motionValue:t,name:r,repeatDelay:a,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=t.owner.getProps();return gT()&&r&&pT.has(r)&&(r!=="transform"||!p)&&!f&&!a&&o!=="mirror"&&u!==0&&c!=="inertia"}const vT=40;class bT extends Nf{constructor({autoplay:t=!0,delay:r=0,type:a="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:f,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Dt.now();const w={autoplay:t,delay:r,type:a,repeat:o,repeatDelay:u,repeatType:c,name:f,motionValue:p,element:y,...v},x=y?.KeyframeResolver||kf;this.keyframeResolver=new x(d,(_,T,E)=>this.onKeyframesResolved(_,T,w,!E),f,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,a,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:f,isHandoff:p,onUpdate:y}=a;this.resolvedAt=Dt.now(),mT(t,u,c,d)||((Kn.instantAnimations||!f)&&y?.(Rf(t,a,r)),t[0]=t[t.length-1],Od(a),a.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>vT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:t},x=!p&&yT(w)?new dT({...w,element:w.motionValue.owner.current}):new Of(w);x.finished.then(()=>this.notifyFinished()).catch(rn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),tT()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const wT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xT(n){const t=wT.exec(n);if(!t)return[,];const[,r,a,o]=t;return[`--${r??a}`,o]}function Aw(n,t,r=1){const[a,o]=xT(n);if(!a)return;const u=window.getComputedStyle(t).getPropertyValue(a);if(u){const c=u.trim();return Wb(c)?parseFloat(c):c}return Ef(o)?Aw(o,t,r+1):o}function Df(n,t){return n?.[t]??n?.default??n}const Cw=new Set(["width","height","top","left","right","bottom",...va]),_T={test:n=>n==="auto",parse:n=>n},Rw=n=>t=>t.test(n),Nw=[ya,fe,En,_i,fj,dj,_T],By=n=>Nw.find(Rw(n));function ST(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Zb(n):!0}const ET=new Set(["brightness","contrast","saturate","opacity"]);function jT(n){const[t,r]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[a]=r.match(jf)||[];if(!a)return n;const o=r.replace(a,"");let u=ET.has(t)?1:0;return a!==r&&(u*=100),t+"("+u+o+")"}const TT=/\b([a-z-]*)\(.*?\)/gu,kd={...Ai,getAnimatableNone:n=>{const t=n.match(TT);return t?t.map(jT).join(" "):n}},Vy={...ya,transform:Math.round},AT={rotate:_i,rotateX:_i,rotateY:_i,rotateZ:_i,scale:bl,scaleX:bl,scaleY:bl,scaleZ:bl,skew:_i,skewX:_i,skewY:_i,distance:fe,translateX:fe,translateY:fe,translateZ:fe,x:fe,y:fe,z:fe,perspective:fe,transformPerspective:fe,opacity:Ms,originX:Ay,originY:Ay,originZ:fe},Mf={borderWidth:fe,borderTopWidth:fe,borderRightWidth:fe,borderBottomWidth:fe,borderLeftWidth:fe,borderRadius:fe,radius:fe,borderTopLeftRadius:fe,borderTopRightRadius:fe,borderBottomRightRadius:fe,borderBottomLeftRadius:fe,width:fe,maxWidth:fe,height:fe,maxHeight:fe,top:fe,right:fe,bottom:fe,left:fe,padding:fe,paddingTop:fe,paddingRight:fe,paddingBottom:fe,paddingLeft:fe,margin:fe,marginTop:fe,marginRight:fe,marginBottom:fe,marginLeft:fe,backgroundPositionX:fe,backgroundPositionY:fe,...AT,zIndex:Vy,fillOpacity:Ms,strokeOpacity:Ms,numOctaves:Vy},CT={...Mf,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:kd,WebkitFilter:kd},Ow=n=>CT[n];function kw(n,t){let r=Ow(n);return r!==kd&&(r=Ai),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const RT=new Set(["auto","none","0"]);function NT(n,t,r){let a=0,o;for(;a<n.length&&!o;){const u=n[a];typeof u=="string"&&!RT.has(u)&&zs(u).values.length&&(o=n[a]),a++}if(o&&r)for(const u of t)n[u]=kw(r,o)}class OT extends kf{constructor(t,r,a,o,u){super(t,r,a,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let p=t[f];if(typeof p=="string"&&(p=p.trim(),Ef(p))){const y=Aw(p,r.current);y!==void 0&&(t[f]=y),f===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Cw.has(a)||t.length!==2)return;const[o,u]=t,c=By(o),d=By(u);if(c!==d)if(zy(c)&&zy(d))for(let f=0;f<t.length;f++){const p=t[f];typeof p=="string"&&(t[f]=parseFloat(p))}else lr[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,a=[];for(let o=0;o<t.length;o++)(t[o]===null||ST(t[o]))&&a.push(o);a.length&&NT(t,a,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lr[a](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&t.getValue(a,o).jump(o,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const o=t.getValue(r);o&&o.jump(this.measuredOrigin,!1);const u=a.length-1,c=a[u];a[u]=lr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{t.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function kT(n,t,r){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let a=document;const o=r?.[n]??a.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const Dw=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function Mw(n){return Xb(n)&&"offsetHeight"in n}const Hy=30,DT=n=>!isNaN(parseFloat(n));class MT{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const o=Dt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Dt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=DT(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new wf);const a=this.events[t].add(r);return t==="change"?()=>{a(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Dt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Hy)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Hy);return Jb(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function la(n,t){return new MT(n,t)}const{schedule:zf}=uw(queueMicrotask,!1),fn={x:!1,y:!1};function zw(){return fn.x||fn.y}function zT(n){return n==="x"||n==="y"?fn[n]?null:(fn[n]=!0,()=>{fn[n]=!1}):fn.x||fn.y?null:(fn.x=fn.y=!0,()=>{fn.x=fn.y=!1})}function Lw(n,t){const r=kT(n),a=new AbortController,o={passive:!0,...t,signal:a.signal};return[r,o,()=>a.abort()]}function qy(n){return!(n.pointerType==="touch"||zw())}function LT(n,t,r={}){const[a,o,u]=Lw(n,r),c=d=>{if(!qy(d))return;const{target:f}=d,p=t(f,d);if(typeof p!="function"||!f)return;const y=v=>{qy(v)&&(p(v),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,o)};return a.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const Uw=(n,t)=>t?n===t?!0:Uw(n,t.parentElement):!1,Lf=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,UT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PT(n){return UT.has(n.tagName)||n.tabIndex!==-1}const Ll=new WeakSet;function $y(n){return t=>{t.key==="Enter"&&n(t)}}function Yh(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const BT=(n,t)=>{const r=n.currentTarget;if(!r)return;const a=$y(()=>{if(Ll.has(r))return;Yh(r,"down");const o=$y(()=>{Yh(r,"up")}),u=()=>Yh(r,"cancel");r.addEventListener("keyup",o,t),r.addEventListener("blur",u,t)});r.addEventListener("keydown",a,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),t)};function Iy(n){return Lf(n)&&!zw()}function VT(n,t,r={}){const[a,o,u]=Lw(n,r),c=d=>{const f=d.currentTarget;if(!Iy(d))return;Ll.add(f);const p=t(f,d),y=(x,_)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Ll.has(f)&&Ll.delete(f),Iy(x)&&typeof p=="function"&&p(x,{success:_})},v=x=>{y(x,f===window||f===document||r.useGlobalTarget||Uw(f,x.target))},w=x=>{y(x,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",w,o)};return a.forEach(d=>{(r.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),Mw(d)&&(d.addEventListener("focus",p=>BT(p,o)),!PT(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function Pw(n){return Xb(n)&&"ownerSVGElement"in n}function HT(n){return Pw(n)&&n.tagName==="svg"}const wt=n=>!!(n&&n.getVelocity),qT=[...Nw,at,Ai],$T=n=>qT.find(Rw(n)),Uf=j.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Gy(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function IT(...n){return t=>{let r=!1;const a=n.map(o=>{const u=Gy(o,t);return!r&&typeof u=="function"&&(r=!0),u});if(r)return()=>{for(let o=0;o<a.length;o++){const u=a[o];typeof u=="function"?u():Gy(n[o],null)}}}}function GT(...n){return j.useCallback(IT(...n),n)}class FT extends j.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const a=r.offsetParent,o=Mw(a)&&a.offsetWidth||0,u=this.props.sizeRef.current;u.height=r.offsetHeight||0,u.width=r.offsetWidth||0,u.top=r.offsetTop,u.left=r.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function YT({children:n,isPresent:t,anchorX:r,root:a}){const o=j.useId(),u=j.useRef(null),c=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=j.useContext(Uf),f=GT(u,n?.ref);return j.useInsertionEffect(()=>{const{width:p,height:y,top:v,left:w,right:x}=c.current;if(t||!u.current||!p||!y)return;const _=r==="left"?`left: ${w}`:`right: ${x}`;u.current.dataset.motionPopId=o;const T=document.createElement("style");d&&(T.nonce=d);const E=a??document.head;return E.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${_}px !important;
            top: ${v}px !important;
          }
        `),()=>{E.contains(T)&&E.removeChild(T)}},[t]),g.jsx(FT,{isPresent:t,childRef:u,sizeRef:c,children:j.cloneElement(n,{ref:f})})}const KT=({children:n,initial:t,isPresent:r,onExitComplete:a,custom:o,presenceAffectsLayout:u,mode:c,anchorX:d,root:f})=>{const p=mf(WT),y=j.useId();let v=!0,w=j.useMemo(()=>(v=!1,{id:y,initial:t,isPresent:r,custom:o,onExitComplete:x=>{p.set(x,!0);for(const _ of p.values())if(!_)return;a&&a()},register:x=>(p.set(x,!1),()=>p.delete(x))}),[r,p,a]);return u&&v&&(w={...w}),j.useMemo(()=>{p.forEach((x,_)=>p.set(_,!1))},[r]),j.useEffect(()=>{!r&&!p.size&&a&&a()},[r]),c==="popLayout"&&(n=g.jsx(YT,{isPresent:r,anchorX:d,root:f,children:n})),g.jsx(ou.Provider,{value:w,children:n})};function WT(){return new Map}function Bw(n=!0){const t=j.useContext(ou);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:o}=t,u=j.useId();j.useEffect(()=>{if(n)return o(u)},[n]);const c=j.useCallback(()=>n&&a&&a(u),[u,a,n]);return!r&&a?[!1,c]:[!0]}const wl=n=>n.key||"";function Fy(n){const t=[];return j.Children.forEach(n,r=>{j.isValidElement(r)&&t.push(r)}),t}const ji=({children:n,custom:t,initial:r=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:d="left",root:f})=>{const[p,y]=Bw(c),v=j.useMemo(()=>Fy(n),[n]),w=c&&!p?[]:v.map(wl),x=j.useRef(!0),_=j.useRef(v),T=mf(()=>new Map),[E,C]=j.useState(v),[R,A]=j.useState(v);Kb(()=>{x.current=!1,_.current=v;for(let $=0;$<R.length;$++){const V=wl(R[$]);w.includes(V)?T.delete(V):T.get(V)!==!0&&T.set(V,!1)}},[R,w.length,w.join("-")]);const M=[];if(v!==E){let $=[...v];for(let V=0;V<R.length;V++){const I=R[V],Q=wl(I);w.includes(Q)||($.splice(V,0,I),M.push(I))}return u==="wait"&&M.length&&($=M),A(Fy($)),C(v),null}const{forceRender:B}=j.useContext(ff);return g.jsx(g.Fragment,{children:R.map($=>{const V=wl($),I=c&&!p?!1:v===R||w.includes(V),Q=()=>{if(T.has(V))T.set(V,!0);else return;let J=!0;T.forEach(Y=>{Y||(J=!1)}),J&&(B?.(),A(_.current),c&&y?.(),a&&a())};return g.jsx(KT,{isPresent:I,initial:!x.current||r?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:f,onExitComplete:I?void 0:Q,anchorX:d,children:$},V)})})},Vw=j.createContext({strict:!1}),Yy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ua={};for(const n in Yy)ua[n]={isEnabled:t=>Yy[n].some(r=>!!t[r])};function XT(n){for(const t in n)ua[t]={...ua[t],...n[t]}}const ZT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kl(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||ZT.has(n)}let Hw=n=>!Kl(n);function JT(n){typeof n=="function"&&(Hw=t=>t.startsWith("on")?!Kl(t):n(t))}try{JT(require("@emotion/is-prop-valid").default)}catch{}function QT(n,t,r){const a={};for(const o in n)o==="values"&&typeof n.values=="object"||(Hw(o)||r===!0&&Kl(o)||!t&&!Kl(o)||n.draggable&&o.startsWith("onDrag"))&&(a[o]=n[o]);return a}const lu=j.createContext({});function uu(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Ls(n){return typeof n=="string"||Array.isArray(n)}const Pf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bf=["initial",...Pf];function cu(n){return uu(n.animate)||Bf.some(t=>Ls(n[t]))}function qw(n){return!!(cu(n)||n.variants)}function e5(n,t){if(cu(n)){const{initial:r,animate:a}=n;return{initial:r===!1||Ls(r)?r:void 0,animate:Ls(a)?a:void 0}}return n.inherit!==!1?t:{}}function t5(n){const{initial:t,animate:r}=e5(n,j.useContext(lu));return j.useMemo(()=>({initial:t,animate:r}),[Ky(t),Ky(r)])}function Ky(n){return Array.isArray(n)?n.join(" "):n}const Us={};function n5(n){for(const t in n)Us[t]=n[t],Sf(t)&&(Us[t].isCSSVariable=!0)}function $w(n,{layout:t,layoutId:r}){return ba.has(n)||n.startsWith("origin")||(t||r!==void 0)&&(!!Us[n]||n==="opacity")}const i5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},r5=va.length;function a5(n,t,r){let a="",o=!0;for(let u=0;u<r5;u++){const c=va[u],d=n[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||r){const p=Dw(d,Mf[c]);if(!f){o=!1;const y=i5[c]||c;a+=`${y}(${p}) `}r&&(t[c]=p)}}return a=a.trim(),r?a=r(t,o?"":a):o&&(a="none"),a}function Vf(n,t,r){const{style:a,vars:o,transformOrigin:u}=n;let c=!1,d=!1;for(const f in t){const p=t[f];if(ba.has(f)){c=!0;continue}else if(Sf(f)){o[f]=p;continue}else{const y=Dw(p,Mf[f]);f.startsWith("origin")?(d=!0,u[f]=y):a[f]=y}}if(t.transform||(c||r?a.transform=a5(t,n.transform,r):a.transform&&(a.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:y=0}=u;a.transformOrigin=`${f} ${p} ${y}`}}const Hf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Iw(n,t,r){for(const a in t)!wt(t[a])&&!$w(a,r)&&(n[a]=t[a])}function s5({transformTemplate:n},t){return j.useMemo(()=>{const r=Hf();return Vf(r,t,n),Object.assign({},r.vars,r.style)},[t])}function o5(n,t){const r=n.style||{},a={};return Iw(a,r,n),Object.assign(a,s5(n,t)),a}function l5(n,t){const r={},a=o5(n,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=a,r}const u5={offset:"stroke-dashoffset",array:"stroke-dasharray"},c5={offset:"strokeDashoffset",array:"strokeDasharray"};function h5(n,t,r=1,a=0,o=!0){n.pathLength=1;const u=o?u5:c5;n[u.offset]=fe.transform(-a);const c=fe.transform(t),d=fe.transform(r);n[u.array]=`${c} ${d}`}function Gw(n,{attrX:t,attrY:r,attrScale:a,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},f,p,y){if(Vf(n,d,p),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:w}=n;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),r!==void 0&&(v.y=r),a!==void 0&&(v.scale=a),o!==void 0&&h5(v,o,u,c,!1)}const Fw=()=>({...Hf(),attrs:{}}),Yw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function d5(n,t,r,a){const o=j.useMemo(()=>{const u=Fw();return Gw(u,t,Yw(a),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};Iw(u,n.style,n),o.style={...u,...o.style}}return o}const f5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qf(n){return typeof n!="string"||n.includes("-")?!1:!!(f5.indexOf(n)>-1||/[A-Z]/u.test(n))}function m5(n,t,r,{latestValues:a},o,u=!1){const d=(qf(n)?d5:l5)(t,a,o,n),f=QT(t,typeof n=="string",u),p=n!==j.Fragment?{...f,...d,ref:r}:{},{children:y}=t,v=j.useMemo(()=>wt(y)?y.get():y,[y]);return j.createElement(n,{...p,children:v})}function Wy(n){const t=[{},{}];return n?.values.forEach((r,a)=>{t[0][a]=r.get(),t[1][a]=r.getVelocity()}),t}function $f(n,t,r,a){if(typeof t=="function"){const[o,u]=Wy(a);t=t(r!==void 0?r:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=Wy(a);t=t(r!==void 0?r:n.custom,o,u)}return t}function Ul(n){return wt(n)?n.get():n}function p5({scrapeMotionValuesFromProps:n,createRenderState:t},r,a,o){return{latestValues:g5(r,a,o,n),renderState:t()}}function g5(n,t,r,a){const o={},u=a(n,{});for(const w in u)o[w]=Ul(u[w]);let{initial:c,animate:d}=n;const f=cu(n),p=qw(n);t&&p&&!f&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=r?r.initial===!1:!1;y=y||c===!1;const v=y?d:c;if(v&&typeof v!="boolean"&&!uu(v)){const w=Array.isArray(v)?v:[v];for(let x=0;x<w.length;x++){const _=$f(n,w[x]);if(_){const{transitionEnd:T,transition:E,...C}=_;for(const R in C){let A=C[R];if(Array.isArray(A)){const M=y?A.length-1:0;A=A[M]}A!==null&&(o[R]=A)}for(const R in T)o[R]=T[R]}}}return o}const Kw=n=>(t,r)=>{const a=j.useContext(lu),o=j.useContext(ou),u=()=>p5(n,t,a,o);return r?u():mf(u)};function If(n,t,r){const{style:a}=n,o={};for(const u in a)(wt(a[u])||t.style&&wt(t.style[u])||$w(u,n)||r?.getValue(u)?.liveStyle!==void 0)&&(o[u]=a[u]);return o}const y5=Kw({scrapeMotionValuesFromProps:If,createRenderState:Hf});function Ww(n,t,r){const a=If(n,t,r);for(const o in n)if(wt(n[o])||wt(t[o])){const u=va.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;a[u]=n[o]}return a}const v5=Kw({scrapeMotionValuesFromProps:Ww,createRenderState:Fw}),b5=Symbol.for("motionComponentSymbol");function ta(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function w5(n,t,r){return j.useCallback(a=>{a&&n.onMount&&n.onMount(a),t&&(a?t.mount(a):t.unmount()),r&&(typeof r=="function"?r(a):ta(r)&&(r.current=a))},[t])}const Gf=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),x5="framerAppearId",Xw="data-"+Gf(x5),Zw=j.createContext({});function _5(n,t,r,a,o){const{visualElement:u}=j.useContext(lu),c=j.useContext(Vw),d=j.useContext(ou),f=j.useContext(Uf).reducedMotion,p=j.useRef(null);a=a||c.renderer,!p.current&&a&&(p.current=a(n,{visualState:t,parent:u,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const y=p.current,v=j.useContext(Zw);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&S5(p.current,r,o,v);const w=j.useRef(!1);j.useInsertionEffect(()=>{y&&w.current&&y.update(r,d)});const x=r[Xw],_=j.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return Kb(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),_.current&&y.animationState&&y.animationState.animateChanges())}),j.useEffect(()=>{y&&(!_.current&&y.animationState&&y.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),_.current=!1),y.enteringChildren=void 0)}),y}function S5(n,t,r,a){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:y}=t;n.projection=new r(n.latestValues,t["data-framer-portal-id"]?void 0:Jw(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&ta(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,crossfade:y,layoutScroll:f,layoutRoot:p})}function Jw(n){if(n)return n.options.allowProjection!==!1?n.projection:Jw(n.parent)}function Kh(n,{forwardMotionProps:t=!1}={},r,a){r&&XT(r);const o=qf(n)?v5:y5;function u(d,f){let p;const y={...j.useContext(Uf),...d,layoutId:E5(d)},{isStatic:v}=y,w=t5(d),x=o(d,v);if(!v&&pf){j5();const _=T5(y);p=_.MeasureLayout,w.visualElement=_5(n,x,y,a,_.ProjectionNode)}return g.jsxs(lu.Provider,{value:w,children:[p&&w.visualElement?g.jsx(p,{visualElement:w.visualElement,...y}):null,m5(n,d,w5(x,w.visualElement,f),x,v,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=j.forwardRef(u);return c[b5]=n,c}function E5({layoutId:n}){const t=j.useContext(ff).id;return t&&n!==void 0?t+"-"+n:n}function j5(n,t){j.useContext(Vw).strict}function T5(n){const{drag:t,layout:r}=ua;if(!t&&!r)return{};const a={...t,...r};return{MeasureLayout:t?.isEnabled(n)||r?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function A5(n,t){if(typeof Proxy>"u")return Kh;const r=new Map,a=(u,c)=>Kh(u,c,n,t),o=(u,c)=>a(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?a:(r.has(c)||r.set(c,Kh(c,void 0,n,t)),r.get(c))})}function Qw({top:n,left:t,right:r,bottom:a}){return{x:{min:t,max:r},y:{min:n,max:a}}}function C5({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function R5(n,t){if(!t)return n;const r=t({x:n.left,y:n.top}),a=t({x:n.right,y:n.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function Wh(n){return n===void 0||n===1}function Dd({scale:n,scaleX:t,scaleY:r}){return!Wh(n)||!Wh(t)||!Wh(r)}function Qi(n){return Dd(n)||ex(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function ex(n){return Xy(n.x)||Xy(n.y)}function Xy(n){return n&&n!=="0%"}function Wl(n,t,r){const a=n-r,o=t*a;return r+o}function Zy(n,t,r,a,o){return o!==void 0&&(n=Wl(n,o,a)),Wl(n,r,a)+t}function Md(n,t=0,r=1,a,o){n.min=Zy(n.min,t,r,a,o),n.max=Zy(n.max,t,r,a,o)}function tx(n,{x:t,y:r}){Md(n.x,t.translate,t.scale,t.originPoint),Md(n.y,r.translate,r.scale,r.originPoint)}const Jy=.999999999999,Qy=1.0000000000001;function N5(n,t,r,a=!1){const o=r.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=r[d],c=u.projectionDelta;const{visualElement:f}=u.options;f&&f.props.style&&f.props.style.display==="contents"||(a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ia(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,tx(n,c)),a&&Qi(u.latestValues)&&ia(n,u.latestValues))}t.x<Qy&&t.x>Jy&&(t.x=1),t.y<Qy&&t.y>Jy&&(t.y=1)}function na(n,t){n.min=n.min+t,n.max=n.max+t}function ev(n,t,r,a,o=.5){const u=Ie(n.min,n.max,o);Md(n,t,r,u,a)}function ia(n,t){ev(n.x,t.x,t.scaleX,t.scale,t.originX),ev(n.y,t.y,t.scaleY,t.scale,t.originY)}function nx(n,t){return Qw(R5(n.getBoundingClientRect(),t))}function O5(n,t,r){const a=nx(n,r),{scroll:o}=t;return o&&(na(a.x,o.offset.x),na(a.y,o.offset.y)),a}const tv=()=>({translate:0,scale:1,origin:0,originPoint:0}),ra=()=>({x:tv(),y:tv()}),nv=()=>({min:0,max:0}),ot=()=>({x:nv(),y:nv()}),zd={current:null},ix={current:!1};function k5(){if(ix.current=!0,!!pf)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>zd.current=n.matches;n.addEventListener("change",t),t()}else zd.current=!1}const D5=new WeakMap;function M5(n,t,r){for(const a in t){const o=t[a],u=r[a];if(wt(o))n.addValue(a,o);else if(wt(u))n.addValue(a,la(o,{owner:n}));else if(u!==o)if(n.hasValue(a)){const c=n.getValue(a);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(a);n.addValue(a,la(c!==void 0?c:o,{owner:n}))}}for(const a in r)t[a]===void 0&&n.removeValue(a);return t}const iv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class z5{scrapeMotionValuesFromProps(t,r,a){return{}}constructor({parent:t,props:r,presenceContext:a,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Dt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,qe.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=r.initial?{...f}:{},this.renderState=p,this.parent=t,this.props=r,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=cu(r),this.isVariantNode=qw(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const w in v){const x=v[w];f[w]!==void 0&&wt(x)&&x.set(f[w])}}mount(t){this.current=t,D5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),ix.current||k5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zd.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ti(this.notifyUpdate),Ti(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=ba.has(t);a&&this.onBindTransform&&this.onBindTransform();const o=r.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&qe.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ua){const r=ua[t];if(!r)continue;const{isEnabled:a,Feature:o}=r;if(!this.features[t]&&o&&a(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ot()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<iv.length;a++){const o=iv[a];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=M5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const a=this.values.get(t);r!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&r!==void 0&&(a=la(r===null?void 0:r,{owner:this}),this.addValue(t,a)),a}readValue(t,r){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(Wb(a)||Zb(a))?a=parseFloat(a):!$T(a)&&Ai.test(r)&&(a=kw(t,r)),this.setBaseTarget(t,wt(a)?a.get():a)),wt(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const u=$f(this.props,r,this.presenceContext?.custom);u&&(a=u[t])}if(r&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!wt(o)?o:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new wf),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){zf.render(this.render)}}class rx extends z5{constructor(){super(...arguments),this.KeyframeResolver=OT}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:a}){delete r[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function ax(n,{style:t,vars:r},a,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,a);for(c in r)u.setProperty(c,r[c])}function L5(n){return window.getComputedStyle(n)}class U5 extends rx{constructor(){super(...arguments),this.type="html",this.renderInstance=ax}readValueFromInstance(t,r){if(ba.has(r))return this.projection?.isProjecting?Td(r):Xj(t,r);{const a=L5(t),o=(Sf(r)?a.getPropertyValue(r):a[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:r}){return nx(t,r)}build(t,r,a){Vf(t,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,r,a){return If(t,r,a)}}const sx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function P5(n,t,r,a){ax(n,t,void 0,a);for(const o in t.attrs)n.setAttribute(sx.has(o)?o:Gf(o),t.attrs[o])}class B5 extends rx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ot}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ba.has(r)){const a=Ow(r);return a&&a.default||0}return r=sx.has(r)?r:Gf(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,a){return Ww(t,r,a)}build(t,r,a){Gw(t,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,r,a,o){P5(t,r,a,o)}mount(t){this.isSVGTag=Yw(t.tagName),super.mount(t)}}const V5=(n,t)=>qf(n)?new B5(t):new U5(t,{allowProjection:n!==j.Fragment});function aa(n,t,r){const a=n.getProps();return $f(a,t,r!==void 0?r:a.custom,n)}const Ld=n=>Array.isArray(n);function H5(n,t,r){n.hasValue(t)?n.getValue(t).set(r):n.addValue(t,la(r))}function q5(n){return Ld(n)?n[n.length-1]||0:n}function $5(n,t){const r=aa(n,t);let{transitionEnd:a={},transition:o={},...u}=r||{};u={...u,...a};for(const c in u){const d=q5(u[c]);H5(n,c,d)}}function I5(n){return!!(wt(n)&&n.add)}function Ud(n,t){const r=n.getValue("willChange");if(I5(r))return r.add(t);if(!r&&Kn.WillChange){const a=new Kn.WillChange("auto");n.addValue("willChange",a),a.add(t)}}function ox(n){return n.props[Xw]}const G5=n=>n!==null;function F5(n,{repeat:t,repeatType:r="loop"},a){const o=n.filter(G5),u=t&&r!=="loop"&&t%2===1?0:o.length-1;return o[u]}const Y5={type:"spring",stiffness:500,damping:25,restSpeed:10},K5=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),W5={type:"keyframes",duration:.8},X5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Z5=(n,{keyframes:t})=>t.length>2?W5:ba.has(n)?n.startsWith("scale")?K5(t[1]):Y5:X5;function J5({when:n,delay:t,delayChildren:r,staggerChildren:a,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:f,elapsed:p,...y}){return!!Object.keys(y).length}const Ff=(n,t,r,a={},o,u)=>c=>{const d=Df(a,n)||{},f=d.delay||a.delay||0;let{elapsed:p=0}=a;p=p-Sn(f);const y={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-p,onUpdate:w=>{t.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};J5(d)||Object.assign(y,Z5(n,y)),y.duration&&(y.duration=Sn(y.duration)),y.repeatDelay&&(y.repeatDelay=Sn(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Od(y),y.delay===0&&(v=!0)),(Kn.instantAnimations||Kn.skipAnimations)&&(v=!0,Od(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,v&&!u&&t.get()!==void 0){const w=F5(y.keyframes,d);if(w!==void 0){qe.update(()=>{y.onUpdate(w),y.onComplete()});return}}return d.isSync?new Of(y):new bT(y)};function Q5({protectedKeys:n,needsAnimating:t},r){const a=n.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,a}function lx(n,t,{delay:r=0,transitionOverride:a,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...d}=t;a&&(u=a);const f=[],p=o&&n.animationState&&n.animationState.getState()[o];for(const y in d){const v=n.getValue(y,n.latestValues[y]??null),w=d[y];if(w===void 0||p&&Q5(p,y))continue;const x={delay:r,...Df(u||{},y)},_=v.get();if(_!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===_&&!x.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const C=ox(n);if(C){const R=window.MotionHandoffAnimation(C,y,qe);R!==null&&(x.startTime=R,T=!0)}}Ud(n,y),v.start(Ff(y,v,w,n.shouldReduceMotion&&Cw.has(y)?{type:!1}:x,n,T));const E=v.animation;E&&f.push(E)}return c&&Promise.all(f).then(()=>{qe.update(()=>{c&&$5(n,c)})}),f}function ux(n,t,r,a=0,o=1){const u=Array.from(n).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),c=n.size,d=(c-1)*a;return typeof r=="function"?r(u,c):o===1?u*a:d-u*a}function Pd(n,t,r={}){const a=aa(n,t,r.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(o=r.transitionOverride);const u=a?()=>Promise.all(lx(n,a,r)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=o;return eA(n,t,f,p,y,v,r)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,p]=d==="beforeChildren"?[u,c]:[c,u];return f().then(()=>p())}else return Promise.all([u(),c(r.delay)])}function eA(n,t,r=0,a=0,o=0,u=1,c){const d=[];for(const f of n.variantChildren)f.notify("AnimationStart",t),d.push(Pd(f,t,{...c,delay:r+(typeof a=="function"?0:a)+ux(n.variantChildren,f,a,o,u)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(d)}function tA(n,t,r={}){n.notify("AnimationStart",t);let a;if(Array.isArray(t)){const o=t.map(u=>Pd(n,u,r));a=Promise.all(o)}else if(typeof t=="string")a=Pd(n,t,r);else{const o=typeof t=="function"?aa(n,t,r.custom):t;a=Promise.all(lx(n,o,r))}return a.then(()=>{n.notify("AnimationComplete",t)})}function cx(n,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==n.length)return!1;for(let a=0;a<r;a++)if(t[a]!==n[a])return!1;return!0}const nA=Bf.length;function hx(n){if(!n)return;if(!n.isControllingVariants){const r=n.parent?hx(n.parent)||{}:{};return n.props.initial!==void 0&&(r.initial=n.props.initial),r}const t={};for(let r=0;r<nA;r++){const a=Bf[r],o=n.props[a];(Ls(o)||o===!1)&&(t[a]=o)}return t}const iA=[...Pf].reverse(),rA=Pf.length;function aA(n){return t=>Promise.all(t.map(({animation:r,options:a})=>tA(n,r,a)))}function sA(n){let t=aA(n),r=rv(),a=!0;const o=f=>(p,y)=>{const v=aa(n,y,f==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:x,..._}=v;p={...p,..._,...x}}return p};function u(f){t=f(n)}function c(f){const{props:p}=n,y=hx(n.parent)||{},v=[],w=new Set;let x={},_=1/0;for(let E=0;E<rA;E++){const C=iA[E],R=r[C],A=p[C]!==void 0?p[C]:y[C],M=Ls(A),B=C===f?R.isActive:null;B===!1&&(_=E);let $=A===y[C]&&A!==p[C]&&M;if($&&a&&n.manuallyAnimateOnMount&&($=!1),R.protectedKeys={...x},!R.isActive&&B===null||!A&&!R.prevProp||uu(A)||typeof A=="boolean")continue;const V=oA(R.prevProp,A);let I=V||C===f&&R.isActive&&!$&&M||E>_&&M,Q=!1;const J=Array.isArray(A)?A:[A];let Y=J.reduce(o(C),{});B===!1&&(Y={});const{prevResolvedValues:Z={}}=R,X={...Z,...Y},ee=W=>{I=!0,w.has(W)&&(Q=!0,w.delete(W)),R.needsAnimating[W]=!0;const ie=n.getValue(W);ie&&(ie.liveStyle=!1)};for(const W in X){const ie=Y[W],ye=Z[W];if(x.hasOwnProperty(W))continue;let ge=!1;Ld(ie)&&Ld(ye)?ge=!cx(ie,ye):ge=ie!==ye,ge?ie!=null?ee(W):w.add(W):ie!==void 0&&w.has(W)?ee(W):R.protectedKeys[W]=!0}R.prevProp=A,R.prevResolvedValues=Y,R.isActive&&(x={...x,...Y}),a&&n.blockInitialAnimation&&(I=!1);const ae=$&&V;I&&(!ae||Q)&&v.push(...J.map(W=>{const ie={type:C};if(typeof W=="string"&&a&&!ae&&n.manuallyAnimateOnMount&&n.parent){const{parent:ye}=n,ge=aa(ye,W);if(ye.enteringChildren&&ge){const{delayChildren:k}=ge.transition||{};ie.delay=ux(ye.enteringChildren,n,k)}}return{animation:W,options:ie}}))}if(w.size){const E={};if(typeof p.initial!="boolean"){const C=aa(n,Array.isArray(p.initial)?p.initial[0]:p.initial);C&&C.transition&&(E.transition=C.transition)}w.forEach(C=>{const R=n.getBaseTarget(C),A=n.getValue(C);A&&(A.liveStyle=!0),E[C]=R??null}),v.push({animation:E})}let T=!!v.length;return a&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(T=!1),a=!1,T?t(v):Promise.resolve()}function d(f,p){if(r[f].isActive===p)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(f,p)),r[f].isActive=p;const y=c(f);for(const v in r)r[v].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>r,reset:()=>{r=rv()}}}function oA(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!cx(t,n):!1}function Xi(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rv(){return{animate:Xi(!0),whileInView:Xi(),whileHover:Xi(),whileTap:Xi(),whileDrag:Xi(),whileFocus:Xi(),exit:Xi()}}class Ri{constructor(t){this.isMounted=!1,this.node=t}update(){}}class lA extends Ri{constructor(t){super(t),t.animationState||(t.animationState=sA(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();uu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let uA=0;class cA extends Ri{constructor(){super(...arguments),this.id=uA++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const o=this.node.animationState.setActive("exit",!t);r&&!t&&o.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const hA={animation:{Feature:lA},exit:{Feature:cA}};function Ps(n,t,r,a={passive:!0}){return n.addEventListener(t,r,a),()=>n.removeEventListener(t,r)}function Ks(n){return{point:{x:n.pageX,y:n.pageY}}}const dA=n=>t=>Lf(t)&&n(t,Ks(t));function Ns(n,t,r,a){return Ps(n,t,dA(r),a)}const dx=1e-4,fA=1-dx,mA=1+dx,fx=.01,pA=0-fx,gA=0+fx;function St(n){return n.max-n.min}function yA(n,t,r){return Math.abs(n-t)<=r}function av(n,t,r,a=.5){n.origin=a,n.originPoint=Ie(t.min,t.max,n.origin),n.scale=St(r)/St(t),n.translate=Ie(r.min,r.max,n.origin)-n.originPoint,(n.scale>=fA&&n.scale<=mA||isNaN(n.scale))&&(n.scale=1),(n.translate>=pA&&n.translate<=gA||isNaN(n.translate))&&(n.translate=0)}function Os(n,t,r,a){av(n.x,t.x,r.x,a?a.originX:void 0),av(n.y,t.y,r.y,a?a.originY:void 0)}function sv(n,t,r){n.min=r.min+t.min,n.max=n.min+St(t)}function vA(n,t,r){sv(n.x,t.x,r.x),sv(n.y,t.y,r.y)}function ov(n,t,r){n.min=t.min-r.min,n.max=n.min+St(t)}function Xl(n,t,r){ov(n.x,t.x,r.x),ov(n.y,t.y,r.y)}function tn(n){return[n("x"),n("y")]}const mx=({current:n})=>n?n.ownerDocument.defaultView:null,lv=(n,t)=>Math.abs(n-t);function bA(n,t){const r=lv(n.x,t.x),a=lv(n.y,t.y);return Math.sqrt(r**2+a**2)}class px{constructor(t,r,{transformPagePoint:a,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Zh(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,_=bA(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!_)return;const{point:T}=w,{timestamp:E}=yt;this.history.push({...T,timestamp:E});const{onStart:C,onMove:R}=this.handlers;x||(C&&C(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,w)},this.handlePointerMove=(w,x)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Xh(x,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(w,x)=>{this.end();const{onEnd:_,onSessionEnd:T,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Zh(w.type==="pointercancel"?this.lastMoveEventInfo:Xh(x,this.transformPagePoint),this.history);this.startEvent&&_&&_(w,C),T&&T(w,C)},!Lf(t))return;this.dragSnapToOrigin=u,this.handlers=r,this.transformPagePoint=a,this.distanceThreshold=c,this.contextWindow=o||window;const d=Ks(t),f=Xh(d,this.transformPagePoint),{point:p}=f,{timestamp:y}=yt;this.history=[{...p,timestamp:y}];const{onSessionStart:v}=r;v&&v(t,Zh(f,this.history)),this.removeListeners=Gs(Ns(this.contextWindow,"pointermove",this.handlePointerMove),Ns(this.contextWindow,"pointerup",this.handlePointerUp),Ns(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ti(this.updatePoint)}}function Xh(n,t){return t?{point:t(n.point)}:n}function uv(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Zh({point:n},t){return{point:n,delta:uv(n,gx(t)),offset:uv(n,wA(t)),velocity:xA(t,.1)}}function wA(n){return n[0]}function gx(n){return n[n.length-1]}function xA(n,t){if(n.length<2)return{x:0,y:0};let r=n.length-1,a=null;const o=gx(n);for(;r>=0&&(a=n[r],!(o.timestamp-a.timestamp>Sn(t)));)r--;if(!a)return{x:0,y:0};const u=nn(o.timestamp-a.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-a.x)/u,y:(o.y-a.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function _A(n,{min:t,max:r},a){return t!==void 0&&n<t?n=a?Ie(t,n,a.min):Math.max(n,t):r!==void 0&&n>r&&(n=a?Ie(r,n,a.max):Math.min(n,r)),n}function cv(n,t,r){return{min:t!==void 0?n.min+t:void 0,max:r!==void 0?n.max+r-(n.max-n.min):void 0}}function SA(n,{top:t,left:r,bottom:a,right:o}){return{x:cv(n.x,r,o),y:cv(n.y,t,a)}}function hv(n,t){let r=t.min-n.min,a=t.max-n.max;return t.max-t.min<n.max-n.min&&([r,a]=[a,r]),{min:r,max:a}}function EA(n,t){return{x:hv(n.x,t.x),y:hv(n.y,t.y)}}function jA(n,t){let r=.5;const a=St(n),o=St(t);return o>a?r=Ds(t.min,t.max-a,n.min):a>o&&(r=Ds(n.min,n.max-o,t.min)),Yn(0,1,r)}function TA(n,t){const r={};return t.min!==void 0&&(r.min=t.min-n.min),t.max!==void 0&&(r.max=t.max-n.min),r}const Bd=.35;function AA(n=Bd){return n===!1?n=0:n===!0&&(n=Bd),{x:dv(n,"left","right"),y:dv(n,"top","bottom")}}function dv(n,t,r){return{min:fv(n,t),max:fv(n,r)}}function fv(n,t){return typeof n=="number"?n:n[t]||0}const CA=new WeakMap;class RA{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ot(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:a}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ks(v).point)},c=(v,w)=>{const{drag:x,dragPropagation:_,onDragStart:T}=this.getProps();if(x&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zT(x),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tn(C=>{let R=this.getAxisMotionValue(C).get()||0;if(En.test(R)){const{projection:A}=this.visualElement;if(A&&A.layout){const M=A.layout.layoutBox[C];M&&(R=St(M)*(parseFloat(R)/100))}}this.originPoint[C]=R}),T&&qe.postRender(()=>T(v,w)),Ud(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},d=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:x,dragDirectionLock:_,onDirectionLock:T,onDrag:E}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:C}=w;if(_&&this.currentDirection===null){this.currentDirection=NA(C),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",w.point,C),this.updateAxis("y",w.point,C),this.visualElement.render(),E&&E(v,w)},f=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>tn(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new px(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:a,contextWindow:mx(this.visualElement)})}stop(t,r){const a=t||this.latestPointerEvent,o=r||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!a)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&qe.postRender(()=>d(a,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,a){const{drag:o}=this.getProps();if(!a||!xl(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(c=_A(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&ta(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=SA(a.layoutBox,t):this.constraints=!1,this.elastic=AA(r),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&tn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=TA(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ta(t))return!1;const a=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=O5(a,o.root,this.visualElement.getTransformPagePoint());let c=EA(o.layout.layoutBox,u);if(r){const d=r(C5(c));this.hasMutatedConstraints=!!d,d&&(c=Qw(d))}return c}startAnimation(t){const{drag:r,dragMomentum:a,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=tn(y=>{if(!xl(y,r,this.currentDirection))return;let v=f&&f[y]||{};c&&(v={min:0,max:0});const w=o?200:1e6,x=o?40:1e7,_={type:"inertia",velocity:a?t[y]:0,bounceStiffness:w,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(y,_)});return Promise.all(p).then(d)}startAxisValueAnimation(t,r){const a=this.getAxisMotionValue(t);return Ud(this.visualElement,t),a.start(Ff(t,a,0,r,this.visualElement,!1))}stopAnimation(){tn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){tn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),o=a[r];return o||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){tn(r=>{const{drag:a}=this.getProps();if(!xl(r,a,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(r);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[r];u.set(t[r]-Ie(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!ta(r)||!a||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};tn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();o[c]=jA({min:f,max:f},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),tn(c=>{if(!xl(c,t,null))return;const d=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];d.set(Ie(f,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;CA.set(this.visualElement,this);const t=this.visualElement.current,r=Ns(t,"pointerdown",f=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(f)}),a=()=>{const{dragConstraints:f}=this.getProps();ta(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),qe.read(a);const c=Ps(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(tn(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=f[y].translate,v.set(v.get()+f[y].translate))}),this.visualElement.render())}));return()=>{c(),r(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Bd,dragMomentum:d=!0}=t;return{...t,drag:r,dragDirectionLock:a,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function xl(n,t,r){return(t===!0||t===n)&&(r===null||r===n)}function NA(n,t=10){let r=null;return Math.abs(n.y)>t?r="y":Math.abs(n.x)>t&&(r="x"),r}class OA extends Ri{constructor(t){super(t),this.removeGroupControls=rn,this.removeListeners=rn,this.controls=new RA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const mv=n=>(t,r)=>{n&&qe.postRender(()=>n(t,r))};class kA extends Ri{constructor(){super(...arguments),this.removePointerDownListener=rn}onPointerDown(t){this.session=new px(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:a,onPanEnd:o}=this.node.getProps();return{onSessionStart:mv(t),onStart:mv(r),onMove:a,onEnd:(u,c)=>{delete this.session,o&&qe.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Ns(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Pl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pv(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const vs={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(fe.test(n))n=parseFloat(n);else return n;const r=pv(n,t.target.x),a=pv(n,t.target.y);return`${r}% ${a}%`}},DA={correct:(n,{treeScale:t,projectionDelta:r})=>{const a=n,o=Ai.parse(n);if(o.length>5)return a;const u=Ai.createTransformer(n),c=typeof o[0]!="number"?1:0,d=r.x.scale*t.x,f=r.y.scale*t.y;o[0+c]/=d,o[1+c]/=f;const p=Ie(d,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),u(o)}};let Jh=!1;class MA extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a,layoutId:o}=this.props,{projection:u}=t;n5(zA),u&&(r.group&&r.group.add(u),a&&a.register&&o&&a.register(u),Jh&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Pl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:a,drag:o,isPresent:u}=this.props,{projection:c}=a;return c&&(c.isPresent=u,Jh=!0,o||t.layoutDependency!==r||r===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||qe.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),zf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:o}=t;Jh=!0,o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),a&&a.deregister&&a.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function yx(n){const[t,r]=Bw(),a=j.useContext(ff);return g.jsx(MA,{...n,layoutGroup:a,switchLayoutGroup:j.useContext(Zw),isPresent:t,safeToRemove:r})}const zA={borderRadius:{...vs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vs,borderTopRightRadius:vs,borderBottomLeftRadius:vs,borderBottomRightRadius:vs,boxShadow:DA};function LA(n,t,r){const a=wt(n)?n:la(n);return a.start(Ff("",a,t,r)),a.animation}const UA=(n,t)=>n.depth-t.depth;class PA{constructor(){this.children=[],this.isDirty=!1}add(t){gf(this.children,t),this.isDirty=!0}remove(t){yf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(UA),this.isDirty=!1,this.children.forEach(t)}}function BA(n,t){const r=Dt.now(),a=({timestamp:o})=>{const u=o-r;u>=t&&(Ti(a),n(u-t))};return qe.setup(a,!0),()=>Ti(a)}const vx=["TopLeft","TopRight","BottomLeft","BottomRight"],VA=vx.length,gv=n=>typeof n=="string"?parseFloat(n):n,yv=n=>typeof n=="number"||fe.test(n);function HA(n,t,r,a,o,u){o?(n.opacity=Ie(0,r.opacity??1,qA(a)),n.opacityExit=Ie(t.opacity??1,0,$A(a))):u&&(n.opacity=Ie(t.opacity??1,r.opacity??1,a));for(let c=0;c<VA;c++){const d=`border${vx[c]}Radius`;let f=vv(t,d),p=vv(r,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||yv(f)===yv(p)?(n[d]=Math.max(Ie(gv(f),gv(p),a),0),(En.test(p)||En.test(f))&&(n[d]+="%")):n[d]=p}(t.rotate||r.rotate)&&(n.rotate=Ie(t.rotate||0,r.rotate||0,a))}function vv(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const qA=bx(0,.5,aw),$A=bx(.5,.95,rn);function bx(n,t,r){return a=>a<n?0:a>t?1:r(Ds(n,t,a))}function bv(n,t){n.min=t.min,n.max=t.max}function hn(n,t){bv(n.x,t.x),bv(n.y,t.y)}function wv(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function xv(n,t,r,a,o){return n-=t,n=Wl(n,1/r,a),o!==void 0&&(n=Wl(n,1/o,a)),n}function IA(n,t=0,r=1,a=.5,o,u=n,c=n){if(En.test(t)&&(t=parseFloat(t),t=Ie(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Ie(u.min,u.max,a);n===u&&(d-=t),n.min=xv(n.min,t,r,d,o),n.max=xv(n.max,t,r,d,o)}function _v(n,t,[r,a,o],u,c){IA(n,t[r],t[a],t[o],t.scale,u,c)}const GA=["x","scaleX","originX"],FA=["y","scaleY","originY"];function Sv(n,t,r,a){_v(n.x,t,GA,r?r.x:void 0,a?a.x:void 0),_v(n.y,t,FA,r?r.y:void 0,a?a.y:void 0)}function Ev(n){return n.translate===0&&n.scale===1}function wx(n){return Ev(n.x)&&Ev(n.y)}function jv(n,t){return n.min===t.min&&n.max===t.max}function YA(n,t){return jv(n.x,t.x)&&jv(n.y,t.y)}function Tv(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function xx(n,t){return Tv(n.x,t.x)&&Tv(n.y,t.y)}function Av(n){return St(n.x)/St(n.y)}function Cv(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class KA{constructor(){this.members=[]}add(t){gf(this.members,t),t.scheduleRender()}remove(t){if(yf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(o=>t===o);if(r===0)return!1;let a;for(let o=r;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){a=u;break}}return a?(this.promote(a),!0):!1}promote(t,r){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,r&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:a}=t;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WA(n,t,r){let a="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=r?.z||0;if((o||u||c)&&(a=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:w,skewX:x,skewY:_}=r;p&&(a=`perspective(${p}px) ${a}`),y&&(a+=`rotate(${y}deg) `),v&&(a+=`rotateX(${v}deg) `),w&&(a+=`rotateY(${w}deg) `),x&&(a+=`skewX(${x}deg) `),_&&(a+=`skewY(${_}deg) `)}const d=n.x.scale*t.x,f=n.y.scale*t.y;return(d!==1||f!==1)&&(a+=`scale(${d}, ${f})`),a||"none"}const Qh=["","X","Y","Z"],XA=1e3;let ZA=0;function ed(n,t,r,a){const{latestValues:o}=t;o[n]&&(r[n]=o[n],t.setStaticValue(n,0),a&&(a[n]=0))}function _x(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const r=ox(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(r,"transform",qe,!(o||u))}const{parent:a}=n;a&&!a.hasCheckedOptimisedAppear&&_x(a)}function Sx({attachResizeListener:n,defaultParent:t,measureScroll:r,checkIsScrollRoot:a,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=ZA++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eC),this.nodes.forEach(rC),this.nodes.forEach(aC),this.nodes.forEach(tC)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new PA)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new wf),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Pw(c)&&!HT(c),this.instance=c;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),n){let y,v=0;const w=()=>this.root.updateBlockedByResize=!1;qe.read(()=>{v=window.innerWidth}),n(c,()=>{const x=window.innerWidth;x!==v&&(v=x,this.root.updateBlockedByResize=!0,y&&y(),y=BA(w,250),Pl.hasAnimatedSinceResize&&(Pl.hasAnimatedSinceResize=!1,this.nodes.forEach(Ov)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||p.getDefaultTransition()||cC,{onLayoutAnimationStart:T,onLayoutAnimationComplete:E}=p.getProps(),C=!this.targetLayout||!xx(this.targetLayout,x),R=!v&&w;if(this.options.layoutRoot||this.resumeFrom||R||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...Df(_,"layout"),onPlay:T,onComplete:E};(p.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(y,R)}else v||Ov(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ti(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sC),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_x(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Nv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(iC),this.nodes.forEach(JA),this.nodes.forEach(QA)):this.nodes.forEach(Nv),this.clearAllSnapshots();const d=Dt.now();yt.delta=Yn(0,1e3/60,d-yt.timestamp),yt.timestamp=d,yt.isProcessing=!0,qh.update.process(yt),qh.preRender.process(yt),qh.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nC),this.sharedNodes.forEach(oC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!St(this.snapshot.measuredBox.x)&&!St(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=a(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!wx(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||Qi(this.latestValues)||y)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),hC(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ot();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(dC))){const{scroll:p}=this.root;p&&(na(d.x,p.offset.x),na(d.y,p.offset.y))}return d}removeElementScroll(c){const d=ot();if(hn(d,c),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&hn(d,c),na(d.x,y.offset.x),na(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const f=ot();hn(f,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ia(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Qi(y.latestValues)&&ia(f,y.latestValues)}return Qi(this.latestValues)&&ia(f,this.latestValues),f}removeTransform(c){const d=ot();hn(d,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Qi(p.latestValues))continue;Dd(p.latestValues)&&p.updateSnapshot();const y=ot(),v=p.measurePageBox();hn(y,v),Sv(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Qi(this.latestValues)&&Sv(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=yt.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ot(),this.targetWithTransforms=ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hn(this.target,this.layout.layoutBox),tx(this.target,this.targetDelta)):hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Dd(this.parent.latestValues)||ex(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,f){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ot(),this.relativeTargetOrigin=ot(),Xl(this.relativeTargetOrigin,d,f),hn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;hn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;N5(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ot());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wv(this.prevProjectionDelta.x,this.projectionDelta.x),wv(this.prevProjectionDelta.y,this.projectionDelta.y)),Os(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!Cv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ra(),this.projectionDelta=ra(),this.projectionDeltaWithTransform=ra()}setAnimationOrigin(c,d=!1){const f=this.snapshot,p=f?f.latestValues:{},y={...this.latestValues},v=ra();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=ot(),x=f?f.source:void 0,_=this.layout?this.layout.source:void 0,T=x!==_,E=this.getStack(),C=!E||E.members.length<=1,R=!!(T&&!C&&this.options.crossfade===!0&&!this.path.some(uC));this.animationProgress=0;let A;this.mixTargetDelta=M=>{const B=M/1e3;kv(v.x,c.x,B),kv(v.y,c.y,B),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xl(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lC(this.relativeTarget,this.relativeTargetOrigin,w,B),A&&YA(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=ot()),hn(A,this.relativeTarget)),T&&(this.animationValues=y,HA(y,p,this.latestValues,B,R,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ti(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{Pl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=la(0)),this.currentAnimation=LA(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(XA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:y}=c;if(!(!d||!f||!p)){if(this!==c&&this.layout&&p&&Ex(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||ot();const v=St(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+v;const w=St(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+w}hn(d,f),ia(d,y),Os(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new KA),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&ed("z",c,p,this.animationValues);for(let y=0;y<Qh.length;y++)ed(`rotate${Qh[y]}`,c,p,this.animationValues),ed(`skew${Qh[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Ul(d?.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Ul(d?.pointerEvents)||""),this.hasProjected&&!Qi(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=WA(this.projectionDeltaWithTransform,this.treeScale,y);f&&(v=f(y,v)),c.transform=v;const{x:w,y:x}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${x.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const _ in Us){if(y[_]===void 0)continue;const{correct:T,applyTo:E,isCSSVariable:C}=Us[_],R=v==="none"?y[_]:T(y[_],p);if(E){const A=E.length;for(let M=0;M<A;M++)c[E[M]]=R}else C?this.options.visualElement.renderState.vars[_]=R:c[_]=R}this.options.layoutId&&(c.pointerEvents=p===this?Ul(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Rv),this.root.sharedNodes.clear()}}}function JA(n){n.updateLayout()}function QA(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?tn(y=>{const v=u?t.measuredBox[y]:t.layoutBox[y],w=St(v);v.min=r[y].min,v.max=v.min+w}):Ex(o,t.layoutBox,r)&&tn(y=>{const v=u?t.measuredBox[y]:t.layoutBox[y],w=St(r[y]);v.max=v.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+w)});const c=ra();Os(c,r,t.layoutBox);const d=ra();u?Os(d,n.applyTransform(a,!0),t.measuredBox):Os(d,r,t.layoutBox);const f=!wx(c);let p=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:w}=y;if(v&&w){const x=ot();Xl(x,t.layoutBox,v.layoutBox);const _=ot();Xl(_,r,w.layoutBox),xx(x,_)||(p=!0),y.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=x,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function eC(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function tC(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function nC(n){n.clearSnapshot()}function Rv(n){n.clearMeasurements()}function Nv(n){n.isLayoutDirty=!1}function iC(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function Ov(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function rC(n){n.resolveTargetDelta()}function aC(n){n.calcProjection()}function sC(n){n.resetSkewAndRotation()}function oC(n){n.removeLeadSnapshot()}function kv(n,t,r){n.translate=Ie(t.translate,0,r),n.scale=Ie(t.scale,1,r),n.origin=t.origin,n.originPoint=t.originPoint}function Dv(n,t,r,a){n.min=Ie(t.min,r.min,a),n.max=Ie(t.max,r.max,a)}function lC(n,t,r,a){Dv(n.x,t.x,r.x,a),Dv(n.y,t.y,r.y,a)}function uC(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const cC={duration:.45,ease:[.4,0,.1,1]},Mv=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),zv=Mv("applewebkit/")&&!Mv("chrome/")?Math.round:rn;function Lv(n){n.min=zv(n.min),n.max=zv(n.max)}function hC(n){Lv(n.x),Lv(n.y)}function Ex(n,t,r){return n==="position"||n==="preserve-aspect"&&!yA(Av(t),Av(r),.2)}function dC(n){return n!==n.root&&n.scroll?.wasRoot}const fC=Sx({attachResizeListener:(n,t)=>Ps(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),td={current:void 0},jx=Sx({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!td.current){const n=new fC({});n.mount(window),n.setOptions({layoutScroll:!0}),td.current=n}return td.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),mC={pan:{Feature:kA},drag:{Feature:OA,ProjectionNode:jx,MeasureLayout:yx}};function Uv(n,t,r){const{props:a}=n;n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,u=a[o];u&&qe.postRender(()=>u(t,Ks(t)))}class pC extends Ri{mount(){const{current:t}=this.node;t&&(this.unmount=LT(t,(r,a)=>(Uv(this.node,a,"Start"),o=>Uv(this.node,o,"End"))))}unmount(){}}class gC extends Ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gs(Ps(this.node.current,"focus",()=>this.onFocus()),Ps(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Pv(n,t,r){const{props:a}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&a.whileTap&&n.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),u=a[o];u&&qe.postRender(()=>u(t,Ks(t)))}class yC extends Ri{mount(){const{current:t}=this.node;t&&(this.unmount=VT(t,(r,a)=>(Pv(this.node,a,"Start"),(o,{success:u})=>Pv(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Vd=new WeakMap,nd=new WeakMap,vC=n=>{const t=Vd.get(n.target);t&&t(n)},bC=n=>{n.forEach(vC)};function wC({root:n,...t}){const r=n||document;nd.has(r)||nd.set(r,{});const a=nd.get(r),o=JSON.stringify(t);return a[o]||(a[o]=new IntersectionObserver(bC,{root:n,...t})),a[o]}function xC(n,t,r){const a=wC(t);return Vd.set(n,r),a.observe(n),()=>{Vd.delete(n),a.unobserve(n)}}const _C={some:0,all:1};class SC extends Ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:a,amount:o="some",once:u}=t,c={root:r?r.current:void 0,rootMargin:a,threshold:typeof o=="number"?o:_C[o]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),w=p?y:v;w&&w(f)};return xC(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(EC(t,r))&&this.startObserver()}unmount(){}}function EC({viewport:n={}},{viewport:t={}}={}){return r=>n[r]!==t[r]}const jC={inView:{Feature:SC},tap:{Feature:yC},focus:{Feature:gC},hover:{Feature:pC}},TC={layout:{ProjectionNode:jx,MeasureLayout:yx}},AC={...hA,...jC,...mC,...TC},pe=A5(AC,V5),Ni=()=>g.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden flex items-center justify-center opacity-60 md:opacity-80 transform-gpu will-change-transform",children:g.jsxs("svg",{viewBox:"0 0 800 600",className:"w-full h-full max-w-4xl max-h-screen text-indigo-500/20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsxs("defs",{children:[g.jsxs("radialGradient",{id:"node-glow",cx:"50%",cy:"50%",r:"50%",children:[g.jsx("stop",{offset:"0%",stopColor:"currentColor",stopOpacity:"0.4"}),g.jsx("stop",{offset:"100%",stopColor:"currentColor",stopOpacity:"0"})]}),g.jsxs("linearGradient",{id:"line-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[g.jsx("stop",{offset:"0%",stopColor:"rgba(99, 102, 241, 0)"}),g.jsx("stop",{offset:"50%",stopColor:"rgba(99, 102, 241, 0.5)"}),g.jsx("stop",{offset:"100%",stopColor:"rgba(99, 102, 241, 0)"})]})]}),g.jsx("path",{d:"M400 300 L200 150 M400 300 L600 150 M400 300 L200 450 M400 300 L600 450",stroke:"url(#line-gradient)",strokeWidth:"2",style:{opacity:1}}),[{cx:400,cy:300,r:20,glow:50},{cx:200,cy:150,r:12,glow:35},{cx:600,cy:150,r:15,glow:40},{cx:200,cy:450,r:10,glow:30},{cx:600,cy:450,r:14,glow:38},{cx:100,cy:300,r:8,glow:25},{cx:700,cy:300,r:8,glow:25},{cx:400,cy:100,r:6,glow:20},{cx:400,cy:500,r:8,glow:25}].map((n,t)=>g.jsxs("g",{children:[g.jsx("circle",{cx:n.cx,cy:n.cy,r:n.glow,fill:"url(#node-glow)"}),g.jsx("circle",{cx:n.cx,cy:n.cy,r:n.r,fill:"currentColor"})]},t)),g.jsx("path",{d:"M200 150 L600 150 L600 450 L200 450 Z",stroke:"currentColor",strokeWidth:"0.5",strokeDasharray:"4 4",style:{opacity:.2}})]})}),Wn=j.memo(()=>g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"absolute inset-0 bg-black z-[-2] transform-gpu"}),g.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-indigo-900/30 rounded-full blur-[60px] pointer-events-none transform-gpu"}),g.jsx("div",{className:"absolute top-[40%] left-[40%] w-[30%] h-[30%] bg-blue-900/20 rounded-full blur-[50px] pointer-events-none transform-gpu"}),g.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 z-[-1] mix-blend-overlay pointer-events-none transform-gpu"})]}));Wn.displayName="BackgroundGradient";const id="http://localhost:8080",Bs={checkHealth:async()=>{try{const n=await fetch(`${id}/health`);if(!n.ok)throw new Error("Network response was not ok");return await n.json()}catch(n){return console.error("API Error:",n),null}},secureAction:async()=>{try{return await(await fetch(`${id}/api/secure-action`,{method:"POST"})).json()}catch(n){return console.error("Secure Action Error:",n),null}},checkResetPermission:async(n,t="request",r=!1)=>{try{return await(await fetch(`${id}/api/security/request-reset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({device_id:n,action:t,check_only:r})})).json()}catch(a){return console.error("Permission Check Error:",a),{status:"allowed"}}}},CC=()=>{const n=on(),{allowRoute:t}=ga(),r=()=>{Bs.secureAction().catch(o=>console.error("Background pre-check failed:",o)),t("/auth/signup"),n("/auth/signup")},a=()=>{Bs.secureAction().catch(o=>console.error("Hover pre-check failed:",o))};return g.jsxs("div",{className:"h-screen w-screen overflow-hidden bg-black text-white flex flex-col items-center justify-center relative selection:bg-indigo-500/30",children:[g.jsx(Wn,{}),g.jsx(Ni,{}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/80 z-0 pointer-events-none"}),g.jsx("div",{className:"absolute inset-0 overflow-y-auto overflow-x-hidden custom-scrollbar transform-gpu",children:g.jsxs("div",{className:"min-h-full w-full flex flex-col items-center relative py-12",children:[g.jsx("header",{className:"w-full p-8 flex justify-center items-center z-20 mb-auto",children:g.jsx(pe.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"text-2xl font-bold tracking-[0.2em] text-white/50 hover:text-white transition-colors cursor-default",children:"UNI"})}),g.jsxs("main",{className:"flex flex-col items-center z-10 relative px-4 text-center my-12",children:[g.jsxs(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"mb-6 relative",children:[g.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full blur opacity-25"}),g.jsx("span",{className:"relative px-4 py-1.5 rounded-full border border-white/10 bg-white/5 text-xs font-medium text-indigo-300 backdrop-blur-sm",children:"The Future of Social"})]}),g.jsx(pe.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-7xl md:text-9xl font-black tracking-tight mb-4 py-8 px-4 leading-relaxed bg-clip-text text-transparent bg-gradient-to-b from-white via-white to-white/40",children:"Allify"}),g.jsxs(pe.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:.4},className:"text-lg md:text-xl text-gray-400 max-w-lg mb-10 font-light",children:["Connect without limits. Share without boundaries. ",g.jsx("br",{className:"hidden md:block"})," Experience the new vibe of social networking."]}),g.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex flex-col sm:flex-row gap-4 w-full sm:w-auto",children:[g.jsxs("button",{onClick:r,onMouseEnter:a,className:"group relative px-8 py-4 rounded-full bg-white text-black font-bold text-lg hover:pr-10 transition-all duration-300 shadow-[0_0_20px_-5px_rgba(255,255,255,0.3)] hover:shadow-[0_0_25px_-5px_rgba(255,255,255,0.5)] overflow-hidden cursor-pointer",children:[g.jsx("span",{className:"relative z-10",children:"Create Account"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-100 to-white z-0 opacity-0 group-hover:opacity-100 transition-opacity"}),g.jsx("span",{className:"absolute right-3 opacity-0 group-hover:opacity-100 group-hover:translate-x-[-4px] transition-all duration-300 z-10",children:""})]}),g.jsx("button",{onClick:()=>n("/auth/login"),className:"px-8 py-4 rounded-full border border-white/20 text-white font-semibold text-lg hover:bg-white/5 hover:border-white/40 transition-all duration-300 backdrop-blur-sm cursor-pointer",children:"Log in"})]})]}),g.jsx("footer",{className:"w-full text-center text-white/30 text-sm z-10 p-8 mt-auto",children:g.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5,duration:1},children:[" ",new Date().getFullYear()," Allify by UNI. All rights reserved."]})})]})})]})};var $n={},_l={},Hd=function(n,t){return Hd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])},Hd(n,t)};function Yf(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Hd(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var it=function(){return it=Object.assign||function(t){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(t[u]=r[u])}return t},it.apply(this,arguments)};function wa(n,t){var r={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(r[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(r[a[o]]=n[a[o]]);return r}function Tx(n,t,r,a){var o=arguments.length,u=o<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,r,a);else for(var d=n.length-1;d>=0;d--)(c=n[d])&&(u=(o<3?c(u):o>3?c(t,r,u):c(t,r))||u);return o>3&&u&&Object.defineProperty(t,r,u),u}function Ax(n,t){return function(r,a){t(r,a,n)}}function Cx(n,t,r,a,o,u){function c(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var d=a.kind,f=d==="getter"?"get":d==="setter"?"set":"value",p=!t&&n?a.static?n:n.prototype:null,y=t||(p?Object.getOwnPropertyDescriptor(p,a.name):{}),v,w=!1,x=r.length-1;x>=0;x--){var _={};for(var T in a)_[T]=T==="access"?{}:a[T];for(var T in a.access)_.access[T]=a.access[T];_.addInitializer=function(C){if(w)throw new TypeError("Cannot add initializers after decoration has completed");u.push(c(C||null))};var E=(0,r[x])(d==="accessor"?{get:y.get,set:y.set}:y[f],_);if(d==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(v=c(E.get))&&(y.get=v),(v=c(E.set))&&(y.set=v),(v=c(E.init))&&o.unshift(v)}else(v=c(E))&&(d==="field"?o.unshift(v):y[f]=v)}p&&Object.defineProperty(p,a.name,y),w=!0}function Rx(n,t,r){for(var a=arguments.length>2,o=0;o<t.length;o++)r=a?t[o].call(n,r):t[o].call(n);return a?r:void 0}function Nx(n){return typeof n=="symbol"?n:"".concat(n)}function Ox(n,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function kx(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function ne(n,t,r,a){function o(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function d(y){try{p(a.next(y))}catch(v){c(v)}}function f(y){try{p(a.throw(y))}catch(v){c(v)}}function p(y){y.done?u(y.value):o(y.value).then(d,f)}p((a=a.apply(n,t||[])).next())})}function Dx(n,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,o,u,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(p){return function(y){return f([p,y])}}function f(p){if(a)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(a=1,o&&(u=p[0]&2?o.return:p[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,p[1])).done)return u;switch(o=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,o=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){r.label=p[1];break}if(p[0]===6&&r.label<u[1]){r.label=u[1],u=p;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(p);break}u[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(n,r)}catch(y){p=[6,y],o=0}finally{a=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var hu=Object.create?(function(n,t,r,a){a===void 0&&(a=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(n,a,o)}):(function(n,t,r,a){a===void 0&&(a=r),n[a]=t[r]});function Mx(n,t){for(var r in n)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&hu(t,n,r)}function Zl(n){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&n[t],a=0;if(r)return r.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kf(n,t){var r=typeof Symbol=="function"&&n[Symbol.iterator];if(!r)return n;var a=r.call(n),o,u=[],c;try{for(;(t===void 0||t-- >0)&&!(o=a.next()).done;)u.push(o.value)}catch(d){c={error:d}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(c)throw c.error}}return u}function zx(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Kf(arguments[t]));return n}function Lx(){for(var n=0,t=0,r=arguments.length;t<r;t++)n+=arguments[t].length;for(var a=Array(n),o=0,t=0;t<r;t++)for(var u=arguments[t],c=0,d=u.length;c<d;c++,o++)a[o]=u[c];return a}function Ux(n,t,r){if(r||arguments.length===2)for(var a=0,o=t.length,u;a<o;a++)(u||!(a in t))&&(u||(u=Array.prototype.slice.call(t,0,a)),u[a]=t[a]);return n.concat(u||Array.prototype.slice.call(t))}function ca(n){return this instanceof ca?(this.v=n,this):new ca(n)}function Px(n,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(n,t||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(x){return function(_){return Promise.resolve(_).then(x,v)}}function d(x,_){a[x]&&(o[x]=function(T){return new Promise(function(E,C){u.push([x,T,E,C])>1||f(x,T)})},_&&(o[x]=_(o[x])))}function f(x,_){try{p(a[x](_))}catch(T){w(u[0][3],T)}}function p(x){x.value instanceof ca?Promise.resolve(x.value.v).then(y,v):w(u[0][2],x)}function y(x){f("next",x)}function v(x){f("throw",x)}function w(x,_){x(_),u.shift(),u.length&&f(u[0][0],u[0][1])}}function Bx(n){var t,r;return t={},a("next"),a("throw",function(o){throw o}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(o,u){t[o]=n[o]?function(c){return(r=!r)?{value:ca(n[o](c)),done:!1}:u?u(c):c}:u}}function Vx(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],r;return t?t.call(n):(n=typeof Zl=="function"?Zl(n):n[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(u){r[u]=n[u]&&function(c){return new Promise(function(d,f){c=n[u](c),o(d,f,c.done,c.value)})}}function o(u,c,d,f){Promise.resolve(f).then(function(p){u({value:p,done:d})},c)}}function Hx(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}var RC=Object.create?(function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}):function(n,t){n.default=t},qd=function(n){return qd=Object.getOwnPropertyNames||function(t){var r=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[r.length]=a);return r},qd(n)};function qx(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var r=qd(n),a=0;a<r.length;a++)r[a]!=="default"&&hu(t,n,r[a]);return RC(t,n),t}function $x(n){return n&&n.__esModule?n:{default:n}}function Ix(n,t,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!a:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(n):a?a.value:t.get(n)}function Gx(n,t,r,a,o){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!o:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?o.call(n,r):o?o.value=r:t.set(n,r),r}function Fx(n,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?t===n:n.has(t)}function Yx(n,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],r&&(o=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");o&&(a=function(){try{o.call(this)}catch(u){return Promise.reject(u)}}),n.stack.push({value:t,dispose:a,async:r})}else r&&n.stack.push({async:!0});return t}var NC=typeof SuppressedError=="function"?SuppressedError:function(n,t,r){var a=new Error(r);return a.name="SuppressedError",a.error=n,a.suppressed=t,a};function Kx(n){function t(u){n.error=n.hasError?new NC(u,n.error,"An error was suppressed during disposal."):u,n.hasError=!0}var r,a=0;function o(){for(;r=n.stack.pop();)try{if(!r.async&&a===1)return a=0,n.stack.push(r),Promise.resolve().then(o);if(r.dispose){var u=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(u).then(o,function(c){return t(c),o()})}else a|=1}catch(c){t(c)}if(a===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return o()}function Wx(n,t){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,a,o,u,c){return a?t?".jsx":".js":o&&(!u||!c)?r:o+u+"."+c.toLowerCase()+"js"}):n}const OC={__extends:Yf,__assign:it,__rest:wa,__decorate:Tx,__param:Ax,__esDecorate:Cx,__runInitializers:Rx,__propKey:Nx,__setFunctionName:Ox,__metadata:kx,__awaiter:ne,__generator:Dx,__createBinding:hu,__exportStar:Mx,__values:Zl,__read:Kf,__spread:zx,__spreadArrays:Lx,__spreadArray:Ux,__await:ca,__asyncGenerator:Px,__asyncDelegator:Bx,__asyncValues:Vx,__makeTemplateObject:Hx,__importStar:qx,__importDefault:$x,__classPrivateFieldGet:Ix,__classPrivateFieldSet:Gx,__classPrivateFieldIn:Fx,__addDisposableResource:Yx,__disposeResources:Kx,__rewriteRelativeImportExtension:Wx},kC=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Yx,get __assign(){return it},__asyncDelegator:Bx,__asyncGenerator:Px,__asyncValues:Vx,__await:ca,__awaiter:ne,__classPrivateFieldGet:Ix,__classPrivateFieldIn:Fx,__classPrivateFieldSet:Gx,__createBinding:hu,__decorate:Tx,__disposeResources:Kx,__esDecorate:Cx,__exportStar:Mx,__extends:Yf,__generator:Dx,__importDefault:$x,__importStar:qx,__makeTemplateObject:Hx,__metadata:kx,__param:Ax,__propKey:Nx,__read:Kf,__rest:wa,__rewriteRelativeImportExtension:Wx,__runInitializers:Rx,__setFunctionName:Ox,__spread:zx,__spreadArray:Ux,__spreadArrays:Lx,__values:Zl,default:OC},Symbol.toStringTag,{value:"Module"})),DC=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);let du=class extends Error{constructor(t,r="FunctionsError",a){super(t),this.name=r,this.context=a}},Xx=class extends du{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},$d=class extends du{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Id=class extends du{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Jl;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Jl||(Jl={}));class MC{constructor(t,{headers:r={},customFetch:a,region:o=Jl.Any}={}){this.url=t,this.headers=r,this.region=o,this.fetch=DC(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ne(this,arguments,void 0,function*(r,a={}){var o;let u,c;try{const{headers:d,method:f,body:p,signal:y,timeout:v}=a;let w={},{region:x}=a;x||(x=this.region);const _=new URL(`${this.url}/${r}`);x&&x!=="any"&&(w["x-region"]=x,_.searchParams.set("forceFunctionRegion",x));let T;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",T=p):typeof p=="string"?(w["Content-Type"]="text/plain",T=p):typeof FormData<"u"&&p instanceof FormData?T=p:(w["Content-Type"]="application/json",T=JSON.stringify(p)):T=p;let E=y;v&&(c=new AbortController,u=setTimeout(()=>c.abort(),v),y?(E=c.signal,y.addEventListener("abort",()=>c.abort())):E=c.signal);const C=yield this.fetch(_.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),d),body:T,signal:E}).catch(B=>{throw new Xx(B)}),R=C.headers.get("x-relay-error");if(R&&R==="true")throw new $d(C);if(!C.ok)throw new Id(C);let A=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),M;return A==="application/json"?M=yield C.json():A==="application/octet-stream"||A==="application/pdf"?M=yield C.blob():A==="text/event-stream"?M=C:A==="multipart/form-data"?M=yield C.formData():M=yield C.text(),{data:M,error:null,response:C}}catch(d){return{data:null,error:d,response:d instanceof Id||d instanceof $d?d.context:void 0}}finally{u&&clearTimeout(u)}})}}const zC=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Jl},FunctionsClient:MC,FunctionsError:du,FunctionsFetchError:Xx,FunctionsHttpError:Id,FunctionsRelayError:$d},Symbol.toStringTag,{value:"Module"})),Zx=qs(zC);var bt={};const xa=qs(kC);var Sl={},El={},jl={},Tl={},Al={},Cl={},Bv;function Jx(){if(Bv)return Cl;Bv=1,Object.defineProperty(Cl,"__esModule",{value:!0});class n extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Cl.default=n,Cl}var Vv;function Qx(){if(Vv)return Al;Vv=1,Object.defineProperty(Al,"__esModule",{value:!0});const t=xa.__importDefault(Jx());let r=class{constructor(o){var u,c;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(u=o.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=o.signal,this.isMaybeSingle=(c=o.isMaybeSingle)!==null&&c!==void 0?c:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,u){return this.headers=new Headers(this.headers),this.headers.set(o,u),this}then(o,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,y,v,w;let x=null,_=null,T=null,E=f.status,C=f.statusText;if(f.ok){if(this.method!=="HEAD"){const B=await f.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?_=B:_=JSON.parse(B))}const A=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),M=(v=f.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");A&&M&&M.length>1&&(T=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(x={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,T=null,E=406,C="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const A=await f.text();try{x=JSON.parse(A),Array.isArray(x)&&f.status===404&&(_=[],x=null,E=200,C="OK")}catch{f.status===404&&A===""?(E=204,C="No Content"):x={message:A}}if(x&&this.isMaybeSingle&&(!((w=x?.details)===null||w===void 0)&&w.includes("0 rows"))&&(x=null,E=200,C="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:_,count:T,status:E,statusText:C}});return this.shouldThrowOnError||(d=d.catch(f=>{var p,y,v,w,x,_;let T="";const E=f?.cause;if(E){const C=(p=E?.message)!==null&&p!==void 0?p:"",R=(y=E?.code)!==null&&y!==void 0?y:"";T=`${(v=f?.name)!==null&&v!==void 0?v:"FetchError"}: ${f?.message}`,T+=`

Caused by: ${(w=E?.name)!==null&&w!==void 0?w:"Error"}: ${C}`,R&&(T+=` (${R})`),E?.stack&&(T+=`
${E.stack}`)}else T=(x=f?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(_=f?.name)!==null&&_!==void 0?_:"FetchError"}: ${f?.message}`,details:T,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(o,u)}returns(){return this}overrideTypes(){return this}};return Al.default=r,Al}var Hv;function e1(){if(Hv)return Tl;Hv=1,Object.defineProperty(Tl,"__esModule",{value:!0});const t=xa.__importDefault(Qx());let r=class extends t.default{select(o){let u=!1;const c=(o??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:u=!0,nullsFirst:c,foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${o}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:c=u}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,u,{foreignTable:c,referencedTable:d=c}={}){const f=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(p,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:u=!1,settings:c=!1,buffers:d=!1,wal:f=!1,format:p="text"}={}){var y;const v=[o?"analyze":null,u?"verbose":null,c?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${v};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}};return Tl.default=r,Tl}var qv;function Wf(){if(qv)return jl;qv=1,Object.defineProperty(jl,"__esModule",{value:!0});const t=xa.__importDefault(e1()),r=new RegExp("[,()]");let a=class extends t.default{eq(u,c){return this.url.searchParams.append(u,`eq.${c}`),this}neq(u,c){return this.url.searchParams.append(u,`neq.${c}`),this}gt(u,c){return this.url.searchParams.append(u,`gt.${c}`),this}gte(u,c){return this.url.searchParams.append(u,`gte.${c}`),this}lt(u,c){return this.url.searchParams.append(u,`lt.${c}`),this}lte(u,c){return this.url.searchParams.append(u,`lte.${c}`),this}like(u,c){return this.url.searchParams.append(u,`like.${c}`),this}likeAllOf(u,c){return this.url.searchParams.append(u,`like(all).{${c.join(",")}}`),this}likeAnyOf(u,c){return this.url.searchParams.append(u,`like(any).{${c.join(",")}}`),this}ilike(u,c){return this.url.searchParams.append(u,`ilike.${c}`),this}ilikeAllOf(u,c){return this.url.searchParams.append(u,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(u,c){return this.url.searchParams.append(u,`ilike(any).{${c.join(",")}}`),this}regexMatch(u,c){return this.url.searchParams.append(u,`match.${c}`),this}regexIMatch(u,c){return this.url.searchParams.append(u,`imatch.${c}`),this}is(u,c){return this.url.searchParams.append(u,`is.${c}`),this}isDistinct(u,c){return this.url.searchParams.append(u,`isdistinct.${c}`),this}in(u,c){const d=Array.from(new Set(c)).map(f=>typeof f=="string"&&r.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(u,`in.(${d})`),this}contains(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cs.{${c.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(c)}`),this}containedBy(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cd.{${c.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(c)}`),this}rangeGt(u,c){return this.url.searchParams.append(u,`sr.${c}`),this}rangeGte(u,c){return this.url.searchParams.append(u,`nxl.${c}`),this}rangeLt(u,c){return this.url.searchParams.append(u,`sl.${c}`),this}rangeLte(u,c){return this.url.searchParams.append(u,`nxr.${c}`),this}rangeAdjacent(u,c){return this.url.searchParams.append(u,`adj.${c}`),this}overlaps(u,c){return typeof c=="string"?this.url.searchParams.append(u,`ov.${c}`):this.url.searchParams.append(u,`ov.{${c.join(",")}}`),this}textSearch(u,c,{config:d,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const y=d===void 0?"":`(${d})`;return this.url.searchParams.append(u,`${p}fts${y}.${c}`),this}match(u){return Object.entries(u).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(u,c,d){return this.url.searchParams.append(u,`not.${c}.${d}`),this}or(u,{foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${u})`),this}filter(u,c,d){return this.url.searchParams.append(u,`${c}.${d}`),this}};return jl.default=a,jl}var $v;function t1(){if($v)return El;$v=1,Object.defineProperty(El,"__esModule",{value:!0});const t=xa.__importDefault(Wf());let r=class{constructor(o,{headers:u={},schema:c,fetch:d}){this.url=o,this.headers=new Headers(u),this.schema=c,this.fetch=d}select(o,u){const{head:c=!1,count:d}=u??{},f=c?"HEAD":"GET";let p=!1;const y=(o??"*").split("").map(v=>/\s/.test(v)&&!p?"":(v==='"'&&(p=!p),v)).join("");return this.url.searchParams.set("select",y),d&&this.headers.append("Prefer",`count=${d}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:u,defaultToNull:c=!0}={}){var d;const f="POST";if(u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(p.length>0){const y=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:u,ignoreDuplicates:c=!1,count:d,defaultToNull:f=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const v=o.reduce((w,x)=>w.concat(Object.keys(x)),[]);if(v.length>0){const w=[...new Set(v)].map(x=>`"${x}"`);this.url.searchParams.set("columns",w.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:u}={}){var c;const d="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var u;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return El.default=r,El}var Iv;function LC(){if(Iv)return Sl;Iv=1,Object.defineProperty(Sl,"__esModule",{value:!0});const n=xa,t=n.__importDefault(t1()),r=n.__importDefault(Wf());let a=class n1{constructor(u,{headers:c={},schema:d,fetch:f}={}){this.url=u,this.headers=new Headers(c),this.schemaName=d,this.fetch=f}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${u}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new n1(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,c={},{head:d=!1,get:f=!1,count:p}={}){var y;let v;const w=new URL(`${this.url}/rpc/${u}`);let x;d||f?(v=d?"HEAD":"GET",Object.entries(c).filter(([T,E])=>E!==void 0).map(([T,E])=>[T,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([T,E])=>{w.searchParams.append(T,E)})):(v="POST",x=c);const _=new Headers(this.headers);return p&&_.set("Prefer",`count=${p}`),new r.default({method:v,url:w,headers:_,schema:this.schemaName,body:x,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}};return Sl.default=a,Sl}var Gv;function i1(){if(Gv)return bt;Gv=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.PostgrestError=bt.PostgrestBuilder=bt.PostgrestTransformBuilder=bt.PostgrestFilterBuilder=bt.PostgrestQueryBuilder=bt.PostgrestClient=void 0;const n=xa,t=n.__importDefault(LC());bt.PostgrestClient=t.default;const r=n.__importDefault(t1());bt.PostgrestQueryBuilder=r.default;const a=n.__importDefault(Wf());bt.PostgrestFilterBuilder=a.default;const o=n.__importDefault(e1());bt.PostgrestTransformBuilder=o.default;const u=n.__importDefault(Qx());bt.PostgrestBuilder=u.default;const c=n.__importDefault(Jx());return bt.PostgrestError=c.default,bt.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:c.default},bt}class r1{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const a=this.getWebSocketConstructor();return new a(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const UC="2.87.1",PC=`realtime-js/${UC}`,a1="1.0.0",BC="2.0.0",Fv=a1,Gd=1e4,VC=1e3,HC=100;var ir;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ir||(ir={}));var nt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(nt||(nt={}));var pn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(pn||(pn={}));var Fd;(function(n){n.websocket="websocket"})(Fd||(Fd={}));var rr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(rr||(rr={}));class qC{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,a;const o=(a=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var r,a;const o=(a=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,r,a){var o,u;const c=t.topic,d=(o=t.ref)!==null&&o!==void 0?o:"",f=(u=t.join_ref)!==null&&u!==void 0?u:"",p=t.payload.event,y=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+c.length+p.length+v.length,x=new ArrayBuffer(this.HEADER_LENGTH+w);let _=new DataView(x),T=0;_.setUint8(T++,this.KINDS.userBroadcastPush),_.setUint8(T++,f.length),_.setUint8(T++,d.length),_.setUint8(T++,c.length),_.setUint8(T++,p.length),_.setUint8(T++,v.length),_.setUint8(T++,r),Array.from(f,C=>_.setUint8(T++,C.charCodeAt(0))),Array.from(d,C=>_.setUint8(T++,C.charCodeAt(0))),Array.from(c,C=>_.setUint8(T++,C.charCodeAt(0))),Array.from(p,C=>_.setUint8(T++,C.charCodeAt(0))),Array.from(v,C=>_.setUint8(T++,C.charCodeAt(0)));var E=new Uint8Array(x.byteLength+a.byteLength);return E.set(new Uint8Array(x),0),E.set(new Uint8Array(a),x.byteLength),E.buffer}decode(t,r){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return r(a)}if(typeof t=="string"){const a=JSON.parse(t),[o,u,c,d,f]=a;return r({join_ref:o,ref:u,topic:c,event:d,payload:f})}return r({})}_binaryDecode(t){const r=new DataView(t),a=r.getUint8(0),o=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,o)}}_decodeUserBroadcast(t,r,a){const o=r.getUint8(1),u=r.getUint8(2),c=r.getUint8(3),d=r.getUint8(4);let f=this.HEADER_LENGTH+4;const p=a.decode(t.slice(f,f+o));f=f+o;const y=a.decode(t.slice(f,f+u));f=f+u;const v=a.decode(t.slice(f,f+c));f=f+c;const w=t.slice(f,t.byteLength),x=d===this.JSON_ENCODING?JSON.parse(a.decode(w)):w,_={type:this.BROADCAST_EVENT,event:y,payload:x};return c>0&&(_.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>r.includes(a)))}}class s1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ue||(Ue={}));const Yv=(n,t,r={})=>{var a;const o=(a=r.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((u,c)=>(u[c]=$C(c,n,t,o),u),{}):{}},$C=(n,t,r,a)=>{const o=t.find(d=>d.name===n),u=o?.type,c=r[n];return u&&!a.includes(u)?o1(u,c):Yd(c)},o1=(n,t)=>{if(n.charAt(0)==="_"){const r=n.slice(1,n.length);return YC(t,r)}switch(n){case Ue.bool:return IC(t);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return GC(t);case Ue.json:case Ue.jsonb:return FC(t);case Ue.timestamp:return KC(t);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return Yd(t);default:return Yd(t)}},Yd=n=>n,IC=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},GC=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},FC=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},YC=(n,t)=>{if(typeof n!="string")return n;const r=n.length-1,a=n[r];if(n[0]==="{"&&a==="}"){let u;const c=n.slice(1,r);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(d=>o1(t,d))}return n},KC=n=>typeof n=="string"?n.replace(" ","T"):n,l1=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class rd{constructor(t,r,a={},o=Gd){this.channel=t,this.event=r,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var a;return this._hasReceived(t)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Kd;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Kd||(Kd={}));let u1=class Bl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:u,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bl.syncState(this.state,o,u,c),this.pendingDiffs.forEach(f=>{this.state=Bl.syncDiff(this.state,f,u,c)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},o=>{const{onJoin:u,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Bl.syncDiff(this.state,o,u,c),d())}),this.onJoin((o,u,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:c})}),this.onLeave((o,u,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,a,o){const u=this.cloneDeep(t),c=this.transformState(r),d={},f={};return this.map(u,(p,y)=>{c[p]||(f[p]=y)}),this.map(c,(p,y)=>{const v=u[p];if(v){const w=y.map(E=>E.presence_ref),x=v.map(E=>E.presence_ref),_=y.filter(E=>x.indexOf(E.presence_ref)<0),T=v.filter(E=>w.indexOf(E.presence_ref)<0);_.length>0&&(d[p]=_),T.length>0&&(f[p]=T)}else d[p]=y}),this.syncDiff(u,{joins:d,leaves:f},a,o)}static syncDiff(t,r,a,o){const{joins:u,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(u,(d,f)=>{var p;const y=(p=t[d])!==null&&p!==void 0?p:[];if(t[d]=this.cloneDeep(f),y.length>0){const v=t[d].map(x=>x.presence_ref),w=y.filter(x=>v.indexOf(x.presence_ref)<0);t[d].unshift(...w)}a(d,y,f)}),this.map(c,(d,f)=>{let p=t[d];if(!p)return;const y=f.map(v=>v.presence_ref);p=p.filter(v=>y.indexOf(v.presence_ref)<0),t[d]=p,o(d,p,f),p.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(a=>r(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,a)=>{const o=t[a];return"metas"in o?r[a]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[a]=o,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Wd;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Wd||(Wd={}));var sa;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(sa||(sa={}));var _n;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(_n||(_n={}));const WC=nt;let c1=class js{constructor(t,r={config:{}},a){var o,u;if(this.topic=t,this.params=r,this.socket=a,this.bindings={},this.state=nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new rd(this,pn.join,this.params,this.timeout),this.rejoinTimer=new s1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pn.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new u1(this),this.broadcastEndpointURL=l1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var a,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==nt.closed){const{config:{broadcast:c,presence:d,private:f}}=this.params,p=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(x=>x.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[sa.PRESENCE]&&this.bindings[sa.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,v={},w={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(_n.CHANNEL_ERROR,x)),this._onClose(()=>t?.(_n.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t?.(_n.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,E=(_=T?.length)!==null&&_!==void 0?_:0,C=[];for(let R=0;R<E;R++){const A=T[R],{filter:{event:M,schema:B,table:$,filter:V}}=A,I=x&&x[R];if(I&&I.event===M&&js.isFilterValueEqual(I.schema,B)&&js.isFilterValueEqual(I.table,$)&&js.isFilterValueEqual(I.filter,V))C.push(Object.assign(Object.assign({},A),{id:I.id}));else{this.unsubscribe(),this.state=nt.errored,t?.(_n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(_n.SUBSCRIBED);return}}).receive("error",x=>{this.state=nt.errored,t?.(_n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(_n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,a){return this.state===nt.joined&&t===sa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,a)}async httpSend(t,r,a={}){var o;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const p=await d.json();f=p.error||p.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var a,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,d,f;const p=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=nt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new rd(this,pn.leave,{},t),a.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=nt.closed,this.bindings={}}async _fetchWithTimeout(t,r,a){const o=new AbortController,u=setTimeout(()=>o.abort(),a),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(u),c}_push(t,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new rd(this,t,r,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>HC){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,a){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,a){var o,u;const c=t.toLocaleLowerCase(),{close:d,error:f,leave:p,join:y}=pn;if(a&&[d,f,p,y].indexOf(c)>=0&&a!==this._joinRef())return;let w=this._onMessage(c,r,a);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var _,T,E;return((_=x.filter)===null||_===void 0?void 0:_.event)==="*"||((E=(T=x.filter)===null||T===void 0?void 0:T.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===c}).map(x=>x.callback(w,a)):(u=this.bindings[c])===null||u===void 0||u.filter(x=>{var _,T,E,C,R,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const M=x.id,B=(_=x.filter)===null||_===void 0?void 0:_.event;return M&&((T=r.ids)===null||T===void 0?void 0:T.includes(M))&&(B==="*"||B?.toLocaleLowerCase()===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const M=(R=(C=x?.filter)===null||C===void 0?void 0:C.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return M==="*"||M===((A=r?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof w=="object"&&"ids"in w){const _=w.data,{schema:T,table:E,commit_timestamp:C,type:R,errors:A}=_;w=Object.assign(Object.assign({},{schema:T,table:E,commit_timestamp:C,eventType:R,new:{},old:{},errors:A}),this._getPayloadRecords(_))}x.callback(w,a)})}_isClosed(){return this.state===nt.closed}_isJoined(){return this.state===nt.joined}_isJoining(){return this.state===nt.joining}_isLeaving(){return this.state===nt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,a){const o=t.toLocaleLowerCase(),u={type:o,filter:r,callback:a};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(t,r){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&js.isEqual(o.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const a in t)if(t[a]!==r[a])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pn.close,{},t)}_onError(t){this._on(pn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Yv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Yv(t.columns,t.old_record)),r}};const ad=()=>{},Rl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XC=[1e3,2e3,5e3,1e4],ZC=1e4,JC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let QC=class{constructor(t,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gd,this.transport=null,this.heartbeatIntervalMs=Rl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ad,this.ref=0,this.reconnectTimer=null,this.vsn=Fv,this.logger=ad,this.conn=null,this.sendBuffer=[],this.serializer=new qC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Fd.websocket}`,this.httpEndpoint=l1(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=r1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,a){this.logger(t,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case ir.connecting:return rr.Connecting;case ir.open:return rr.Open;case ir.closing:return rr.Closing;default:return rr.Closed}}isConnected(){return this.connectionState()===rr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const a=`realtime:${t}`,o=this.getChannels().find(u=>u.topic===a);if(o)return o;{const u=new c1(`realtime:${t}`,r,this);return this.channels.push(u),u}}push(t){const{topic:r,event:a,payload:o,ref:u}=t,c=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${a} (${u})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(VC,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:o,payload:u,ref:c}=r,d=c?`(${c})`:"",f=u.status||"";this.log("receive",`${f} ${a} ${o} ${d}`.trim(),u),this.channels.filter(p=>p._isMember(a)).forEach(p=>p._trigger(o,u,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ir.open||this.conn.readyState===ir.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(pn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const a=t.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${t}${a}${o}`}_workerObjectUrl(t){let r;if(t)r=t;else{const a=new Blob([JC],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,a=!1;if(t)r=t,a=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const u={access_token:r,version:PC};r&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(pn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(r)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new s1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,a,o,u,c,d,f,p,y,v,w,x;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:Gd,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:Rl.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:ad,this.vsn=(f=t?.vsn)!==null&&f!==void 0?f:Fv,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(_=>XC[_-1]||ZC),this.vsn){case a1:this.encode=(y=t?.encode)!==null&&y!==void 0?y:((_,T)=>T(JSON.stringify(_))),this.decode=(v=t?.decode)!==null&&v!==void 0?v:((_,T)=>T(JSON.parse(_)));break;case BC:this.encode=(w=t?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const e4=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:WC,get REALTIME_LISTEN_TYPES(){return sa},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Wd},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Kd},get REALTIME_SUBSCRIBE_STATES(){return _n},RealtimeChannel:c1,RealtimeClient:QC,RealtimePresence:u1,WebSocketFactory:r1},Symbol.toStringTag,{value:"Module"})),h1=qs(e4);class Ws extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function He(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class d1 extends Ws{constructor(t,r,a){super(t),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ql extends Ws{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Xf=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),t4=()=>Response,Xd=n=>{if(Array.isArray(n))return n.map(r=>Xd(r));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([r,a])=>{const o=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[o]=Xd(a)}),t},n4=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},i4=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n),sd=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},r4=(n,t,r)=>ne(void 0,void 0,void 0,function*(){const a=yield t4();n instanceof a&&!r?.noResolveJson?n.json().then(o=>{const u=n.status||500,c=o?.statusCode||u+"";t(new d1(sd(o),u,c))}).catch(o=>{t(new Ql(sd(o),o))}):t(new Ql(sd(n),n))}),a4=(n,t,r,a)=>{const o={method:n,headers:t?.headers||{}};return n==="GET"||!a?o:(n4(a)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(a)):o.body=a,t?.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),r))};function Xs(n,t,r,a,o,u){return ne(this,void 0,void 0,function*(){return new Promise((c,d)=>{n(r,a4(t,a,o,u)).then(f=>{if(!f.ok)throw f;return a?.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>r4(f,d,a))})})}function Vs(n,t,r,a){return ne(this,void 0,void 0,function*(){return Xs(n,"GET",t,r,a)})}function mn(n,t,r,a,o){return ne(this,void 0,void 0,function*(){return Xs(n,"POST",t,a,o,r)})}function Zd(n,t,r,a,o){return ne(this,void 0,void 0,function*(){return Xs(n,"PUT",t,a,o,r)})}function s4(n,t,r,a){return ne(this,void 0,void 0,function*(){return Xs(n,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function Zf(n,t,r,a,o){return ne(this,void 0,void 0,function*(){return Xs(n,"DELETE",t,a,o,r)})}class o4{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ne(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(He(t))return{data:null,error:t};throw t}})}}var f1;class l4{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[f1]="BlobDownloadBuilder",this.promise=null}asStream(){return new o4(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ne(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(He(t))return{data:null,error:t};throw t}})}}f1=Symbol.toStringTag;const u4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class c4{constructor(t,r={},a,o){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=a,this.fetch=Xf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,a,o){return ne(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},Kv),o);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),f&&u.append("metadata",this.encodeMetadata(f)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),f&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(f))):(u=a,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const p=this._removeEmptyFolders(r),y=this._getFinalPath(p),v=yield(t=="PUT"?Zd:mn)(this.fetch,`${this.url}/object/${y}`,u,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(He(u))return{data:null,error:u};throw u}})}upload(t,r,a){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,a)})}uploadToSignedUrl(t,r,a,o){return ne(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(t),c=this._getFinalPath(u),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",r);try{let f;const p=Object.assign({upsert:Kv.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&a instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",a)):typeof FormData<"u"&&a instanceof FormData?(f=a,f.append("cacheControl",p.cacheControl)):(f=a,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const v=yield Zd(this.fetch,d.toString(),f,{headers:y});return{data:{path:u,fullPath:v.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(He(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,r){return ne(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const u=yield mn(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:o}),c=new URL(this.url+u.url),d=c.searchParams.get("token");if(!d)throw new Ws("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:d},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}update(t,r,a){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,a)})}move(t,r,a){return ne(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}copy(t,r,a){return ne(this,void 0,void 0,function*(){try{return{data:{path:(yield mn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}createSignedUrl(t,r,a){return ne(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),u=yield mn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}createSignedUrls(t,r,a){return ne(this,void 0,void 0,function*(){try{const o=yield mn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}download(t,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(r?.transform||{}),c=u?`?${u}`:"",d=this._getFinalPath(t),f=()=>Vs(this.fetch,`${this.url}/${o}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new l4(f,this.shouldThrowOnError)}info(t){return ne(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const a=yield Vs(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Xd(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}exists(t){return ne(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield s4(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a)&&a instanceof Ql){const o=a.originalError;if([400,404].includes(o?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,r){const a=this._getFinalPath(t),o=[],u=r?.download?`download=${r.download===!0?"":r.download}`:"";u!==""&&o.push(u);const d=typeof r?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(r?.transform||{});f!==""&&o.push(f);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${a}${p}`)}}}remove(t){return ne(this,void 0,void 0,function*(){try{return{data:yield Zf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}list(t,r,a){return ne(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},u4),r),{prefix:t||""});return{data:yield mn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},a),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}listV2(t,r){return ne(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield mn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const m1="2.87.1",p1={"X-Client-Info":`storage-js/${m1}`};class h4{constructor(t,r={},a,o){this.shouldThrowOnError=!1;const u=new URL(t);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},p1),r),this.fetch=Xf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ne(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Vs(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}getBucket(t){return ne(this,void 0,void 0,function*(){try{return{data:yield Vs(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}createBucket(t){return ne(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield mn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}updateBucket(t,r){return ne(this,void 0,void 0,function*(){try{return{data:yield Zd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}emptyBucket(t){return ne(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ne(this,void 0,void 0,function*(){try{return{data:yield Zf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Hs=class extends Error{constructor(n,t){super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function d4(n,t,r){const a=new URL(t,n);if(r)for(const[o,u]of Object.entries(r))u!==void 0&&a.searchParams.set(o,u);return a.toString()}async function f4(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function m4(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:o,body:u,headers:c}){const d=d4(n.baseUrl,a,o),f=await f4(n.auth),p=await t(d,{method:r,headers:{...u?{"Content-Type":"application/json"}:{},...f,...c},body:u?JSON.stringify(u):void 0}),y=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),w=v&&y?JSON.parse(y):y;if(!p.ok){const x=v?w:void 0,_=x?.error;throw new Hs(_?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:_?.type,icebergCode:_?.code,details:x})}return{status:p.status,headers:p.headers,data:w}}}}function Nl(n){return n.join("")}var p4=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:Nl(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(n,t){const r={namespace:n.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Nl(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nl(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Nl(n.namespace)}`}),!0}catch(t){if(t instanceof Hs&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(r){if(r instanceof Hs&&r.status===409)return;throw r}}};function Kr(n){return n.join("")}var g4=class{constructor(n,t="",r){this.client=n,this.prefix=t,this.accessDelegation=r}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kr(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Kr(n.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(n,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Kr(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Kr(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kr(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Kr(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(r){if(r instanceof Hs&&r.status===404)return!1;throw r}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(r){if(r instanceof Hs&&r.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw r}}},y4=class{constructor(n){let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const r=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=m4({baseUrl:r,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new p4(this.client,t),this.tableOps=new g4(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}};class g1{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},p1),r),this.fetch=Xf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ne(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listBuckets(t){return ne(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const a=r.toString(),o=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield Vs(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ne(this,void 0,void 0,function*(){try{return{data:yield Zf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}from(t){if(!i4(t))throw new Ws("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new y4({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>ne(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(u,c){const d=u[c];return typeof d!="function"?d:(...f)=>ne(this,void 0,void 0,function*(){try{return{data:yield d.apply(u,f),error:null}}catch(p){if(a)throw p;return{data:null,error:p}}})}})}}const Jf={"X-Client-Info":`storage-js/${m1}`,"Content-Type":"application/json"};class Qf extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function kt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class Vl extends Qf{constructor(t,r,a){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class y1 extends Qf{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Jd;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Jd||(Jd={}));const fu=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),v4=()=>Response,v1=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},b4=n=>Array.from(new Float32Array(n)),w4=(n,t)=>{if(t!==void 0&&n.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${n.float32.length}`)},Wv=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),x4=(n,t,r)=>ne(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!r?.noResolveJson){const o=n.status||500,u=n;if(typeof u.json=="function")u.json().then(c=>{const d=c?.statusCode||c?.code||o+"";t(new Vl(Wv(c),o,d))}).catch(()=>{const c=o+"",d=u.statusText||`HTTP ${o} error`;t(new Vl(d,o,c))});else{const c=o+"",d=u.statusText||`HTTP ${o} error`;t(new Vl(d,o,c))}}else t(new y1(Wv(n),n))}),_4=(n,t,r,a)=>{const o={method:n,headers:t?.headers||{}};return a?(v1(a)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(a)):o.body=a,Object.assign(Object.assign({},o),r)):o};function S4(n,t,r,a,o,u){return ne(this,void 0,void 0,function*(){return new Promise((c,d)=>{n(r,_4(t,a,o,u)).then(f=>{if(!f.ok)throw f;if(a?.noResolveJson)return f;const p=f.headers.get("content-type");return!p||!p.includes("application/json")?{}:f.json()}).then(f=>c(f)).catch(f=>x4(f,d,a))})})}function It(n,t,r,a,o){return ne(this,void 0,void 0,function*(){return S4(n,"POST",t,a,o,r)})}class b1{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jf),r),this.fetch=fu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ne(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ne(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kt(a))return{data:null,error:a};throw a}})}listIndexes(t){return ne(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ne(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kt(a))return{data:null,error:a};throw a}})}}class w1{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jf),r),this.fetch=fu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ne(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield It(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}getVectors(t){return ne(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}listVectors(t){return ne(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield It(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}queryVectors(t){return ne(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ne(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield It(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}}class x1{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jf),r),this.fetch=fu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ne(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}getBucket(t){return ne(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}listBuckets(){return ne(this,arguments,void 0,function*(t={}){try{return{data:yield It(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ne(this,void 0,void 0,function*(){try{return{data:(yield It(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}}class _1 extends x1{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new S1(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ne(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ne(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ne(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ne(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class S1 extends b1{constructor(t,r,a,o){super(t,r,o),this.vectorBucketName=a}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ne(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ne(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ne(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ne(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new E1(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class E1 extends w1{constructor(t,r,a,o,u){super(t,r,u),this.vectorBucketName=a,this.indexName=o}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ne(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ne(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ne(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ne(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ne(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class E4 extends h4{constructor(t,r={},a,o){super(t,r,a,o)}from(t){return new c4(this.url,this.headers,t,this.fetch)}get vectors(){return new _1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new g1(this.url+"/iceberg",this.headers,this.fetch)}}const j4=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:g1,StorageApiError:d1,StorageClient:E4,StorageError:Ws,StorageUnknownError:Ql,StorageVectorsApiError:Vl,StorageVectorsClient:_1,StorageVectorsError:Qf,get StorageVectorsErrorCode(){return Jd},StorageVectorsUnknownError:y1,VectorBucketApi:x1,VectorBucketScope:S1,VectorDataApi:w1,VectorIndexApi:b1,VectorIndexScope:E1,isPlainObject:v1,isStorageError:He,isStorageVectorsError:kt,normalizeToFloat32:b4,resolveFetch:fu,resolveResponse:v4,validateVectorDimension:w4},Symbol.toStringTag,{value:"Module"})),T4=qs(j4);var od={},bs={},Xv;function A4(){return Xv||(Xv=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.version=void 0,bs.version="2.87.1"),bs}var Zv;function C4(){return Zv||(Zv=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_REALTIME_OPTIONS=n.DEFAULT_AUTH_OPTIONS=n.DEFAULT_DB_OPTIONS=n.DEFAULT_GLOBAL_OPTIONS=n.DEFAULT_HEADERS=void 0;const t=A4();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",n.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},n.DEFAULT_GLOBAL_OPTIONS={headers:n.DEFAULT_HEADERS},n.DEFAULT_DB_OPTIONS={schema:"public"},n.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n.DEFAULT_REALTIME_OPTIONS={}})(od)),od}var ld={},Jv;function R4(){return Jv||(Jv=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchWithAuth=n.resolveHeadersConstructor=n.resolveFetch=void 0;const t=o=>o?(...u)=>o(...u):(...u)=>fetch(...u);n.resolveFetch=t;const r=()=>Headers;n.resolveHeadersConstructor=r;const a=(o,u,c)=>{const d=(0,n.resolveFetch)(c),f=(0,n.resolveHeadersConstructor)();return async(p,y)=>{var v;const w=(v=await u())!==null&&v!==void 0?v:o;let x=new f(y?.headers);return x.has("apikey")||x.set("apikey",o),x.has("Authorization")||x.set("Authorization",`Bearer ${w}`),d(p,Object.assign(Object.assign({},y),{headers:x}))}};n.fetchWithAuth=a})(ld)),ld}var In={},Qv;function N4(){if(Qv)return In;Qv=1,Object.defineProperty(In,"__esModule",{value:!0}),In.isBrowser=void 0,In.uuid=n,In.ensureTrailingSlash=t,In.applySettingDefaults=a,In.validateSupabaseUrl=o;function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var c=Math.random()*16|0,d=u=="x"?c:c&3|8;return d.toString(16)})}function t(u){return u.endsWith("/")?u:u+"/"}const r=()=>typeof window<"u";In.isBrowser=r;function a(u,c){var d,f;const{db:p,auth:y,realtime:v,global:w}=u,{db:x,auth:_,realtime:T,global:E}=c,C={db:Object.assign(Object.assign({},x),p),auth:Object.assign(Object.assign({},_),y),realtime:Object.assign(Object.assign({},T),v),storage:{},global:Object.assign(Object.assign(Object.assign({},E),w),{headers:Object.assign(Object.assign({},(d=E?.headers)!==null&&d!==void 0?d:{}),(f=w?.headers)!==null&&f!==void 0?f:{})}),accessToken:async()=>""};return u.accessToken?C.accessToken=u.accessToken:delete C.accessToken,C}function o(u){const c=u?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return In}var ws={};const j1="2.87.1",Jr=30*1e3,Qd=3,ud=Qd*Jr,O4="http://localhost:9999",k4="supabase.auth.token",D4={"X-Client-Info":`gotrue-js/${j1}`},ef="X-Supabase-Api-Version",T1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},M4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,z4=600*1e3;let ha=class extends Error{constructor(t,r,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}};function le(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}let A1=class extends ha{constructor(t,r,a){super(t,r,a),this.name="AuthApiError",this.status=r,this.code=a}};function C1(n){return le(n)&&n.name==="AuthApiError"}let Si=class extends ha{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},Xn=class extends ha{constructor(t,r,a,o){super(t,a,o),this.name=r,this.status=a}},Ot=class extends Xn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function R1(n){return le(n)&&n.name==="AuthSessionMissingError"}let er=class extends Xn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Ts=class extends Xn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},As=class extends Xn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function N1(n){return le(n)&&n.name==="AuthImplicitGrantRedirectError"}let tf=class extends Xn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},eu=class extends Xn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Hl(n){return le(n)&&n.name==="AuthRetryableFetchError"}let nf=class extends Xn{constructor(t,r,a){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}};function L4(n){return le(n)&&n.name==="AuthWeakPasswordError"}let tu=class extends Xn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const nu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),eb=` 	
\r=`.split(""),U4=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<eb.length;t+=1)n[eb[t].charCodeAt(0)]=-2;for(let t=0;t<nu.length;t+=1)n[nu[t].charCodeAt(0)]=t;return n})();function tb(n,t,r){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(nu[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(nu[a]),t.queuedBits-=6}}function O1(n,t,r){const a=U4[n];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function nb(n){const t=[],r=c=>{t.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=c=>{V4(c,a,r)};for(let c=0;c<n.length;c+=1)O1(n.charCodeAt(c),o,u);return t.join("")}function P4(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function B4(n,t){for(let r=0;r<n.length;r+=1){let a=n.charCodeAt(r);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(n.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}P4(a,t)}}function V4(n,t,r){if(t.utf8seq===0){if(n<=127){r(n);return}for(let a=1;a<6;a+=1)if((n>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function oa(n){const t=[],r={queue:0,queuedBits:0},a=o=>{t.push(o)};for(let o=0;o<n.length;o+=1)O1(n.charCodeAt(o),r,a);return new Uint8Array(t)}function H4(n){const t=[];return B4(n,r=>t.push(r)),new Uint8Array(t)}function or(n){const t=[],r={queue:0,queuedBits:0},a=o=>{t.push(o)};return n.forEach(o=>tb(o,r,a)),tb(null,r,a),t.join("")}function q4(n){return Math.round(Date.now()/1e3)+n}function $4(){return Symbol("auth-callback")}const gt=()=>typeof window<"u"&&typeof document<"u",Zi={tested:!1,writable:!1},k1=()=>{if(!gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zi.tested)return Zi.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Zi.tested=!0,Zi.writable=!0}catch{Zi.tested=!0,Zi.writable=!1}return Zi.writable};function I4(n){const t={},r=new URL(n);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,u)=>{t[u]=o})}catch{}return r.searchParams.forEach((a,o)=>{t[o]=a}),t}const D1=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),G4=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Qr=async(n,t,r)=>{await n.setItem(t,JSON.stringify(r))},Ji=async(n,t)=>{const r=await n.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pt=async(n,t)=>{await n.removeItem(t)};class mu{constructor(){this.promise=new mu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}mu.promiseConstructor=Promise;function cd(n){const t=n.split(".");if(t.length!==3)throw new tu("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!M4.test(t[a]))throw new tu("JWT not in base64url format");return{header:JSON.parse(nb(t[0])),payload:JSON.parse(nb(t[1])),signature:oa(t[2]),raw:{header:t[0],payload:t[1]}}}async function F4(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function Y4(n,t){return new Promise((a,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await n(u);if(!t(u,null,c)){a(c);return}}catch(c){if(!t(u,c)){o(c);return}}})()})}function K4(n){return("0"+n.toString(16)).substr(-2)}function W4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let o="";for(let u=0;u<56;u++)o+=r.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(t),Array.from(t,K4).join("")}async function X4(n){const r=new TextEncoder().encode(n),a=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(a);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function Z4(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const r=await X4(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wr(n,t,r=!1){const a=W4();let o=a;r&&(o+="/PASSWORD_RECOVERY"),await Qr(n,`${t}-code-verifier`,o);const u=await Z4(a);return[u,a===u?"plain":"s256"]}const J4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Q4(n){const t=n.headers.get(ef);if(!t||!t.match(J4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function e3(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function t3(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const n3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xr(n){if(!n3.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hd(){const n={};return new Proxy(n,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function i3(n,t){return new Proxy(n,{get:(r,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const u=a.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,o)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,a,o)}})}function ib(n){return JSON.parse(JSON.stringify(n))}const tr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),r3=[502,503,504];async function rb(n){var t;if(!G4(n))throw new eu(tr(n),0);if(r3.includes(n.status))throw new eu(tr(n),n.status);let r;try{r=await n.json()}catch(u){throw new Si(tr(u),u)}let a;const o=Q4(n);if(o&&o.getTime()>=T1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new nf(tr(r),n.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Ot}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new nf(tr(r),n.status,r.weak_password.reasons);throw new A1(tr(r),n.status||500,a)}const a3=(n,t,r,a)=>{const o={method:n,headers:t?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),r))};async function de(n,t,r,a){var o;const u=Object.assign({},a?.headers);u[ef]||(u[ef]=T1["2024-01-01"].name),a?.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const c=(o=a?.query)!==null&&o!==void 0?o:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await s3(n,t,r+d,{headers:u,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(f):{data:Object.assign({},f),error:null}}async function s3(n,t,r,a,o,u){const c=a3(t,a,o,u);let d;try{d=await n(r,Object.assign({},c))}catch(f){throw console.error(f),new eu(tr(f),0)}if(d.ok||await rb(d),a?.noResolveJson)return d;try{return await d.json()}catch(f){await rb(f)}}function dn(n){var t;let r=null;u3(n)&&(r=Object.assign({},n),n.expires_at||(r.expires_at=q4(n.expires_in)));const a=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:r,user:a},error:null}}function ab(n){const t=dn(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Ei(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function o3(n){return{data:n,error:null}}function l3(n){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:o,verification_type:u}=n,c=wa(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:a,redirect_to:o,verification_type:u},f=Object.assign({},c);return{data:{properties:d,user:f},error:null}}function sb(n){return n}function u3(n){return n.access_token&&n.refresh_token&&n.expires_in}const ql=["global","local","others"];let em=class{constructor({url:t="",headers:r={},fetch:a}){this.url=t,this.headers=r,this.fetch=D1(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=ql[0]){if(ql.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ql.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(le(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,r={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ei})}catch(a){if(le(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:r}=t,a=wa(t,["options"]),o=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(o.new_email=a?.newEmail,delete o.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:l3,redirectTo:r?.redirectTo})}catch(r){if(le(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ei})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,a,o,u,c,d,f;try{const p={nextPage:null,lastPage:0,total:0},y=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:sb});if(y.error)throw y.error;const v=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(_=>{const T=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);p[`${E}Page`]=T}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(le(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){Xr(t);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ei})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Xr(t);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ei})}catch(a){if(le(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,r=!1){Xr(t);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ei})}catch(a){if(le(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){Xr(t.userId);try{const{data:r,error:a}=await de(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:a}}catch(r){if(le(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Xr(t.userId),Xr(t.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,a,o,u,c,d,f;try{const p={nextPage:null,lastPage:0,total:0},y=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:sb});if(y.error)throw y.error;const v=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(_=>{const T=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);p[`${E}Page`]=T}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(le(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(le(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(le(r))return{data:null,error:r};throw r}}};function ob(n={}){return{getItem:t=>n[t]||null,setItem:(t,r)=>{n[t]=r},removeItem:t=>{delete n[t]}}}const nr={debug:!!(globalThis&&k1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let M1=class extends tm{};class c3 extends tm{}async function z1(n,t,r){nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),nr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await r()}finally{nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(t===0)throw nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new M1(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(nr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const lb={};async function h3(n,t,r){var a;const o=(a=lb[n])!==null&&a!==void 0?a:Promise.resolve(),u=Promise.race([o.catch(()=>null),t>=0?new Promise((c,d)=>{setTimeout(()=>{d(new c3(`Acquring process lock with name "${n}" timed out`))},t)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await r());return lb[n]=u.catch(async c=>{if(c&&c.isAcquireTimeout)return await o,null;throw c}),await u}function d3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function L1(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function f3(n){return parseInt(n,16)}function m3(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function p3(n){var t;const{chainId:r,domain:a,expirationTime:o,issuedAt:u=new Date,nonce:c,notBefore:d,requestId:f,resources:p,scheme:y,uri:v,version:w}=n;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const x=L1(n.address),_=y?`${y}://${a}`:a,T=n.statement?`${n.statement}
`:"",E=`${_} wants you to sign in with your Ethereum account:
${x}

${T}`;let C=`URI: ${v}
Version: ${w}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),d&&(C+=`
Not Before: ${d.toISOString()}`),f&&(C+=`
Request ID: ${f}`),p){let R=`
Resources:`;for(const A of p){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);R+=`
- ${A}`}C+=R}return`${E}
${C}`}class rt extends Error{constructor({message:t,code:r,cause:a,name:o}){var u;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(u=o??(a instanceof Error?a.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=r}}class iu extends rt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function g3({error:n,options:t}){var r,a,o;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((r=u.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((a=u.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new rt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(U1(c)){if(u.rp.id!==c)return new rt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function y3({error:n,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new rt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const a=window.location.hostname;if(U1(a)){if(r.rpId!==a)return new rt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class v3{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const b3=new v3;function w3(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:r,excludeCredentials:a}=n,o=wa(n,["challenge","user","excludeCredentials"]),u=oa(t).buffer,c=Object.assign(Object.assign({},r),{id:oa(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:u,user:c});if(a&&a.length>0){d.excludeCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const p=a[f];d.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:oa(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function x3(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:r}=n,a=wa(n,["challenge","allowCredentials"]),o=oa(t).buffer,u=Object.assign(Object.assign({},a),{challenge:o});if(r&&r.length>0){u.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];u.allowCredentials[c]=Object.assign(Object.assign({},d),{id:oa(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function _3(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n;return{id:n.id,rawId:n.id,response:{attestationObject:or(new Uint8Array(n.response.attestationObject)),clientDataJSON:or(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function S3(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n,a=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:or(new Uint8Array(o.authenticatorData)),clientDataJSON:or(new Uint8Array(o.clientDataJSON)),signature:or(new Uint8Array(o.signature)),userHandle:o.userHandle?or(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function U1(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function ub(){var n,t;return!!(gt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function E3(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new iu("Browser returned unexpected credential type",t)}:{data:null,error:new iu("Empty credential response",t)}}catch(t){return{data:null,error:g3({error:t,options:n})}}}async function j3(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new iu("Browser returned unexpected credential type",t)}:{data:null,error:new iu("Empty credential response",t)}}catch(t){return{data:null,error:y3({error:t,options:n})}}}const T3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},A3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ru(...n){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of n)if(o)for(const u in o){const c=o[u];if(c!==void 0)if(Array.isArray(c))a[u]=c;else if(r(c))a[u]=c;else if(t(c)){const d=a[u];t(d)?a[u]=ru(d,c):a[u]=ru(c)}else a[u]=c}return a}function C3(n,t){return ru(T3,n,t||{})}function R3(n,t){return ru(A3,n,t||{})}class N3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:a,signal:o},u){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!c)return{data:null,error:d};const f=o??b3.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${a}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=C3(c.webauthn.credential_options.publicKey,u?.create),{data:y,error:v}=await E3({publicKey:p,signal:f});return y?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const p=R3(c.webauthn.credential_options.publicKey,u?.request),{data:y,error:v}=await j3(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:f}));return y?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(c){return le(c)?{data:null,error:c}:{data:null,error:new Si("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!r)return{data:null,error:new ha("rpId is required for WebAuthn authentication")};try{if(!ub())return{data:null,error:new Si("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:a},signal:o},{request:u});if(!c)return{data:null,error:d};const{webauthn:f}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:a,credential_response:f.credential_response}})}catch(c){return le(c)?{data:null,error:c}:{data:null,error:new Si("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!r)return{data:null,error:new ha("rpId is required for WebAuthn registration")};try{if(!ub())return{data:null,error:new Si("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===t&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:d};const{data:f,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:o},{create:u});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:a,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(c){return le(c)?{data:null,error:c}:{data:null,error:new Si("Unexpected error in register",c)}}}}d3();const O3={url:O4,storageKey:k4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:D4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function cb(n,t,r){return await r()}const Zr={};let nm=class rf{get jwks(){var t,r;return(r=(t=Zr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Zr[this.storageKey]=Object.assign(Object.assign({},Zr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Zr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Zr[this.storageKey]=Object.assign(Object.assign({},Zr[this.storageKey]),{cachedAt:t})}constructor(t){var r,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},O3),t);if(this.storageKey=u.storageKey,this.instanceID=(r=rf.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,rf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&gt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new em({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=D1(u.fetch),this.lock=u.lock||cb,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:this.persistSession&&gt()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=z1:this.lock=cb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new N3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:k1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ob(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=ob(this.memoryStorage)),gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${j1}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},a="none";if(gt()&&(r=I4(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),gt()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:u}=await this._getSessionFromURL(r,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),N1(u)){const f=(t=u.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return le(r)?this._returnResult({error:r}):this._returnResult({error:new Si("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,a,o;try{const u=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:dn}),{data:c,error:d}=u;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const f=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(u){if(le(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var r,a,o;try{let u;if("email"in t){const{email:y,password:v,options:w}=t;let x=null,_=null;this.flowType==="pkce"&&([x,_]=await Wr(this.storage,this.storageKey)),u=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:v,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:x,code_challenge_method:_},xform:dn})}else if("phone"in t){const{phone:y,password:v,options:w}=t;u=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(a=w?.data)!==null&&a!==void 0?a:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:dn})}else throw new Ts("You must provide either an email or phone number and a password");const{data:c,error:d}=u;if(d||!c)return await pt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(u){if(await pt(this.storage,`${this.storageKey}-code-verifier`),le(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let r;if("email"in t){const{email:u,password:c,options:d}=t;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:ab})}else if("phone"in t){const{phone:u,password:c,options:d}=t;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:ab})}else throw new Ts("You must provide either an email or phone number and a password");const{data:a,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const u=new er;return this._returnResult({data:{user:null,session:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(r){if(le(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,a,o,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,a,o,u,c,d,f,p,y,v,w;let x,_;if("message"in t)x=t.message,_=t.signature;else{const{chain:T,wallet:E,statement:C,options:R}=t;let A;if(gt())if(typeof E=="object")A=E;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")A=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=E}const M=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href),B=await A.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=L1(B[0]);let V=(a=R?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!V){const Q=await A.request({method:"eth_chainId"});V=f3(Q)}const I={domain:M.host,address:$,statement:C,uri:M.href,version:"1",chainId:V,nonce:(o=R?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(u=R?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=R?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=R?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=R?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=R?.signInWithEthereum)===null||y===void 0?void 0:y.resources};x=p3(I),_=await A.request({method:"personal_sign",params:[m3(x),$]})}try{const{data:T,error:E}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:_},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:dn});if(E)throw E;if(!T||!T.session||!T.user){const C=new er;return this._returnResult({data:{user:null,session:null},error:C})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:E})}catch(T){if(le(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(t){var r,a,o,u,c,d,f,p,y,v,w,x;let _,T;if("message"in t)_=t.message,T=t.signature;else{const{chain:E,wallet:C,statement:R,options:A}=t;let M;if(gt())if(typeof C=="object")M=C;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))M=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=C}const B=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in M&&M.signIn){const $=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),R?{statement:R}:null));let V;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")V=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)V=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)_=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),T=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${B.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(o=(a=A?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=A?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((p=A?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((v=(y=A?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...A.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const $=await M.signMessage(new TextEncoder().encode(_),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=$}}try{const{data:E,error:C}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:or(T)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:dn});if(C)throw C;if(!E||!E.session||!E.user){const R=new er;return this._returnResult({data:{user:null,session:null},error:R})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:C})}catch(E){if(le(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(t){const r=await Ji(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(r??"").split("/");try{const{data:u,error:c}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:dn});if(await pt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const d=new er;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:c})}catch(u){if(await pt(this.storage,`${this.storageKey}-code-verifier`),le(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:r,provider:a,token:o,access_token:u,nonce:c}=t,d=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:dn}),{data:f,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f||!f.session||!f.user){const y=new er;return this._returnResult({data:{user:null,session:null},error:y})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:p})}catch(r){if(le(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,a,o,u,c;try{if("email"in t){const{email:d,options:f}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Wr(this.storage,this.storageKey));const{error:v}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:d,options:f}=t,{data:p,error:y}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=f?.data)!==null&&o!==void 0?o:{},create_user:(u=f?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(c=f?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:y})}throw new Ts("You must provide either an email or phone number.")}catch(d){if(await pt(this.storage,`${this.storageKey}-code-verifier`),le(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var r,a;try{let o,u;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,u=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:d}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:dn});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,p=c.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(o){if(le(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var r,a,o,u,c;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Wr(this.storage,this.storageKey));const p=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:o3});return!((u=p.data)===null||u===void 0)&&u.url&&gt()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(await pt(this.storage,`${this.storageKey}-code-verifier`),le(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;if(a)throw a;if(!r)throw new Ot;const{error:o}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(le(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:a,type:o,options:u}=t,{error:c}=await de(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:a,type:o,options:u}=t,{data:c,error:d}=await de(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:d})}throw new Ts("You must provide either an email or phone number and a type")}catch(r){if(le(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ji(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<ud:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const c=await Ji(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=hd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=i3(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ei}):await this._useSession(async r=>{var a,o,u;const{data:c,error:d}=r;if(d)throw d;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ot}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Ei})})}catch(r){if(le(r))return R1(r)&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async a=>{const{data:o,error:u}=a;if(u)throw u;if(!o.session)throw new Ot;const c=o.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await Wr(this.storage,this.storageKey));const{data:p,error:y}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:c.access_token,xform:Ei});if(y)throw y;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(await pt(this.storage,`${this.storageKey}-code-verifier`),le(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ot;const r=Date.now()/1e3;let a=r,o=!0,u=null;const{payload:c}=cd(t.access_token);if(c.exp&&(a=c.exp,o=a<=r),o){const{data:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};u=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)throw f;u={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(r){if(le(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var a;if(!t){const{data:c,error:d}=r;if(d)throw d;t=(a=c.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new Ot;const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(le(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!gt())throw new As("No browser detected.");if(t.error||t.error_description||t.error_code)throw new As(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new tf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new As("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new tf("No code detected.");const{data:R,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:u,refresh_token:c,expires_in:d,expires_at:f,token_type:p}=t;if(!u||!d||!c||!p)throw new As("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(d);let w=y+v;f&&(w=parseInt(f));const x=w-y;x*1e3<=Jr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${v}s`);const _=w-v;y-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,w,y):y-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,w,y);const{data:T,error:E}=await this._getUser(u);if(E)throw E;const C={provider_token:a,provider_refresh_token:o,access_token:u,expires_in:v,expires_at:w,refresh_token:c,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(a){if(le(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ji(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:o,error:u}=r;if(u)return this._returnResult({error:u});const c=(a=o.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:d}=await this.admin.signOut(c,t);if(d&&!(C1(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=$4(),a={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async r=>{var a,o;try{const{data:{session:u},error:c}=r;if(c)throw c;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,r={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await Wr(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(await pt(this.storage,`${this.storageKey}-code-verifier`),le(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:a,error:o}=await this._useSession(async u=>{var c,d,f,p,y;const{data:v,error:w}=u;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",x,{headers:this.headers,jwt:(y=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return gt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:t.provider,url:a?.url},error:null})}catch(a){if(le(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var a;try{const{error:o,data:{session:u}}=r;if(o)throw o;const{options:c,provider:d,token:f,access_token:p,nonce:y}=t,v=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=u?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:d,id_token:f,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:dn}),{data:w,error:x}=v;return x?this._returnResult({data:{user:null,session:null},error:x}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new er}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:x}))}catch(o){if(await pt(this.storage,`${this.storageKey}-code-verifier`),le(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var a,o;const{data:u,error:c}=r;if(c)throw c;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await Y4(async o=>(o>0&&await F4(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dn})),(o,u)=>{const c=200*Math.pow(2,o);return u&&Hl(u)&&Date.now()+c-a<Jr})}catch(a){if(this._debug(r,"error",a),le(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",a),gt()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await Ji(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Ji(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await Qr(this.userStorage,this.storageKey+"-user",c)),o.user=(t=c?.user)!==null&&t!==void 0?t:hd()}else if(o&&!o.user&&!o.user){const c=await Ji(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await pt(this.storage,this.storageKey+"-user"),await Qr(this.storage,this.storageKey,o)):o.user=hd()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const u=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ud;if(this._debug(a,`session has${u?"":" not"} expired with margin of ${ud}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Hl(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(o.access_token);!d&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var r,a;if(!t)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new mu;const{data:u,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!u.session)throw new Ot;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const d={data:u.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(u){if(this._debug(o,"error",u),le(u)){const c={data:null,error:u};return Hl(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,a=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:r});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(f){u.push(f)}});if(await Promise.all(c),u.length>0){for(let d=0;d<u.length;d+=1)console.error(u[d]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await Qr(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const u=ib(o);await Qr(this.storage,this.storageKey,u)}else{const o=ib(r);await Qr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pt(this.storage,this.storageKey),await pt(this.storage,this.storageKey+"-code-verifier"),await pt(this.storage,this.storageKey+"-user"),this.userStorage&&await pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&gt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Jr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-t)/Jr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Jr}ms, refresh threshold is ${Qd} ticks`),o<=Qd&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof tm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,a){const o=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,c]=await Wr(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(d.toString())}if(a?.queryParams){const u=new URLSearchParams(a.queryParams);o.push(u.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var a;const{data:o,error:u}=r;return u?this._returnResult({data:null,error:u}):await de(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var a,o;const{data:u,error:c}=r;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:p}=await de(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&f.type==="totp"&&(!((o=f?.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?_3(t.webauthn.credential_response):S3(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:f}=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const c=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:w3(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:x3(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=r?.factors)!==null&&t!==void 0?t:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=cd(a.access_token);let c=null;u.aal&&(c=u.aal);let d=c;((r=(t=a.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=u.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:a},error:o}=r;return o?this._returnResult({data:null,error:o}):a?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new Ot});const c=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&gt()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(le(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new Ot});const c=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&gt()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(le(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;return a?this._returnResult({data:null,error:a}):r?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(t){if(le(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:a},error:o}=r;return o?this._returnResult({data:null,error:o}):a?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ot})})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let a=r.keys.find(d=>d.kid===t);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(d=>d.kid===t),a&&this.jwks_cached_at+z4>o)return a;const{data:u,error:c}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,a=u.keys.find(d=>d.kid===t),!a)?null:a}async getClaims(t,r={}){try{let a=t;if(!a){const{data:x,error:_}=await this.getSession();if(_||!x.session)return this._returnResult({data:null,error:_});a=x.session.access_token}const{header:o,payload:u,signature:c,raw:{header:d,payload:f}}=cd(a);r?.allowExpired||e3(u.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:x}=await this.getUser(a);if(x)throw x;return{data:{claims:u,header:o,signature:c},error:null}}const y=t3(o.alg),v=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,c,H4(`${d}.${f}`)))throw new tu("Invalid JWT signature");return{data:{claims:u,header:o,signature:c},error:null}}catch(a){if(le(a))return this._returnResult({data:null,error:a});throw a}}};nm.nextInstanceID={};const k3=em,D3=nm,M3=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:k3,AuthApiError:A1,AuthClient:D3,AuthError:ha,AuthImplicitGrantRedirectError:As,AuthInvalidCredentialsError:Ts,AuthInvalidJwtError:tu,AuthInvalidTokenResponseError:er,AuthPKCEGrantCodeExchangeError:tf,AuthRetryableFetchError:eu,AuthSessionMissingError:Ot,AuthUnknownError:Si,AuthWeakPasswordError:nf,CustomAuthError:Xn,GoTrueAdminApi:em,GoTrueClient:nm,NavigatorLockAcquireTimeoutError:M1,SIGN_OUT_SCOPES:ql,isAuthApiError:C1,isAuthError:le,isAuthImplicitGrantRedirectError:N1,isAuthRetryableFetchError:Hl,isAuthSessionMissingError:R1,isAuthWeakPasswordError:L4,lockInternals:nr,navigatorLock:z1,processLock:h3},Symbol.toStringTag,{value:"Module"})),P1=qs(M3);var hb;function z3(){if(hb)return ws;hb=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.SupabaseAuthClient=void 0;const n=P1;let t=class extends n.AuthClient{constructor(a){super(a)}};return ws.SupabaseAuthClient=t,ws}var db;function fb(){if(db)return _l;db=1,Object.defineProperty(_l,"__esModule",{value:!0});const n=Zx,t=i1(),r=h1,a=T4,o=C4(),u=R4(),c=N4(),d=z3();class f{constructor(y,v,w){var x,_,T;this.supabaseUrl=y,this.supabaseKey=v;const E=(0,c.validateSupabaseUrl)(y);if(!v)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",E),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",E),this.storageUrl=new URL("storage/v1",E),this.functionsUrl=new URL("functions/v1",E);const C=`sb-${E.hostname.split(".")[0]}-auth-token`,R={db:o.DEFAULT_DB_OPTIONS,realtime:o.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},o.DEFAULT_AUTH_OPTIONS),{storageKey:C}),global:o.DEFAULT_GLOBAL_OPTIONS},A=(0,c.applySettingDefaults)(w??{},R);this.storageKey=(x=A.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(_=A.global.headers)!==null&&_!==void 0?_:{},A.accessToken?(this.accessToken=A.accessToken,this.auth=new Proxy({},{get:(M,B)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(B)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((T=A.auth)!==null&&T!==void 0?T:{},this.headers,A.global.fetch),this.fetch=(0,u.fetchWithAuth)(v,this._getAccessToken.bind(this),A.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},A.realtime)),this.accessToken&&this.accessToken().then(M=>this.realtime.setAuth(M)).catch(M=>console.warn("Failed to set initial Realtime auth token:",M)),this.rest=new t.PostgrestClient(new URL("rest/v1",E).href,{headers:this.headers,schema:A.db.schema,fetch:this.fetch}),this.storage=new a.StorageClient(this.storageUrl.href,this.headers,this.fetch,w?.storage),A.accessToken||this._listenForAuthEvents()}get functions(){return new n.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(y){return this.rest.from(y)}schema(y){return this.rest.schema(y)}rpc(y,v={},w={head:!1,get:!1,count:void 0}){return this.rest.rpc(y,v,w)}channel(y,v={config:{}}){return this.realtime.channel(y,v)}getChannels(){return this.realtime.getChannels()}removeChannel(y){return this.realtime.removeChannel(y)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var y,v;if(this.accessToken)return await this.accessToken();const{data:w}=await this.auth.getSession();return(v=(y=w.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:y,persistSession:v,detectSessionInUrl:w,storage:x,userStorage:_,storageKey:T,flowType:E,lock:C,debug:R,throwOnError:A},M,B){const $={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},$),M),storageKey:T,autoRefreshToken:y,persistSession:v,detectSessionInUrl:w,storage:x,userStorage:_,flowType:E,lock:C,debug:R,throwOnError:A,fetch:B,hasCustomAuthorizationHeader:Object.keys(this.headers).some(V=>V.toLowerCase()==="authorization")})}_initRealtimeClient(y){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},y),{params:Object.assign({apikey:this.supabaseKey},y?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((v,w)=>{this._handleTokenChanged(v,"CLIENT",w?.access_token)})}_handleTokenChanged(y,v,w){(y==="TOKEN_REFRESHED"||y==="SIGNED_IN")&&this.changedAccessToken!==w?(this.changedAccessToken=w,this.realtime.setAuth(w)):y==="SIGNED_OUT"&&(this.realtime.setAuth(),v=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return _l.default=f,_l}var mb;function L3(){return mb||(mb=1,(function(n){var t=$n&&$n.__createBinding||(Object.create?(function(y,v,w,x){x===void 0&&(x=w);var _=Object.getOwnPropertyDescriptor(v,w);(!_||("get"in _?!v.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return v[w]}}),Object.defineProperty(y,x,_)}):(function(y,v,w,x){x===void 0&&(x=w),y[x]=v[w]})),r=$n&&$n.__exportStar||function(y,v){for(var w in y)w!=="default"&&!Object.prototype.hasOwnProperty.call(v,w)&&t(v,y,w)},a=$n&&$n.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(n,"__esModule",{value:!0}),n.createClient=n.SupabaseClient=n.FunctionRegion=n.FunctionsError=n.FunctionsRelayError=n.FunctionsFetchError=n.FunctionsHttpError=n.PostgrestError=void 0;const o=a(fb());r(P1,n);var u=i1();Object.defineProperty(n,"PostgrestError",{enumerable:!0,get:function(){return u.PostgrestError}});var c=Zx;Object.defineProperty(n,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(n,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(n,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(n,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(n,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),r(h1,n);var d=fb();Object.defineProperty(n,"SupabaseClient",{enumerable:!0,get:function(){return a(d).default}});const f=(y,v,w)=>new o.default(y,v,w);n.createClient=f;function p(){if(typeof window<"u"||typeof process>"u")return!1;const y=process.version;if(y==null)return!1;const v=y.match(/^v(\d+)\./);return v?parseInt(v[1],10)<=18:!1}p()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})($n)),$n}var B1=L3();const V1=Cb(B1),U3=hS({__proto__:null,default:V1},[B1]),{PostgrestError:WN,FunctionsHttpError:XN,FunctionsFetchError:ZN,FunctionsRelayError:JN,FunctionsError:QN,FunctionRegion:eO,SupabaseClient:tO,createClient:P3,GoTrueAdminApi:nO,GoTrueClient:iO,AuthAdminApi:rO,AuthClient:aO,navigatorLock:sO,NavigatorLockAcquireTimeoutError:oO,lockInternals:lO,processLock:uO,SIGN_OUT_SCOPES:cO,AuthError:hO,AuthApiError:dO,AuthUnknownError:fO,CustomAuthError:mO,AuthSessionMissingError:pO,AuthInvalidTokenResponseError:gO,AuthInvalidCredentialsError:yO,AuthImplicitGrantRedirectError:vO,AuthPKCEGrantCodeExchangeError:bO,AuthRetryableFetchError:wO,AuthWeakPasswordError:xO,AuthInvalidJwtError:_O,isAuthError:SO,isAuthApiError:EO,isAuthSessionMissingError:jO,isAuthImplicitGrantRedirectError:TO,isAuthRetryableFetchError:AO,isAuthWeakPasswordError:CO,RealtimePresence:RO,RealtimeChannel:NO,RealtimeClient:OO,REALTIME_LISTEN_TYPES:kO,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:DO,REALTIME_PRESENCE_LISTEN_EVENTS:MO,REALTIME_SUBSCRIBE_STATES:zO,REALTIME_CHANNEL_STATES:LO}=V1||U3,B3="https://whmljmkxqgdbtrleozpv.supabase.co",V3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndobWxqbWt4cWdkYnRybGVvenB2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyNTAwNTAsImV4cCI6MjA4MDgyNjA1MH0.osmN5bIHNJhUWIItq1qTl0yqAl9l2D8CJ-WjSDIRqY4",he=P3(B3,V3),H3=()=>{const[n,t]=j.useState(!1),[r,a]=j.useState(!1),[o,u]=j.useState(""),[c,d]=j.useState(""),[f,p]=j.useState(""),[y,v]=j.useState(""),[w,x]=j.useState(""),[_,T]=j.useState(""),[E,C]=j.useState(""),R=on(),{allowRoute:A,removeRoute:M,signupFormData:B,saveSignupFormData:$}=ga();j.useEffect(()=>{u(B.fullName),d(B.email),p(B.username),v(""),M("/auth/signup/birthday"),M("/auth/signup/confirm")},[]);const V=async()=>{if(!(!o.trim()||!c.trim()||!f.trim()||!y.trim())){if(y.length<6){x("Password must be at least 6 characters");return}x(""),T(""),C(""),a(!0);try{const{data:ee}=await he.from("profiles").select("email").eq("email",c).maybeSingle();if(ee){T("This email is already registered."),a(!1);return}const{data:ae}=await he.from("profiles").select("username").eq("username",f).maybeSingle();if(ae){C("Username is already taken."),a(!1);return}$({fullName:o,email:c,username:f,password:y}),setTimeout(()=>{a(!1),A("/auth/signup/birthday"),R("/auth/signup/birthday")},500)}catch(ee){console.error("Unexpected error:",ee),x("An unexpected error occurred. Please try again."),a(!1)}}},I=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,Q=ee=>{const ae=ee.target.value,P=_;d(ae),(P||_)&&ae&&I.test(ae)&&T("")},J=ee=>{const ae=ee.target.value;ae&&!I.test(ae)&&T("Please enter a valid email address (e.g., user@example.com)")},Y=/^[a-zA-Z0-9._]*$/,Z=ee=>{const ae=ee.target.value;p(ae),Y.test(ae)?C(""):C("Only letters, numbers, underscores, and dots are allowed.")},X=o.trim()!==""&&c.trim()!==""&&!_&&I.test(c)&&f.trim()!==""&&!E&&Y.test(f)&&y.trim()!==""&&y.length>=6&&!w;return g.jsxs("div",{className:"h-screen w-screen bg-black text-white relative selection:bg-indigo-500/30 overflow-hidden",children:[g.jsx(Wn,{}),g.jsx(Ni,{}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/80 z-0 pointer-events-none"}),g.jsx("div",{className:"absolute inset-0 overflow-y-auto overflow-x-hidden custom-scrollbar",children:g.jsx("div",{className:"min-h-full w-full flex items-center justify-center py-6",children:g.jsxs("div",{className:"w-full max-w-md z-10 px-6 relative",children:[g.jsxs("button",{onClick:()=>R("/"),className:"absolute top-0 left-6 text-gray-400 hover:text-white transition-colors flex items-center gap-2 group",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 group-hover:-translate-x-1 transition-transform",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),"Back"]}),g.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-6 mt-12",children:[g.jsxs("div",{className:"text-center space-y-2 mb-8",children:[g.jsx(pe.h1,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5},className:"text-6xl font-black tracking-tighter text-white drop-shadow-3xl mb-4",children:"Allify"}),g.jsx("h2",{className:"text-2xl font-bold text-gray-200",children:"Create Account"}),g.jsx("p",{className:"text-gray-400 text-sm max-w-xs mx-auto",children:"Join the future of digital innovation."})]}),g.jsxs("div",{className:"space-y-5",children:[g.jsx("div",{className:"relative group",children:g.jsx("input",{type:"text",placeholder:"Full Name",value:o,onChange:ee=>u(ee.target.value),className:"w-full px-5 py-3.5 rounded-xl bg-white/5 border border-white/10 text-white placeholder-gray-400 focus:outline-none focus:border-indigo-500/50 focus:bg-white/10 transition-all backdrop-blur-sm shadow-inner"})}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("div",{className:"relative group",children:g.jsx("input",{type:"text",placeholder:"Username",value:f,onChange:Z,maxLength:20,className:`w-full px-5 py-3.5 rounded-xl bg-white/5 border ${E?"border-red-500/50":"border-white/10"} text-white placeholder-gray-400 focus:outline-none focus:border-indigo-500/50 focus:bg-white/10 transition-all backdrop-blur-sm shadow-inner`})}),E&&g.jsx("p",{className:"text-xs text-red-400 ml-2",children:E})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("div",{className:"relative group",children:g.jsx("input",{type:"email",placeholder:"Email address",value:c,onChange:Q,onBlur:J,className:`w-full px-5 py-3.5 rounded-xl bg-white/5 border ${_?"border-red-500/50":"border-white/10"} text-white placeholder-gray-400 focus:outline-none focus:border-indigo-500/50 focus:bg-white/10 transition-all backdrop-blur-sm shadow-inner`})}),_&&g.jsx("p",{className:"text-xs text-red-400 ml-2",children:_})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"relative group",children:[g.jsx("input",{type:n?"text":"password",placeholder:"Password",value:y,onChange:ee=>{v(ee.target.value),w&&x("")},onKeyDown:ee=>ee.key==="Enter"&&V(),className:"w-full px-5 py-3.5 pr-12 rounded-xl bg-white/5 border border-white/10 text-white placeholder-gray-400 focus:outline-none focus:border-indigo-500/50 focus:bg-white/10 transition-all backdrop-blur-sm shadow-inner"}),g.jsx("button",{type:"button",onClick:()=>t(!n),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:n?g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})}):g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]})})]}),w&&g.jsx("p",{className:"text-xs text-red-400 ml-2",children:w})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("button",{onClick:V,disabled:r||!X,className:"w-full px-8 py-3.5 rounded-full bg-white text-black font-bold text-lg hover:bg-gray-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none flex items-center justify-center gap-2 shadow-[0_0_15px_-5px_rgba(255,255,255,0.3)] hover:shadow-[0_0_20px_-5px_rgba(255,255,255,0.4)] mt-6",children:r?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g.jsx("span",{children:"Creating account..."})]}):"Continue"}),g.jsxs("p",{className:"text-[10px] text-gray-400 text-center",children:["By signing up, you agree to our"," ",g.jsx("button",{disabled:!0,className:"underline hover:text-white cursor-not-allowed transition-colors",children:"Terms and Conditions"}),"."]})]})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"relative flex py-1 items-center",children:[g.jsx("div",{className:"flex-grow border-t border-white/10"}),g.jsx("span",{className:"flex-shrink-0 mx-4 text-gray-500 text-xs",children:"or"}),g.jsx("div",{className:"flex-grow border-t border-white/10"})]}),g.jsx("div",{className:"text-center",children:g.jsxs("p",{className:"text-sm text-gray-400",children:["Already have an account?"," ",g.jsx("button",{onClick:()=>R("/auth/login"),className:"text-white hover:text-indigo-300 font-medium hover:underline transition-colors",children:"Log in"})]})})]}),g.jsx("div",{className:"pt-8 text-center opacity-60 hover:opacity-100 transition-opacity duration-300",children:g.jsx("div",{className:"mt-4 text-[10px] text-gray-600 font-mono tracking-widest",children:"ALLIFY  2025"})})]})]})})})]})},q3=()=>{const n=on(),t=yn(),{allowRoute:r}=ga(),[a,o]=j.useState(""),[u,c]=j.useState(""),[d,f]=j.useState(!1),[p,y]=j.useState(!1),[v,w]=j.useState(""),[x,_]=j.useState("");j.useEffect(()=>{const C=t.state;C?.message&&(_(C.message),window.history.replaceState({},document.title))},[]);const T=async()=>{y(!0),w("");try{let C=a;if(!a.includes("@")){const{data:M,error:B}=await he.from("profiles").select("email").eq("username",a).single();if(B||!M){w("Invalid login credentials."),y(!1);return}C=M.email}const{error:A}=await he.auth.signInWithPassword({email:C,password:u});if(A){A.message.includes("Invalid login credentials")?w("Invalid email/username or password."):w(A.message),y(!1);return}r("/home"),n("/home")}catch(C){console.error("Login error:",C),w("An unexpected error occurred."),y(!1)}},E=a.trim()&&u.trim();return g.jsxs("div",{className:"h-screen w-screen bg-black text-white relative selection:bg-indigo-500/30 overflow-hidden",children:[g.jsx(Wn,{}),g.jsx(Ni,{}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/80 z-0 pointer-events-none"}),g.jsx("div",{className:"absolute inset-0 overflow-y-auto overflow-x-hidden custom-scrollbar",children:g.jsx("div",{className:"min-h-full w-full flex items-center justify-center p-6",children:g.jsxs("div",{className:"w-full max-w-md z-10 relative flex flex-col",children:[g.jsx("div",{className:"mb-8 pl-1",children:g.jsxs("button",{onClick:()=>n("/"),className:"text-gray-400 hover:text-white transition-colors flex items-center gap-2 group text-sm font-medium pt-10",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 group-hover:-translate-x-1 transition-transform",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),"Back"]})}),g.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-6",children:[g.jsxs("div",{className:"text-center space-y-2 mb-8",children:[g.jsx(pe.h1,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5},className:"text-6xl font-black tracking-tighter text-white drop-shadow-3xl mb-4",children:"Allify"}),g.jsx("h2",{className:"text-2xl font-bold text-gray-200",children:"Welcome back"}),g.jsx("p",{className:"text-gray-400 text-sm max-w-xs mx-auto",children:"Enter your credentials to continue your journey."})]}),g.jsxs("div",{className:"space-y-5",children:[g.jsx("div",{className:"relative group",children:g.jsx("input",{type:"text",placeholder:"Email or Username",value:a,onChange:C=>{o(C.target.value),v&&w("")},className:"w-full px-5 py-3.5 rounded-xl bg-white/5 border border-white/10 text-white placeholder-gray-400 focus:outline-none focus:border-indigo-500/50 focus:bg-white/10 transition-all backdrop-blur-sm shadow-inner"})}),g.jsxs("div",{className:"relative group",children:[g.jsx("input",{type:d?"text":"password",placeholder:"Password",value:u,onChange:C=>{c(C.target.value),v&&w("")},onKeyDown:C=>C.key==="Enter"&&T(),className:"w-full px-5 py-3.5 pr-12 rounded-xl bg-white/5 border border-white/10 text-white placeholder-gray-400 focus:outline-none focus:border-indigo-500/50 focus:bg-white/10 transition-all backdrop-blur-sm shadow-inner"}),g.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:d?g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})}):g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]})})]}),v&&g.jsx(pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:g.jsx("p",{className:"text-xs text-red-400 text-center",children:v})}),x&&g.jsx(pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-green-500/10 border border-green-500/20 rounded-lg p-3",children:g.jsx("p",{className:"text-xs text-green-400 text-center",children:x})}),g.jsx("button",{onClick:T,disabled:p||!E,className:"w-full px-8 py-3.5 rounded-full bg-white text-black font-bold text-lg hover:bg-gray-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none flex items-center justify-center gap-2 shadow-[0_0_15px_-5px_rgba(255,255,255,0.3)] hover:shadow-[0_0_20px_-5px_rgba(255,255,255,0.4)] mt-6",children:p?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g.jsx("span",{children:"Logging in..."})]}):"Log In"}),g.jsx("div",{className:"text-center pt-2",children:g.jsx("button",{onClick:()=>n("/auth/forgot-password"),className:"text-xs text-gray-500 hover:text-white transition-colors hover:underline",children:"Forgot password?"})})]}),g.jsxs("div",{className:"space-y-6 pt-2",children:[g.jsxs("div",{className:"relative flex py-2 items-center",children:[g.jsx("div",{className:"flex-grow border-t border-white/10"}),g.jsx("span",{className:"flex-shrink-0 mx-4 text-gray-500 text-xs",children:"or"}),g.jsx("div",{className:"flex-grow border-t border-white/10"})]}),g.jsx("div",{className:"text-center",children:g.jsxs("p",{className:"text-sm text-gray-400",children:["New to Allify?"," ",g.jsx("button",{onClick:()=>n("/auth/signup"),className:"text-white hover:text-indigo-300 font-medium hover:underline transition-colors",children:"Create an account"})]})})]}),g.jsxs("div",{className:"pt-8 text-center opacity-60 hover:opacity-100 transition-opacity duration-300",children:[g.jsx("p",{className:"text-[10px] text-gray-500 leading-relaxed max-w-xs mx-auto",children:"Your data is secure and encrypted."}),g.jsx("div",{className:"mt-4 text-[10px] text-gray-600 font-mono tracking-widest",children:"ALLIFY  2025"})]})]})]})})})]})},$3=()=>{const n=on(),{signupFormData:t,allowRoute:r,saveSignupFormData:a}=ga();!t.email||t.password;const[o,u]=j.useState(""),[c,d]=j.useState(""),[f,p]=j.useState(""),[y,v]=j.useState(!1),[w,x]=j.useState(""),[_,T]=j.useState(""),[E,C]=j.useState(null),R=new Date().getFullYear(),A=Array.from({length:100},(X,ee)=>R-ee),M=["January","February","March","April","May","June","July","August","September","October","November","December"],$=f&&c?Array.from({length:((X,ee)=>new Date(X,ee,0).getDate())(parseInt(f),M.indexOf(c)+1)},(X,ee)=>ee+1):[],I=(()=>{if(!o||!c||!f)return 0;const X=new Date(parseInt(f),M.indexOf(c),parseInt(o)),ee=new Date;let ae=ee.getFullYear()-X.getFullYear();const P=ee.getMonth()-X.getMonth();return(P<0||P===0&&ee.getDate()<X.getDate())&&ae--,ae})()<13,Q=o&&c&&f&&!I,J=async()=>{if(!Q)return;v(!0),x("");const X=M.indexOf(c)+1,ee=`${f}-${X.toString().padStart(2,"0")}-${o.padStart(2,"0")}`;try{a({...t,birthday:ee});const{data:ae,error:P}=await he.auth.signUp({email:t.email,password:t.password,options:{data:{full_name:t.fullName,username:t.username,birthday:ee}}});if(P)if(P.message.includes("already registered")){const{error:W}=await he.auth.resend({type:"signup",email:t.email});if(W){W.message.includes("Too many requests")||W.status===429?x("Too many attempts. Please wait 60 seconds."):W.message.includes("already active")?x("This email is already active. Please log in."):x("Could not send code. Please try again later."),v(!1);return}}else{console.error("Signup error:",P.message),x(P.message),v(!1);return}ae.user&&await he.from("profiles").update({birthday:ee}).eq("id",ae.user.id),localStorage.removeItem("allify_resend_end_time"),r("/auth/signup/confirm"),n("/auth/signup/confirm",{replace:!0})}catch(ae){console.error("Unexpected error:",ae),x("An unexpected error occurred."),v(!1)}},Y=()=>{C(null)},Z=({type:X,options:ee,value:ae,placeholder:P,disabled:W,onChange:ie})=>{const ye=E===X,ge=G=>{if(G.stopPropagation(),W){X==="month"&&!f&&T("Please select the Year first."),X==="day"&&(!f||!c)&&T(f?"Please select the Month first.":"Please select the Year first.");return}C(ye?null:X)},k=(G,te)=>{te.stopPropagation(),ie(G.toString()),C(null),T(""),x("")};return g.jsxs("div",{className:"relative group flex-1",children:[g.jsxs("button",{type:"button",onClick:ge,className:`w-full px-4 py-3 rounded-lg border text-left flex items-center justify-between transition-all outline-none ${W?"bg-neutral-900/50 border-neutral-800 text-gray-600 cursor-not-allowed":ae?"bg-neutral-900 border-neutral-800 text-white cursor-pointer hover:border-neutral-700 focus:border-neutral-600":"bg-neutral-900 border-white/40 text-white cursor-pointer hover:border-white shadow-[0_0_15px_-5px_rgba(255,255,255,0.1)]"}`,children:[g.jsx("span",{className:`block truncate ${ae?"":"text-gray-500"}`,children:ae||P}),g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${ye?"rotate-180":""}`,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]}),ye&&!W&&g.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 z-50 bg-neutral-900 border border-white/20 rounded-lg max-h-48 overflow-y-auto shadow-2xl custom-scrollbar",children:ee.map(G=>g.jsx("button",{type:"button",onClick:te=>k(G,te),className:"w-full px-4 py-3 text-left text-white hover:bg-neutral-800 transition-colors border-b border-neutral-800/50 last:border-0 text-sm",children:G},G))})]})};return g.jsxs("div",{className:"h-screen w-screen bg-black text-white relative selection:bg-indigo-500/30 overflow-hidden",onClick:Y,children:[g.jsx(Wn,{}),g.jsx(Ni,{}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/80 z-0 pointer-events-none"}),g.jsx("div",{className:"absolute inset-0 overflow-y-auto overflow-x-hidden custom-scrollbar",children:g.jsx("div",{className:"min-h-full w-full flex items-center justify-center py-6",children:g.jsxs("div",{className:"w-full max-w-md z-10 px-6 relative flex flex-col items-center",children:[g.jsxs("button",{onClick:X=>{X.stopPropagation(),n("/auth/signup")},className:"absolute top-0 left-6 text-gray-400 hover:text-white transition-colors flex items-center gap-2 group",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 group-hover:-translate-x-1 transition-transform",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),"Back"]}),g.jsx(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"mb-12 mt-12",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"120",height:"120",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-white drop-shadow-[0_0_15px_rgba(255,255,255,0.3)]",children:[g.jsx("path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8"}),g.jsx("path",{d:"M4 16s.5-1 2-1 2.5 1 4 1 2.5-1 4-1 2.5 1 4 1 2-1 2-1"}),g.jsx("path",{d:"M2 21h20"}),g.jsx("path",{d:"M7 8v2"}),g.jsx("path",{d:"M12 8v2"}),g.jsx("path",{d:"M17 8v2"}),g.jsx("path",{d:"M7 4v2",className:"text-orange-400 stroke-orange-400"}),g.jsx("path",{d:"M12 4v2",className:"text-orange-400 stroke-orange-400"}),g.jsx("path",{d:"M17 4v2",className:"text-orange-400 stroke-orange-400"})]})}),g.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"w-full space-y-8",children:[g.jsxs("div",{className:"text-center mb-10",children:[g.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"When is your birthday?"}),g.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"You won't be able to change this later."}),g.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Your birthday won't be shared publicly until you want."})]}),g.jsxs("div",{className:"flex gap-6 relative z-50",children:[g.jsx(Z,{type:"year",options:A,value:f,placeholder:"Year",disabled:!1,onChange:X=>{p(X),d(""),u("")}}),g.jsx(Z,{type:"month",options:M,value:c,placeholder:"Month",disabled:!f,onChange:X=>{d(X),u("")}}),g.jsx(Z,{type:"day",options:$,value:o,placeholder:"Day",disabled:!f||!c,onChange:X=>u(X)})]}),g.jsx("p",{className:"text-gray-400 text-xs text-center mt-8",children:"You must be at least 13 years old to use Allify."}),_&&g.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-2 animate-pulse",children:g.jsx("p",{className:"text-xs text-yellow-400 text-center",children:_})}),w&&g.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-3",children:g.jsx("p",{className:"text-xs text-red-400 text-center",children:w})}),f&&c&&o&&I&&g.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-2",children:g.jsx("p",{className:"text-[10px] text-red-400/80 text-center",children:"You must be 13 or older."})}),g.jsx("button",{onClick:J,disabled:y||!Q,className:"w-full px-8 py-4 rounded-full bg-white text-black font-bold text-lg hover:bg-gray-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none flex items-center justify-center gap-2 shadow-[0_0_15px_-5px_rgba(255,255,255,0.3)] hover:shadow-[0_0_20px_-5px_rgba(255,255,255,0.4)]",children:y?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g.jsx("span",{children:"Creating Account..."})]}):"Continue"}),g.jsx("div",{className:"about-me text-center mt-8",children:g.jsx("p",{className:"text-[10px] text-gray-600",children:"Allify  2025"})})]})]})})})]})},I3=()=>{const[n,t]=j.useState(""),[r,a]=j.useState(0),[o,u]=j.useState(!0),c=on(),{allowRoute:d,removeRoute:f,signupFormData:p}=ga(),[y,v]=j.useState(!1),[w,x]=j.useState("");j.useEffect(()=>{const R=localStorage.getItem("allify_resend_end_time");if(R){const A=parseInt(R,10),M=Math.ceil((A-Date.now())/1e3);M>0?(a(M),u(!1)):(u(!0),a(0))}else _()},[]),j.useEffect(()=>{let R;return r>0&&(R=setInterval(()=>{a(A=>A<=1?(u(!0),0):A-1)},1e3)),()=>clearInterval(R)},[r]);const _=()=>{const A=Date.now()+6e4;localStorage.setItem("allify_resend_end_time",A.toString()),a(60),u(!1)},T=async()=>{if(o){_();try{const{error:R}=await he.auth.resend({type:"signup",email:p.email});R?(console.error("Resend error:",R.message),R.status===429?x("Too many requests. Please wait 60s."):x(R.message||"Failed to resend code.")):x("")}catch(R){console.error("Resend error:",R)}}},E=R=>{const A=R.target.value.replace(/\D/g,"");A.length<=6&&t(A)},C=async()=>{v(!0),x("");try{const{error:R}=await he.auth.verifyOtp({email:p.email,token:n,type:"signup"});if(R){x(R.message),v(!1);return}d("/home"),f("/auth/signup/confirm"),setTimeout(()=>{c("/home",{replace:!0})},100)}catch(R){console.error("Verification error:",R),x("Verification failed. Please try again."),v(!1)}};return g.jsxs("div",{className:"h-screen w-screen bg-black text-white relative selection:bg-indigo-500/30 overflow-hidden",children:[g.jsx(Wn,{}),g.jsx(Ni,{}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/80 z-0 pointer-events-none"}),g.jsx("div",{className:"absolute inset-0 overflow-y-auto overflow-x-hidden custom-scrollbar",children:g.jsx("div",{className:"min-h-full w-full flex items-center justify-center py-6",children:g.jsxs("div",{className:"w-full max-w-md z-10 px-6 relative",children:[g.jsxs("button",{onClick:()=>c("/auth/signup"),className:"absolute top-0 left-6 text-gray-400 hover:text-white transition-colors flex items-center gap-2 group z-50",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 group-hover:-translate-x-1 transition-transform",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),"Back"]}),g.jsx(pe.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-5xl font-black tracking-tight mb-12 pb-4 text-center bg-clip-text text-transparent bg-gradient-to-b from-white via-white to-white/40 mt-12",children:"Allify"}),g.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col items-center space-y-4 mb-8",children:[g.jsx(pe.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.4,type:"spring"},className:"w-20 h-20 rounded-full bg-green-500/20 border-2 border-green-500 flex items-center justify-center",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-10 h-10 text-green-500",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})})}),g.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.6},className:"text-center space-y-2",children:[g.jsx("h2",{className:"text-xl font-semibold text-green-500",children:"Verification Code Sent"}),g.jsx("p",{className:"text-sm text-gray-400",children:"Please enter the code to continue"})]})]}),g.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 backdrop-blur-sm",children:g.jsxs("p",{className:"text-xs text-gray-400 text-center leading-relaxed",children:["We've sent a 6-digit verification code to ",g.jsx("span",{className:"text-white font-bold",children:p.email}),". Please check your inbox and enter the code below."]})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("input",{type:"text",value:n,onChange:E,placeholder:"000000",maxLength:6,className:"w-full px-4 py-4 rounded-lg bg-white/5 border border-white/10 text-white text-center text-2xl font-mono tracking-[0.5em] placeholder-gray-600 focus:outline-none focus:border-indigo-500/50 focus:bg-white/10 transition-all backdrop-blur-sm"}),g.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Enter 6-digit code"}),w&&g.jsx("p",{className:"text-xs text-red-500 text-center mt-2",children:w})]}),g.jsxs("div",{className:"text-center h-6",children:[" ",g.jsxs("p",{className:"text-xs text-gray-400",children:["Didn't receive the code?"," ",g.jsx("button",{onClick:T,disabled:!o,className:`transition-colors underline ${o?"text-indigo-400 hover:text-indigo-300 cursor-pointer":"text-gray-500 cursor-not-allowed no-underline"}`,children:o?"Resend":`Resend in ${r}s`})]})]}),g.jsx("button",{onClick:C,disabled:n.length!==6||y,className:"w-full px-8 py-4 rounded-full bg-white text-black font-bold text-lg hover:bg-gray-100 transition-all disabled:bg-white/10 disabled:text-white/40 disabled:border disabled:border-white/10 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:y?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g.jsx("span",{children:"Verifying..."})]}):"Continue"})]}),g.jsx("div",{className:"pt-20 text-center opacity-60",children:g.jsx("div",{className:"text-[10px] text-gray-600 font-mono tracking-widest",children:"ALLIFY  2025"})})]})})})]})},H1=j.createContext(void 0),G3=({children:n})=>{const[t,r]=j.useState(()=>localStorage.getItem("allify_reset_step")||"idle"),[a,o]=j.useState(()=>localStorage.getItem("allify_reset_email")||""),[u,c]=j.useState(()=>localStorage.getItem("allify_reset_username")||""),[d,f]=j.useState(()=>localStorage.getItem("allify_reset_token"));j.useEffect(()=>{localStorage.setItem("allify_reset_step",t)},[t]),j.useEffect(()=>{localStorage.setItem("allify_reset_email",a)},[a]),j.useEffect(()=>{localStorage.setItem("allify_reset_username",u)},[u]),j.useEffect(()=>{d?localStorage.setItem("allify_reset_token",d):localStorage.removeItem("allify_reset_token")},[d]);const p=(x,_)=>{o(x),c(_)},y=()=>{f(Math.random().toString(36).substring(2,15))},v=()=>{f(null)},w=()=>{r("idle"),o(""),c(""),f(null),localStorage.removeItem("allify_reset_step"),localStorage.removeItem("allify_reset_email"),localStorage.removeItem("allify_reset_username"),localStorage.removeItem("allify_reset_token"),localStorage.removeItem("allify_reset_resend_end_time")};return g.jsx(H1.Provider,{value:{step:t,email:a,username:u,transitionToken:d,setStep:r,setIdentity:p,generateToken:y,clearToken:v,resetFlow:w},children:n})},im=()=>{const n=j.useContext(H1);if(n===void 0)throw new Error("useReset must be used within a ResetProvider");return n},F3=()=>{const n=on(),{setStep:t,setIdentity:r,resetFlow:a,generateToken:o}=im(),[u,c]=j.useState(""),[d,f]=j.useState(!1),[p,y]=j.useState(null),[v,w]=j.useState(0);j.useEffect(()=>{const _=localStorage.getItem("allify_reset_cooldown_expiry");if(_){const T=parseInt(_,10),E=Date.now();T>E?w(Math.ceil((T-E)/1e3)):localStorage.removeItem("allify_reset_cooldown_expiry")}},[]),j.useEffect(()=>{if(v<=0)return;const T=setInterval(()=>{const E=localStorage.getItem("allify_reset_cooldown_expiry");if(E){const C=parseInt(E,10),R=Date.now(),A=Math.ceil((C-R)/1e3);A<=0?(localStorage.removeItem("allify_reset_cooldown_expiry"),w(0)):w(A)}else w(0)},1e3);return()=>clearInterval(T)},[v]),j.useEffect(()=>{if(a(),!localStorage.getItem("allify_device_id")){const _=crypto.randomUUID?crypto.randomUUID():`device_${Date.now()}_${Math.random().toString(36).slice(2)}`;localStorage.setItem("allify_device_id",_)}},[]);const x=async()=>{f(!0),y(null);try{const _=u.includes("@");let T="",E="";if(_){const{data:A,error:M}=await he.from("profiles").select("username").eq("email",u).single();if(M||!A){y({type:"error",text:"Email not found. Please check and try again."}),f(!1);return}E=A.username,T=u}else{const{data:A,error:M}=await he.from("profiles").select("email, username").eq("username",u).single();if(M||!A){y({type:"error",text:"Username not found. Please check and try again."}),f(!1);return}T=A.email,E=A.username}const C=localStorage.getItem("allify_device_id");if(C){const A=await Bs.checkResetPermission(C);if(A&&A.status==="error"){if(A.cooldown_remaining){const M=A.cooldown_remaining;w(M);const B=Date.now()+M*1e3;localStorage.setItem("allify_reset_cooldown_expiry",B.toString())}y({type:"error",text:A.message||"Too many attempts. Please try again later."}),f(!1);return}}const{error:R}=await he.auth.resetPasswordForEmail(T,{redirectTo:`${window.location.origin}/auth/reset-password`});R?y({type:"error",text:R.message}):(w(150),localStorage.setItem("allify_reset_cooldown_expiry",(Date.now()+150*1e3).toString()),r(T,E),t("verifying"),o(),n("/auth/reset-verify"))}catch(_){console.error("Reset password error:",_),y({type:"error",text:"An unexpected error occurred."})}finally{f(!1)}};return g.jsxs("div",{className:"h-screen w-screen bg-black text-white relative selection:bg-indigo-500/30 overflow-hidden",children:[g.jsx(Wn,{}),g.jsx(Ni,{}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/80 z-0 pointer-events-none"}),g.jsx("div",{className:"absolute inset-0 overflow-y-auto overflow-x-hidden custom-scrollbar",children:g.jsx("div",{className:"min-h-full w-full flex items-center justify-center py-6",children:g.jsxs("div",{className:"w-full max-w-md z-10 px-6 relative mt-12",children:[g.jsxs("button",{onClick:()=>n("/auth/login",{replace:!0}),className:"absolute top-0 left-6 text-gray-400 hover:text-white transition-colors flex items-center gap-2 group whitespace-nowrap",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 group-hover:-translate-x-1 transition-transform",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),"Back to Login"]}),g.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-6 mt-12",children:[g.jsxs("div",{className:"text-center space-y-2 mb-8",children:[g.jsx(pe.h1,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5},className:"text-6xl font-black tracking-tighter text-white drop-shadow-3xl mb-4",children:"Allify"}),g.jsx("h2",{className:"text-2xl font-bold text-gray-200",children:"Reset Password"}),g.jsx("p",{className:"text-gray-400 text-sm max-w-xs mx-auto",children:"Enter your email or username to receive a password reset link."})]}),g.jsxs("div",{className:"space-y-5",children:[g.jsx("div",{className:"relative group",children:g.jsx("input",{type:"text",placeholder:"Email or Username",value:u,onChange:_=>c(_.target.value),onKeyDown:_=>_.key==="Enter"&&x(),className:"w-full px-5 py-3.5 rounded-xl bg-white/5 border border-white/10 text-white placeholder-gray-400 focus:outline-none focus:border-indigo-500/50 focus:bg-white/10 transition-all backdrop-blur-sm shadow-inner"})}),p&&g.jsx(pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`${p.type==="success"?"bg-emerald-500/10 border-emerald-500/20":"bg-red-500/10 border-red-500/20"} border rounded-lg p-3`,children:g.jsx("p",{className:`text-xs ${p.type==="success"?"text-emerald-400":"text-red-400"} text-center`,children:p.text})}),g.jsxs("button",{onClick:x,disabled:d||!u.trim()||v>0,className:"w-full px-8 py-3.5 rounded-full bg-white text-black font-bold text-lg hover:bg-gray-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none flex items-center justify-center gap-2 shadow-[0_0_15px_-5px_rgba(255,255,255,0.3)] hover:shadow-[0_0_20px_-5px_rgba(255,255,255,0.4)] mt-6",children:[d?g.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,g.jsx("span",{children:d?"Searching...":v>0?`Wait ${Math.floor(v/60)}m ${v%60}s`:"Recover Account"})]}),g.jsxs("div",{className:"relative flex py-4 items-center",children:[g.jsx("div",{className:"flex-grow border-t border-white/10"}),g.jsx("span",{className:"flex-shrink-0 mx-4 text-gray-500 text-xs",children:"or"}),g.jsx("div",{className:"flex-grow border-t border-white/10"})]}),g.jsx("div",{className:"text-center",children:g.jsxs("p",{className:"text-sm text-gray-400",children:["New to Allify?"," ",g.jsx("button",{onClick:()=>n("/auth/signup"),className:"text-white hover:text-indigo-300 font-medium hover:underline transition-colors",children:"Create an account"})]})})]}),g.jsx("div",{className:"pt-8 text-center opacity-60",children:g.jsx("div",{className:"text-[10px] text-gray-600 font-mono tracking-widest",children:"ALLIFY  2025"})})]})]})})})]})},Y3=()=>{const n=on(),{step:t,email:r,setStep:a,transitionToken:o,generateToken:u}=im(),[c,d]=j.useState(""),[f,p]=j.useState(!1),[y,v]=j.useState(null),[w,x]=j.useState(0),[_,T]=j.useState(!0),[E,C]=j.useState(!1),R=t!=="verifying"&&t!=="resetting"||!o;j.useEffect(()=>{if(R){n("/auth/login",{replace:!0});return}const V=localStorage.getItem("allify_resend_locked_until");let I=!1;if(V){const J=parseInt(V,10),Y=Date.now();J>Y?(x(Math.ceil((J-Y)/1e3)),T(!1),C(!0),I=!0):localStorage.removeItem("allify_resend_locked_until")}if(!I){const J=localStorage.getItem("allify_reset_resend_end_time");if(J){const Y=parseInt(J,10),Z=Math.ceil((Y-Date.now())/1e3);Z>0?(x(Z),T(!1)):(T(!0),x(0))}else M()}if(!I){const J=localStorage.getItem("allify_device_id");J&&Bs.checkResetPermission(J,"resend",!0).then(Y=>{if(Y&&Y.status==="error"&&Y.cooldown_remaining){const Z=Date.now()+Y.cooldown_remaining*1e3;localStorage.setItem("allify_resend_locked_until",Z.toString()),T(!1),C(!0),x(Y.cooldown_remaining)}})}},[R,n]),j.useEffect(()=>{let V;return w>0&&(V=setInterval(()=>{x(I=>I<=1?(T(!0),C(!1),localStorage.removeItem("allify_resend_locked_until"),0):I-1)},1e3)),()=>clearInterval(V)},[w]);const A=V=>{if(V<60)return`${V}s`;const I=Math.floor(V/60),Q=V%60;return`${I}m ${Q}s`},M=()=>{const I=Date.now()+6e4;localStorage.setItem("allify_reset_resend_end_time",I.toString()),x(60),T(!1)},B=async()=>{if(!_||f)return;const V=localStorage.getItem("allify_device_id");if(V){const I=await Bs.checkResetPermission(V,"resend");if(I&&I.status==="error"){if(C(!0),T(!1),I.cooldown_remaining){const Q=Date.now()+I.cooldown_remaining*1e3;localStorage.setItem("allify_resend_locked_until",Q.toString()),x(I.cooldown_remaining)}return}}v(null),M();try{const{error:I}=await he.auth.resetPasswordForEmail(r,{redirectTo:`${window.location.origin}/auth/reset-password`});I&&v(I.message)}catch(I){console.error("Resend error:",I),v("Failed to resend code.")}};if(R)return null;const $=async()=>{if(!(c.length<6)){p(!0),v(null);try{const{error:V}=await he.auth.verifyOtp({email:r,token:c,type:"recovery"});V?v(V.message):(a("resetting"),u(),n("/auth/reset-password",{replace:!0}))}catch(V){console.error("OTP verification error:",V),v("An unexpected error occurred.")}finally{p(!1)}}};return g.jsxs("div",{className:"h-screen w-screen bg-black text-white relative selection:bg-indigo-500/30 overflow-hidden",children:[g.jsx(Wn,{}),g.jsx(Ni,{}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/80 z-0 pointer-events-none"}),g.jsx("div",{className:"absolute inset-0 overflow-y-auto overflow-x-hidden custom-scrollbar transform-gpu",children:g.jsx("div",{className:"min-h-full w-full flex items-center justify-center py-6",children:g.jsxs("div",{className:"w-full max-w-md z-10 px-6 relative",children:[g.jsxs("button",{onClick:()=>n("/auth/forgot-password"),className:"absolute top-0 left-6 text-gray-400 hover:text-white transition-colors flex items-center gap-2 group whitespace-nowrap z-50 mt-4",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 group-hover:-translate-x-1 transition-transform",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),"Back"]}),g.jsx(pe.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-5xl font-black tracking-tight mb-12 pb-4 text-center bg-clip-text text-transparent bg-gradient-to-b from-white via-white to-white/40 mt-12",children:"Allify"}),g.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col items-center space-y-4 mb-8",children:[g.jsx(pe.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.4,type:"spring"},className:"w-20 h-20 rounded-full bg-indigo-500/20 border-2 border-indigo-500/50 flex items-center justify-center",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-10 h-10 text-indigo-400",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})})}),g.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.6},className:"text-center space-y-2",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Verification Code Sent"}),g.jsx("p",{className:"text-sm text-gray-400",children:"Please enter the code to reset your password"})]})]}),g.jsx("div",{className:"bg-white/[0.07] border border-white/10 rounded-lg p-4 shadow-xl",children:g.jsxs("p",{className:"text-xs text-gray-400 text-center leading-relaxed",children:["A 6-digit security code has been sent to ",g.jsx("span",{className:"text-indigo-400 font-medium",children:r}),". This code will expire soon for your security."]})}),g.jsxs("div",{className:"space-y-5",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm text-gray-500 text-center font-medium",children:"Enter your 6-digit code below"}),g.jsx("div",{className:"relative group",children:g.jsx("input",{type:"text",maxLength:6,placeholder:"000000",value:c,onChange:V=>d(V.target.value.replace(/[^0-9]/g,"")),onKeyDown:V=>V.key==="Enter"&&$(),className:"w-full px-5 py-4 rounded-xl bg-white/[0.08] border border-white/10 text-white placeholder-gray-500 text-center text-3xl font-mono tracking-[0.5em] focus:outline-none focus:border-indigo-500/50 focus:bg-white/[0.12] transition-all shadow-inner transform-gpu",autoFocus:!0})})]}),y&&g.jsx(pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:g.jsx("p",{className:"text-xs text-red-400 text-center",children:y})}),g.jsxs("button",{onClick:$,disabled:f||c.length<6,className:"w-full px-8 py-3.5 rounded-full bg-white text-black font-bold text-lg hover:bg-gray-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none flex items-center justify-center gap-2 shadow-[0_0_15px_-5px_rgba(255,255,255,0.3)] hover:shadow-[0_0_20px_-5px_rgba(255,255,255,0.4)]",children:[f?g.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,g.jsx("span",{children:f?"Verifying...":"Verify Code"})]}),g.jsxs("div",{className:"text-center pt-4",children:[g.jsxs("p",{className:"text-sm text-gray-400",children:["Didn't receive the code?"," ",g.jsx("button",{onClick:B,disabled:!_||E,className:`transition-colors underline ${_&&!E?"text-indigo-400 hover:text-indigo-300 cursor-pointer":"text-gray-500 cursor-not-allowed no-underline"}`,children:E?`Try again in ${A(w)}`:_?"Resend":`Try again in ${w}s`})]}),E&&g.jsx(pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-left",children:g.jsx("p",{className:"text-xs text-red-300 leading-relaxed font-medium",children:"Youve reached the resend limit. Please enter the code already sent. If you didnt receive it, go back and restart the verification process."})})]})]}),g.jsx("div",{className:"pt-20 text-center opacity-60",children:g.jsx("div",{className:"text-[10px] text-gray-600 font-mono tracking-widest",children:"ALLIFY  2025"})})]})]})})})]})},K3=()=>{const n=on(),{step:t,transitionToken:r,resetFlow:a}=im(),[o,u]=j.useState(""),[c,d]=j.useState(""),[f,p]=j.useState(!1),[y,v]=j.useState(!1),[w,x]=j.useState(!1),[_,T]=j.useState(null),[E,C]=j.useState(!1),R=t!=="resetting"&&t!=="completed"||!r;if(j.useEffect(()=>{R&&!E&&n("/auth/login",{replace:!0})},[R,E,n]),R&&!E)return null;const A=async()=>{if(o!==c){T("Passwords do not match.");return}if(o.length<6){T("Password must be at least 6 characters.");return}x(!0),T(null);try{const{error:M}=await he.auth.updateUser({password:o});M?T(M.message):(C(!0),n("/auth/login",{replace:!0,state:{message:"Password updated successfully. Please log in again."}}),a())}catch(M){console.error("Password update error:",M),T("An unexpected error occurred.")}finally{x(!1)}};return g.jsxs("div",{className:"h-screen w-screen bg-black text-white relative selection:bg-indigo-500/30 overflow-hidden",children:[g.jsx(Wn,{}),g.jsx(Ni,{}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/80 z-0 pointer-events-none"}),g.jsx("div",{className:"absolute inset-0 overflow-y-auto overflow-x-hidden custom-scrollbar transform-gpu",children:g.jsx("div",{className:"min-h-full w-full flex items-center justify-center py-6",children:g.jsxs("div",{className:"w-full max-w-md z-10 px-6 relative",children:[g.jsx(pe.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-5xl font-black tracking-tight mb-12 pb-4 text-center bg-clip-text text-transparent bg-gradient-to-b from-white via-white to-white/40 mt-12",children:"Allify"}),g.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col items-center space-y-4 mb-8",children:[g.jsx(pe.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.4,type:"spring"},className:"w-20 h-20 rounded-full bg-indigo-500/20 border-2 border-indigo-500/50 flex items-center justify-center",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-10 h-10 text-indigo-400",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818l5.73-5.73a1.5 1.5 0 0 0 .43-1.563 6 6 0 1 1 11.72-2.312l-2.029 2.03a1.5 1.5 0 0 0-.43 1.563c.097.564-.026 1.16-.43 1.564l-1.438 1.439a1.5 1.5 0 0 1-2.121 0l-2.121-2.12a1.5 1.5 0 0 1 0-2.122l1.439-1.438a1.5 1.5 0 0 0 .43-1.563 6.002 6.002 0 0 1 3.511-7.029l2.03 2.03c.563.097 1.159-.026 1.563-.43L15.75 5.25Z"})})}),g.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.6},className:"text-center space-y-2",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Create New Password"}),g.jsx("p",{className:"text-sm text-gray-400",children:"Please choose a strong password to secure your account"})]})]}),g.jsx("div",{className:"bg-white/[0.07] border border-white/10 rounded-lg p-4 shadow-xl",children:g.jsx("p",{className:"text-xs text-gray-400 text-center leading-relaxed",children:"Your new password should be unique and contain at least 6 characters for maximum security."})}),g.jsxs("div",{className:"space-y-5",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"relative group",children:[g.jsx("input",{type:f?"text":"password",placeholder:"New Password",value:o,onChange:M=>u(M.target.value),className:"w-full px-5 py-3.5 rounded-xl bg-white/[0.08] border border-white/10 text-white placeholder-gray-500 focus:outline-none focus:border-indigo-500/50 focus:bg-white/[0.12] transition-all shadow-inner transform-gpu"}),g.jsx("button",{type:"button",onClick:()=>p(!f),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white transition-colors p-1",children:f?g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}):g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.644C3.397 8.305 7.894 5.5 12 5.5s8.603 2.805 9.964 6.178a1.012 1.012 0 010 .644C20.603 15.695 16.106 18.5 12 18.5s-8.603-2.805-9.964-6.178z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),g.jsxs("div",{className:"relative group",children:[g.jsx("input",{type:y?"text":"password",placeholder:"Confirm New Password",value:c,onChange:M=>d(M.target.value),className:"w-full px-5 py-3.5 rounded-xl bg-white/[0.08] border border-white/10 text-white placeholder-gray-500 focus:outline-none focus:border-indigo-500/50 focus:bg-white/[0.12] transition-all shadow-inner transform-gpu"}),g.jsx("button",{type:"button",onClick:()=>v(!y),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white transition-colors p-1",children:y?g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}):g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.644C3.397 8.305 7.894 5.5 12 5.5s8.603 2.805 9.964 6.178a1.012 1.012 0 010 .644C20.603 15.695 16.106 18.5 12 18.5s-8.603-2.805-9.964-6.178z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),_&&g.jsx(pe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:g.jsx("p",{className:"text-xs text-red-400 text-center",children:_})}),g.jsxs("button",{onClick:A,disabled:w||!o||!c,className:"w-full px-8 py-3.5 rounded-full bg-white text-black font-bold text-lg hover:bg-gray-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none flex items-center justify-center gap-2 shadow-[0_0_15px_-5px_rgba(255,255,255,0.3)] hover:shadow-[0_0_20px_-5px_rgba(255,255,255,0.4)] mt-4",children:[w?g.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,g.jsx("span",{children:w?"Updating...":"Update Password"})]})]}),g.jsx("div",{className:"pt-20 text-center opacity-60",children:g.jsx("div",{className:"text-[10px] text-gray-600 font-mono tracking-widest",children:"ALLIFY  2025"})})]})]})})})]})},W3=[{path:"/profile",label:"Profile",icon:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})},{path:"/create",label:"Create",icon:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})},{path:"/home",label:"Home",icon:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})},{path:"/search",label:"Search",icon:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})},{path:"/messages",label:"Messages",icon:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"})})},{path:"/notifications",label:"Notifications",icon:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.31 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})})},{path:"/settings",label:"Settings",icon:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 0 1 0 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 0 1 0-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281Z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]})},{path:"/more",label:"More",icon:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}],X3=()=>g.jsxs("div",{className:"fixed left-0 top-0 h-full w-20 hover:w-52 transition-all duration-300 ease-in-out group z-50 bg-black",children:[g.jsx("div",{className:"absolute top-1 left-0 w-20 flex justify-center py-3",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:"currentColor",className:"w-14 h-14 text-white",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 20C5 20 12 2 19 20"})})}),g.jsx("div",{className:"mt-24 flex flex-col gap-3 px-1",children:W3.map(n=>g.jsxs(Gb,{to:n.path,className:({isActive:t})=>`flex items-center px-4 py-3 rounded-xl transition-all group/item ${t?"bg-zinc-800/80":"hover:bg-zinc-800/80"}`,children:[g.jsx("div",{className:"min-w-[2rem] flex justify-center text-white",children:n.icon}),g.jsx("span",{className:"ml-4 text-white font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100 whitespace-nowrap overflow-hidden",children:n.label})]},n.path))})]}),Z3=()=>g.jsxs("div",{className:"relative h-screen w-screen bg-black overflow-hidden flex font-sans",children:[g.jsx(X3,{}),g.jsx("main",{className:"flex-1 ml-20 transition-all duration-300 h-full overflow-y-auto bg-black",children:g.jsx(Bb,{})})]}),J3=()=>g.jsx("div",{className:"flex items-center justify-center h-full",children:g.jsx("h1",{className:"text-white text-3xl font-light tracking-widest opacity-50",children:"Home Feed"})});var dd,pb;function Q3(){if(pb)return dd;pb=1;var n=!1,t,r,a,o,u,c,d,f,p,y,v,w,x,_,T;function E(){if(!n){n=!0;var R=navigator.userAgent,A=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(R),M=/(Mac OS X)|(Windows)|(Linux)/.exec(R);if(w=/\b(iPhone|iP[ao]d)/.exec(R),x=/\b(iP[ao]d)/.exec(R),y=/Android/i.exec(R),_=/FBAN\/\w+;/i.exec(R),T=/Mobile/i.exec(R),v=!!/Win64/.exec(R),A){t=A[1]?parseFloat(A[1]):A[5]?parseFloat(A[5]):NaN,t&&document&&document.documentMode&&(t=document.documentMode);var B=/(?:Trident\/(\d+.\d+))/.exec(R);c=B?parseFloat(B[1])+4:t,r=A[2]?parseFloat(A[2]):NaN,a=A[3]?parseFloat(A[3]):NaN,o=A[4]?parseFloat(A[4]):NaN,o?(A=/(?:Chrome\/(\d+\.\d+))/.exec(R),u=A&&A[1]?parseFloat(A[1]):NaN):u=NaN}else t=r=a=u=o=NaN;if(M){if(M[1]){var $=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(R);d=$?parseFloat($[1].replace("_",".")):!0}else d=!1;f=!!M[2],p=!!M[3]}else d=f=p=!1}}var C={ie:function(){return E()||t},ieCompatibilityMode:function(){return E()||c>t},ie64:function(){return C.ie()&&v},firefox:function(){return E()||r},opera:function(){return E()||a},webkit:function(){return E()||o},safari:function(){return C.webkit()},chrome:function(){return E()||u},windows:function(){return E()||f},osx:function(){return E()||d},linux:function(){return E()||p},iphone:function(){return E()||w},mobile:function(){return E()||w||x||y||T},nativeApp:function(){return E()||_},android:function(){return E()||y},ipad:function(){return E()||x}};return dd=C,dd}var fd,gb;function eR(){if(gb)return fd;gb=1;var n=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:n,canUseWorkers:typeof Worker<"u",canUseEventListeners:n&&!!(window.addEventListener||window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};return fd=t,fd}var md,yb;function tR(){if(yb)return md;yb=1;var n=eR(),t;n.canUseDOM&&(t=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function r(a,o){if(!n.canUseDOM||o&&!("addEventListener"in document))return!1;var u="on"+a,c=u in document;if(!c){var d=document.createElement("div");d.setAttribute(u,"return;"),c=typeof d[u]=="function"}return!c&&t&&a==="wheel"&&(c=document.implementation.hasFeature("Events.wheel","3.0")),c}return md=r,md}var pd,vb;function nR(){if(vb)return pd;vb=1;var n=Q3(),t=tR(),r=10,a=40,o=800;function u(c){var d=0,f=0,p=0,y=0;return"detail"in c&&(f=c.detail),"wheelDelta"in c&&(f=-c.wheelDelta/120),"wheelDeltaY"in c&&(f=-c.wheelDeltaY/120),"wheelDeltaX"in c&&(d=-c.wheelDeltaX/120),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(d=f,f=0),p=d*r,y=f*r,"deltaY"in c&&(y=c.deltaY),"deltaX"in c&&(p=c.deltaX),(p||y)&&c.deltaMode&&(c.deltaMode==1?(p*=a,y*=a):(p*=o,y*=o)),p&&!d&&(d=p<1?-1:1),y&&!f&&(f=y<1?-1:1),{spinX:d,spinY:f,pixelX:p,pixelY:y}}return u.getEventType=function(){return n.firefox()?"DOMMouseScroll":t("wheel")?"wheel":"mousewheel"},pd=u,pd}var gd,bb;function iR(){return bb||(bb=1,gd=nR()),gd}var rR=iR();const aR=Cb(rR);function sR(n,t,r,a,o,u){u===void 0&&(u=0);var c=da(n,t,u),d=c.width,f=c.height,p=Math.min(d,r),y=Math.min(f,a);return p>y*o?{width:y*o,height:y}:{width:p,height:p/o}}function oR(n){return n.width>n.height?n.width/n.naturalWidth:n.height/n.naturalHeight}function xs(n,t,r,a,o){o===void 0&&(o=0);var u=da(t.width,t.height,o),c=u.width,d=u.height;return{x:wb(n.x,c,r.width,a),y:wb(n.y,d,r.height,a)}}function wb(n,t,r,a){var o=t*a/2-r/2;return pu(n,-o,o)}function xb(n,t){return Math.sqrt(Math.pow(n.y-t.y,2)+Math.pow(n.x-t.x,2))}function _b(n,t){return Math.atan2(t.y-n.y,t.x-n.x)*180/Math.PI}function lR(n,t,r,a,o,u,c){u===void 0&&(u=0),c===void 0&&(c=!0);var d=c?uR:cR,f=da(t.width,t.height,u),p=da(t.naturalWidth,t.naturalHeight,u),y={x:d(100,((f.width-r.width/o)/2-n.x/o)/f.width*100),y:d(100,((f.height-r.height/o)/2-n.y/o)/f.height*100),width:d(100,r.width/f.width*100/o),height:d(100,r.height/f.height*100/o)},v=Math.round(d(p.width,y.width*p.width/100)),w=Math.round(d(p.height,y.height*p.height/100)),x=p.width>=p.height*a,_=x?{width:Math.round(w*a),height:w}:{width:v,height:Math.round(v/a)},T=it(it({},_),{x:Math.round(d(p.width-_.width,y.x*p.width/100)),y:Math.round(d(p.height-_.height,y.y*p.height/100))});return{croppedAreaPercentages:y,croppedAreaPixels:T}}function uR(n,t){return Math.min(n,Math.max(0,t))}function cR(n,t){return t}function hR(n,t,r,a,o,u){var c=da(t.width,t.height,r),d=pu(a.width/c.width*(100/n.width),o,u),f={x:d*c.width/2-a.width/2-c.width*d*(n.x/100),y:d*c.height/2-a.height/2-c.height*d*(n.y/100)};return{crop:f,zoom:d}}function dR(n,t,r){var a=oR(t);return r.height>r.width?r.height/(n.height*a):r.width/(n.width*a)}function fR(n,t,r,a,o,u){r===void 0&&(r=0);var c=da(t.naturalWidth,t.naturalHeight,r),d=pu(dR(n,t,a),o,u),f=a.height>a.width?a.height/n.height:a.width/n.width,p={x:((c.width-n.width)/2-n.x)*f,y:((c.height-n.height)/2-n.y)*f};return{crop:p,zoom:d}}function Sb(n,t){return{x:(t.x+n.x)/2,y:(t.y+n.y)/2}}function mR(n){return n*Math.PI/180}function da(n,t,r){var a=mR(r);return{width:Math.abs(Math.cos(a)*n)+Math.abs(Math.sin(a)*t),height:Math.abs(Math.sin(a)*n)+Math.abs(Math.cos(a)*t)}}function pu(n,t,r){return Math.min(Math.max(n,t),r)}function Ol(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return n.filter(function(r){return typeof r=="string"&&r.length>0}).join(" ").trim()}var pR=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,gR=1,yR=3,vR=1,bR=(function(n){Yf(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.cropperRef=j.createRef(),r.imageRef=j.createRef(),r.videoRef=j.createRef(),r.containerPosition={x:0,y:0},r.containerRef=null,r.styleRef=null,r.containerRect=null,r.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},r.dragStartPosition={x:0,y:0},r.dragStartCrop={x:0,y:0},r.gestureZoomStart=0,r.gestureRotationStart=0,r.isTouching=!1,r.lastPinchDistance=0,r.lastPinchRotation=0,r.rafDragTimeout=null,r.rafPinchTimeout=null,r.wheelTimer=null,r.currentDoc=typeof document<"u"?document:null,r.currentWindow=typeof window<"u"?window:null,r.resizeObserver=null,r.previousCropSize=null,r.isInitialized=!1,r.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},r.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!r.containerRef)){var a=!0;r.resizeObserver=new window.ResizeObserver(function(o){if(a){a=!1;return}r.computeSizes()}),r.resizeObserver.observe(r.containerRef)}},r.preventZoomSafari=function(a){return a.preventDefault()},r.cleanEvents=function(){r.currentDoc&&(r.currentDoc.removeEventListener("mousemove",r.onMouseMove),r.currentDoc.removeEventListener("mouseup",r.onDragStopped),r.currentDoc.removeEventListener("touchmove",r.onTouchMove),r.currentDoc.removeEventListener("touchend",r.onDragStopped),r.currentDoc.removeEventListener("gesturechange",r.onGestureChange),r.currentDoc.removeEventListener("gestureend",r.onGestureEnd),r.currentDoc.removeEventListener("scroll",r.onScroll))},r.clearScrollEvent=function(){r.containerRef&&r.containerRef.removeEventListener("wheel",r.onWheel),r.wheelTimer&&clearTimeout(r.wheelTimer)},r.onMediaLoad=function(){var a=r.computeSizes();a&&(r.previousCropSize=a,r.emitCropData(),r.setInitialCrop(a),r.isInitialized=!0),r.props.onMediaLoaded&&r.props.onMediaLoaded(r.mediaSize)},r.setInitialCrop=function(a){if(r.props.initialCroppedAreaPercentages){var o=hR(r.props.initialCroppedAreaPercentages,r.mediaSize,r.props.rotation,a,r.props.minZoom,r.props.maxZoom),u=o.crop,c=o.zoom;r.props.onCropChange(u),r.props.onZoomChange&&r.props.onZoomChange(c)}else if(r.props.initialCroppedAreaPixels){var d=fR(r.props.initialCroppedAreaPixels,r.mediaSize,r.props.rotation,a,r.props.minZoom,r.props.maxZoom),u=d.crop,c=d.zoom;r.props.onCropChange(u),r.props.onZoomChange&&r.props.onZoomChange(c)}},r.computeSizes=function(){var a,o,u,c,d,f,p=r.imageRef.current||r.videoRef.current;if(p&&r.containerRef){r.containerRect=r.containerRef.getBoundingClientRect(),r.saveContainerPosition();var y=r.containerRect.width/r.containerRect.height,v=((a=r.imageRef.current)===null||a===void 0?void 0:a.naturalWidth)||((o=r.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,w=((u=r.imageRef.current)===null||u===void 0?void 0:u.naturalHeight)||((c=r.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,x=p.offsetWidth<v||p.offsetHeight<w,_=v/w,T=void 0;if(x)switch(r.state.mediaObjectFit){default:case"contain":T=y>_?{width:r.containerRect.height*_,height:r.containerRect.height}:{width:r.containerRect.width,height:r.containerRect.width/_};break;case"horizontal-cover":T={width:r.containerRect.width,height:r.containerRect.width/_};break;case"vertical-cover":T={width:r.containerRect.height*_,height:r.containerRect.height};break}else T={width:p.offsetWidth,height:p.offsetHeight};r.mediaSize=it(it({},T),{naturalWidth:v,naturalHeight:w}),r.props.setMediaSize&&r.props.setMediaSize(r.mediaSize);var E=r.props.cropSize?r.props.cropSize:sR(r.mediaSize.width,r.mediaSize.height,r.containerRect.width,r.containerRect.height,r.props.aspect,r.props.rotation);return(((d=r.state.cropSize)===null||d===void 0?void 0:d.height)!==E.height||((f=r.state.cropSize)===null||f===void 0?void 0:f.width)!==E.width)&&r.props.onCropSizeChange&&r.props.onCropSizeChange(E),r.setState({cropSize:E},r.recomputeCropPosition),r.props.setCropSize&&r.props.setCropSize(E),E}},r.saveContainerPosition=function(){if(r.containerRef){var a=r.containerRef.getBoundingClientRect();r.containerPosition={x:a.left,y:a.top}}},r.onMouseDown=function(a){r.currentDoc&&(a.preventDefault(),r.currentDoc.addEventListener("mousemove",r.onMouseMove),r.currentDoc.addEventListener("mouseup",r.onDragStopped),r.saveContainerPosition(),r.onDragStart(t.getMousePoint(a)))},r.onMouseMove=function(a){return r.onDrag(t.getMousePoint(a))},r.onScroll=function(a){r.currentDoc&&(a.preventDefault(),r.saveContainerPosition())},r.onTouchStart=function(a){r.currentDoc&&(r.isTouching=!0,!(r.props.onTouchRequest&&!r.props.onTouchRequest(a))&&(r.currentDoc.addEventListener("touchmove",r.onTouchMove,{passive:!1}),r.currentDoc.addEventListener("touchend",r.onDragStopped),r.saveContainerPosition(),a.touches.length===2?r.onPinchStart(a):a.touches.length===1&&r.onDragStart(t.getTouchPoint(a.touches[0]))))},r.onTouchMove=function(a){a.preventDefault(),a.touches.length===2?r.onPinchMove(a):a.touches.length===1&&r.onDrag(t.getTouchPoint(a.touches[0]))},r.onGestureStart=function(a){r.currentDoc&&(a.preventDefault(),r.currentDoc.addEventListener("gesturechange",r.onGestureChange),r.currentDoc.addEventListener("gestureend",r.onGestureEnd),r.gestureZoomStart=r.props.zoom,r.gestureRotationStart=r.props.rotation)},r.onGestureChange=function(a){if(a.preventDefault(),!r.isTouching){var o=t.getMousePoint(a),u=r.gestureZoomStart-1+a.scale;if(r.setNewZoom(u,o,{shouldUpdatePosition:!0}),r.props.onRotationChange){var c=r.gestureRotationStart+a.rotation;r.props.onRotationChange(c)}}},r.onGestureEnd=function(a){r.cleanEvents()},r.onDragStart=function(a){var o,u,c=a.x,d=a.y;r.dragStartPosition={x:c,y:d},r.dragStartCrop=it({},r.props.crop),(u=(o=r.props).onInteractionStart)===null||u===void 0||u.call(o)},r.onDrag=function(a){var o=a.x,u=a.y;r.currentWindow&&(r.rafDragTimeout&&r.currentWindow.cancelAnimationFrame(r.rafDragTimeout),r.rafDragTimeout=r.currentWindow.requestAnimationFrame(function(){if(r.state.cropSize&&!(o===void 0||u===void 0)){var c=o-r.dragStartPosition.x,d=u-r.dragStartPosition.y,f={x:r.dragStartCrop.x+c,y:r.dragStartCrop.y+d},p=r.props.restrictPosition?xs(f,r.mediaSize,r.state.cropSize,r.props.zoom,r.props.rotation):f;r.props.onCropChange(p)}}))},r.onDragStopped=function(){var a,o;r.isTouching=!1,r.cleanEvents(),r.emitCropData(),(o=(a=r.props).onInteractionEnd)===null||o===void 0||o.call(a)},r.onWheel=function(a){if(r.currentWindow&&!(r.props.onWheelRequest&&!r.props.onWheelRequest(a))){a.preventDefault();var o=t.getMousePoint(a),u=aR(a).pixelY,c=r.props.zoom-u*r.props.zoomSpeed/200;r.setNewZoom(c,o,{shouldUpdatePosition:!0}),r.state.hasWheelJustStarted||r.setState({hasWheelJustStarted:!0},function(){var d,f;return(f=(d=r.props).onInteractionStart)===null||f===void 0?void 0:f.call(d)}),r.wheelTimer&&clearTimeout(r.wheelTimer),r.wheelTimer=r.currentWindow.setTimeout(function(){return r.setState({hasWheelJustStarted:!1},function(){var d,f;return(f=(d=r.props).onInteractionEnd)===null||f===void 0?void 0:f.call(d)})},250)}},r.getPointOnContainer=function(a,o){var u=a.x,c=a.y;if(!r.containerRect)throw new Error("The Cropper is not mounted");return{x:r.containerRect.width/2-(u-o.x),y:r.containerRect.height/2-(c-o.y)}},r.getPointOnMedia=function(a){var o=a.x,u=a.y,c=r.props,d=c.crop,f=c.zoom;return{x:(o+d.x)/f,y:(u+d.y)/f}},r.setNewZoom=function(a,o,u){var c=u===void 0?{}:u,d=c.shouldUpdatePosition,f=d===void 0?!0:d;if(!(!r.state.cropSize||!r.props.onZoomChange)){var p=pu(a,r.props.minZoom,r.props.maxZoom);if(f){var y=r.getPointOnContainer(o,r.containerPosition),v=r.getPointOnMedia(y),w={x:v.x*p-y.x,y:v.y*p-y.y},x=r.props.restrictPosition?xs(w,r.mediaSize,r.state.cropSize,p,r.props.rotation):w;r.props.onCropChange(x)}r.props.onZoomChange(p)}},r.getCropData=function(){if(!r.state.cropSize)return null;var a=r.props.restrictPosition?xs(r.props.crop,r.mediaSize,r.state.cropSize,r.props.zoom,r.props.rotation):r.props.crop;return lR(a,r.mediaSize,r.state.cropSize,r.getAspect(),r.props.zoom,r.props.rotation,r.props.restrictPosition)},r.emitCropData=function(){var a=r.getCropData();if(a){var o=a.croppedAreaPercentages,u=a.croppedAreaPixels;r.props.onCropComplete&&r.props.onCropComplete(o,u),r.props.onCropAreaChange&&r.props.onCropAreaChange(o,u)}},r.emitCropAreaChange=function(){var a=r.getCropData();if(a){var o=a.croppedAreaPercentages,u=a.croppedAreaPixels;r.props.onCropAreaChange&&r.props.onCropAreaChange(o,u)}},r.recomputeCropPosition=function(){var a,o;if(r.state.cropSize){var u=r.props.crop;if(r.isInitialized&&(!((a=r.previousCropSize)===null||a===void 0)&&a.width)&&(!((o=r.previousCropSize)===null||o===void 0)&&o.height)){var c=Math.abs(r.previousCropSize.width-r.state.cropSize.width)>1e-6||Math.abs(r.previousCropSize.height-r.state.cropSize.height)>1e-6;if(c){var d=r.state.cropSize.width/r.previousCropSize.width,f=r.state.cropSize.height/r.previousCropSize.height;u={x:r.props.crop.x*d,y:r.props.crop.y*f}}}var p=r.props.restrictPosition?xs(u,r.mediaSize,r.state.cropSize,r.props.zoom,r.props.rotation):u;r.previousCropSize=r.state.cropSize,r.props.onCropChange(p),r.emitCropData()}},r.onKeyDown=function(a){var o,u,c=r.props,d=c.crop,f=c.onCropChange,p=c.keyboardStep,y=c.zoom,v=c.rotation,w=p;if(r.state.cropSize){a.shiftKey&&(w*=.2);var x=it({},d);switch(a.key){case"ArrowUp":x.y-=w,a.preventDefault();break;case"ArrowDown":x.y+=w,a.preventDefault();break;case"ArrowLeft":x.x-=w,a.preventDefault();break;case"ArrowRight":x.x+=w,a.preventDefault();break;default:return}r.props.restrictPosition&&(x=xs(x,r.mediaSize,r.state.cropSize,y,v)),a.repeat||(u=(o=r.props).onInteractionStart)===null||u===void 0||u.call(o),f(x)}},r.onKeyUp=function(a){var o,u;switch(a.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":a.preventDefault();break;default:return}r.emitCropData(),(u=(o=r.props).onInteractionEnd)===null||u===void 0||u.call(o)},r}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=pR,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var r,a;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(r=this.resizeObserver)===null||r===void 0||r.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((a=this.styleRef.parentNode)===null||a===void 0||a.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(r){var a,o,u,c,d,f,p,y,v;r.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):r.aspect!==this.props.aspect?this.computeSizes():r.objectFit!==this.props.objectFit?this.computeSizes():r.zoom!==this.props.zoom?this.recomputeCropPosition():((a=r.cropSize)===null||a===void 0?void 0:a.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((u=r.cropSize)===null||u===void 0?void 0:u.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((d=r.crop)===null||d===void 0?void 0:d.x)!==((f=this.props.crop)===null||f===void 0?void 0:f.x)||((p=r.crop)===null||p===void 0?void 0:p.y)!==((y=this.props.crop)===null||y===void 0?void 0:y.y))&&this.emitCropAreaChange(),r.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),r.video!==this.props.video&&((v=this.videoRef.current)===null||v===void 0||v.load());var w=this.getObjectFit();w!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:w},this.computeSizes)},t.prototype.getAspect=function(){var r=this.props,a=r.cropSize,o=r.aspect;return a?a.width/a.height:o},t.prototype.getObjectFit=function(){var r,a,o,u;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var d=this.containerRect.width/this.containerRect.height,f=((r=this.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoWidth)||0,p=((o=this.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((u=this.videoRef.current)===null||u===void 0?void 0:u.videoHeight)||0,y=f/p;return y<d?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(r){var a=t.getTouchPoint(r.touches[0]),o=t.getTouchPoint(r.touches[1]);this.lastPinchDistance=xb(a,o),this.lastPinchRotation=_b(a,o),this.onDragStart(Sb(a,o))},t.prototype.onPinchMove=function(r){var a=this;if(!(!this.currentDoc||!this.currentWindow)){var o=t.getTouchPoint(r.touches[0]),u=t.getTouchPoint(r.touches[1]),c=Sb(o,u);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var d=xb(o,u),f=a.props.zoom*(d/a.lastPinchDistance);a.setNewZoom(f,c,{shouldUpdatePosition:!1}),a.lastPinchDistance=d;var p=_b(o,u),y=a.props.rotation+(p-a.lastPinchRotation);a.props.onRotationChange&&a.props.onRotationChange(y),a.lastPinchRotation=p})}},t.prototype.render=function(){var r=this,a,o=this.props,u=o.image,c=o.video,d=o.mediaProps,f=o.cropperProps,p=o.transform,y=o.crop,v=y.x,w=y.y,x=o.rotation,_=o.zoom,T=o.cropShape,E=o.showGrid,C=o.roundCropAreaPixels,R=o.style,A=R.containerStyle,M=R.cropAreaStyle,B=R.mediaStyle,$=o.classes,V=$.containerClassName,I=$.cropAreaClassName,Q=$.mediaClassName,J=(a=this.state.mediaObjectFit)!==null&&a!==void 0?a:this.getObjectFit();return j.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(Z){return r.containerRef=Z},"data-testid":"container",style:A,className:Ol("reactEasyCrop_Container",V)},u?j.createElement("img",it({alt:"",className:Ol("reactEasyCrop_Image",J==="contain"&&"reactEasyCrop_Contain",J==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",J==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",Q)},d,{src:u,ref:this.imageRef,style:it(it({},B),{transform:p||"translate(".concat(v,"px, ").concat(w,"px) rotate(").concat(x,"deg) scale(").concat(_,")")}),onLoad:this.onMediaLoad})):c&&j.createElement("video",it({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Ol("reactEasyCrop_Video",J==="contain"&&"reactEasyCrop_Contain",J==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",J==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",Q)},d,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:it(it({},B),{transform:p||"translate(".concat(v,"px, ").concat(w,"px) rotate(").concat(x,"deg) scale(").concat(_,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(Y){return j.createElement("source",it({key:Y.src},Y))})),this.state.cropSize&&j.createElement("div",it({ref:this.cropperRef,style:it(it({},M),{width:C?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:C?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Ol("reactEasyCrop_CropArea",T==="round"&&"reactEasyCrop_CropAreaRound",E&&"reactEasyCrop_CropAreaGrid",I)},f)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:yR,minZoom:gR,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:vR},t.getMousePoint=function(r){return{x:Number(r.clientX),y:Number(r.clientY)}},t.getTouchPoint=function(r){return{x:Number(r.clientX),y:Number(r.clientY)}},t})(j.Component);const rm=({image:n,onCropComplete:t,onCancel:r,aspect:a=1,cropShape:o="round",showAspectSelector:u=!1,maxDimension:c})=>{const[d,f]=j.useState({x:0,y:0}),[p,y]=j.useState(1),[v,w]=j.useState(a),[x,_]=j.useState(null),T=B=>{f(B)},E=B=>{y(B)},C=j.useCallback((B,$)=>{_($)},[]),R=B=>new Promise(($,V)=>{const I=new Image;I.addEventListener("load",()=>$(I)),I.addEventListener("error",Q=>V(Q)),I.setAttribute("crossOrigin","anonymous"),I.src=B}),A=async(B,$)=>{const V=await R(B),I=document.createElement("canvas"),Q=I.getContext("2d");if(!Q)return null;let J=$.width,Y=$.height;if(c){const Z=$.width/$.height;$.width>$.height?$.width>c&&(J=c,Y=c/Z):$.height>c&&(Y=c,J=c*Z)}return I.width=J,I.height=Y,Q.imageSmoothingEnabled=!0,Q.imageSmoothingQuality="high",Q.drawImage(V,$.x,$.y,$.width,$.height,0,0,J,Y),new Promise(Z=>{I.toBlob(X=>{Z(X)},"image/jpeg",.9)})},M=async()=>{try{const B=await A(n,x);B&&t(B)}catch(B){console.error(B)}};return g.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black flex flex-col pt-16 px-4",children:[g.jsx("div",{className:"relative flex-1 bg-zinc-950 rounded-[2rem] overflow-hidden border border-zinc-800",children:g.jsx(bR,{image:n,crop:d,zoom:p,aspect:v,cropShape:o,showGrid:!0,onCropChange:T,onCropComplete:C,onZoomChange:E})}),g.jsxs("div",{className:"p-10 flex flex-col items-center gap-8",children:[u&&g.jsxs("div",{className:"flex gap-4 p-1 bg-zinc-900 rounded-full border border-zinc-800",children:[g.jsx("button",{onClick:()=>w(1),className:`px-6 py-2 rounded-full text-xs font-bold tracking-widest transition-all ${v===1?"bg-zinc-800 text-white shadow-lg":"text-zinc-500 hover:text-zinc-300"}`,children:"1:1"}),g.jsx("button",{onClick:()=>w(4/5),className:`px-6 py-2 rounded-full text-xs font-bold tracking-widest transition-all ${v===4/5?"bg-zinc-800 text-white shadow-lg":"text-zinc-500 hover:text-zinc-300"}`,children:"4:5"})]}),g.jsx("div",{className:"w-full max-w-xs",children:g.jsx("input",{type:"range",value:p,min:1,max:3,step:.1,"aria-labelledby":"Zoom",onChange:B=>y(Number(B.target.value)),className:"w-full accent-white"})}),g.jsxs("div",{className:"flex gap-4 w-full max-w-md",children:[g.jsx("button",{onClick:r,className:"flex-1 py-4 rounded-full bg-zinc-900 border border-zinc-800 text-white font-bold text-sm tracking-widest hover:bg-zinc-800 transition-colors uppercase",children:"Cancel"}),g.jsx("button",{onClick:M,className:"flex-1 py-4 rounded-full bg-white text-black font-bold text-sm tracking-widest hover:bg-zinc-200 transition-colors uppercase",children:"Done"})]})]})]})},kl=43200,Eb=1440,jb=Symbol.for("constructDateFrom");function am(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&jb in n?n[jb](t):n instanceof Date?new n.constructor(t):new Date(t)}function Ci(n,t){return am(n,n)}let wR={};function xR(){return wR}function Tb(n){const t=Ci(n),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+n-+r}function sm(n,...t){const r=am.bind(null,n||t.find(a=>typeof a=="object"));return t.map(r)}function $l(n,t){const r=+Ci(n)-+Ci(t);return r<0?-1:r>0?1:r}function _R(n){return am(n,Date.now())}function SR(n,t,r){const[a,o]=sm(r?.in,n,t),u=a.getFullYear()-o.getFullYear(),c=a.getMonth()-o.getMonth();return u*12+c}function ER(n){return t=>{const a=(n?Math[n]:Math.trunc)(t);return a===0?0:a}}function jR(n,t){return+Ci(n)-+Ci(t)}function TR(n,t){const r=Ci(n);return r.setHours(23,59,59,999),r}function AR(n,t){const r=Ci(n),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function CR(n,t){const r=Ci(n);return+TR(r)==+AR(r)}function RR(n,t,r){const[a,o,u]=sm(r?.in,n,n,t),c=$l(o,u),d=Math.abs(SR(o,u));if(d<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-c*d);let f=$l(o,u)===-c;CR(a)&&d===1&&$l(a,u)===1&&(f=!1);const p=c*(d-+f);return p===0?0:p}function NR(n,t,r){const a=jR(n,t)/1e3;return ER(r?.roundingMethod)(a)}const OR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kR=(n,t,r)=>{let a;const o=OR[n];return typeof o=="string"?a=o:t===1?a=o.one:a=o.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function yd(n){return(t={})=>{const r=t.width?String(t.width):n.defaultWidth;return n.formats[r]||n.formats[n.defaultWidth]}}const DR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},MR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LR={date:yd({formats:DR,defaultWidth:"full"}),time:yd({formats:MR,defaultWidth:"full"}),dateTime:yd({formats:zR,defaultWidth:"full"})},UR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PR=(n,t,r,a)=>UR[n];function _s(n){return(t,r)=>{const a=r?.context?String(r.context):"standalone";let o;if(a==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,d=r?.width?String(r.width):c;o=n.formattingValues[d]||n.formattingValues[c]}else{const c=n.defaultWidth,d=r?.width?String(r.width):n.defaultWidth;o=n.values[d]||n.values[c]}const u=n.argumentCallback?n.argumentCallback(t):t;return o[u]}}const BR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},VR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},HR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$R={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},IR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},GR=(n,t)=>{const r=Number(n),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},FR={ordinalNumber:GR,era:_s({values:BR,defaultWidth:"wide"}),quarter:_s({values:VR,defaultWidth:"wide",argumentCallback:n=>n-1}),month:_s({values:HR,defaultWidth:"wide"}),day:_s({values:qR,defaultWidth:"wide"}),dayPeriod:_s({values:$R,defaultWidth:"wide",formattingValues:IR,defaultFormattingWidth:"wide"})};function Ss(n){return(t,r={})=>{const a=r.width,o=a&&n.matchPatterns[a]||n.matchPatterns[n.defaultMatchWidth],u=t.match(o);if(!u)return null;const c=u[0],d=a&&n.parsePatterns[a]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(d)?KR(d,v=>v.test(c)):YR(d,v=>v.test(c));let p;p=n.valueCallback?n.valueCallback(f):f,p=r.valueCallback?r.valueCallback(p):p;const y=t.slice(c.length);return{value:p,rest:y}}}function YR(n,t){for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&t(n[r]))return r}function KR(n,t){for(let r=0;r<n.length;r++)if(t(n[r]))return r}function WR(n){return(t,r={})=>{const a=t.match(n.matchPattern);if(!a)return null;const o=a[0],u=t.match(n.parsePattern);if(!u)return null;let c=n.valueCallback?n.valueCallback(u[0]):u[0];c=r.valueCallback?r.valueCallback(c):c;const d=t.slice(o.length);return{value:c,rest:d}}}const XR=/^(\d+)(th|st|nd|rd)?/i,ZR=/\d+/i,JR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QR={any:[/^b/i,/^(a|c)/i]},eN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tN={any:[/1/i,/2/i,/3/i,/4/i]},nN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lN={ordinalNumber:WR({matchPattern:XR,parsePattern:ZR,valueCallback:n=>parseInt(n,10)}),era:Ss({matchPatterns:JR,defaultMatchWidth:"wide",parsePatterns:QR,defaultParseWidth:"any"}),quarter:Ss({matchPatterns:eN,defaultMatchWidth:"wide",parsePatterns:tN,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ss({matchPatterns:nN,defaultMatchWidth:"wide",parsePatterns:iN,defaultParseWidth:"any"}),day:Ss({matchPatterns:rN,defaultMatchWidth:"wide",parsePatterns:aN,defaultParseWidth:"any"}),dayPeriod:Ss({matchPatterns:sN,defaultMatchWidth:"any",parsePatterns:oN,defaultParseWidth:"any"})},uN={code:"en-US",formatDistance:kR,formatLong:LR,formatRelative:PR,localize:FR,match:lN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cN(n,t,r){const a=xR(),o=r?.locale??a.locale??uN,u=2520,c=$l(n,t);if(isNaN(c))throw new RangeError("Invalid time value");const d=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:c}),[f,p]=sm(r?.in,...c>0?[t,n]:[n,t]),y=NR(p,f),v=(Tb(p)-Tb(f))/1e3,w=Math.round((y-v)/60);let x;if(w<2)return r?.includeSeconds?y<5?o.formatDistance("lessThanXSeconds",5,d):y<10?o.formatDistance("lessThanXSeconds",10,d):y<20?o.formatDistance("lessThanXSeconds",20,d):y<40?o.formatDistance("halfAMinute",0,d):y<60?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",1,d):w===0?o.formatDistance("lessThanXMinutes",1,d):o.formatDistance("xMinutes",w,d);if(w<45)return o.formatDistance("xMinutes",w,d);if(w<90)return o.formatDistance("aboutXHours",1,d);if(w<Eb){const _=Math.round(w/60);return o.formatDistance("aboutXHours",_,d)}else{if(w<u)return o.formatDistance("xDays",1,d);if(w<kl){const _=Math.round(w/Eb);return o.formatDistance("xDays",_,d)}else if(w<kl*2)return x=Math.round(w/kl),o.formatDistance("aboutXMonths",x,d)}if(x=RR(p,f),x<12){const _=Math.round(w/kl);return o.formatDistance("xMonths",_,d)}else{const _=x%12,T=Math.trunc(x/12);return _<3?o.formatDistance("aboutXYears",T,d):_<9?o.formatDistance("overXYears",T,d):o.formatDistance("almostXYears",T+1,d)}}function Ab(n,t){return cN(n,_R(n),t)}const hN=({post:n,currentUser:t,onClose:r,onDelete:a})=>{const[o,u]=j.useState(n.is_liked_by_me||!1),[c,d]=j.useState(n.likes_count||0),[f,p]=j.useState(!1),[y,v]=j.useState(!1),[w,x]=j.useState(null),[_,T]=j.useState("details"),[E,C]=j.useState([]),[R,A]=j.useState(""),[M,B]=j.useState(!1);j.useEffect(()=>{if(!n)return;$();const X=new Image;X.src=n.image_url,X.onload=()=>{x(X.width/X.height)}},[n]);const $=async()=>{if(!n)return;const{data:X,error:ee}=await he.from("comments").select(`
                *,
                profiles:username (username, avatar_url)
            `).eq("post_id",n.id).order("created_at",{ascending:!0});if(ee){console.error("Error fetching comments:",ee);return}C(X||[])},V=async()=>{if(!t||!n)return;const X=!o;u(X),d(ee=>X?ee+1:ee-1);try{X?await he.from("likes").insert({username:t.username,post_id:n.id,post_author_username:n.username,post_url:n.image_url}):await he.from("likes").delete().eq("username",t.username).eq("post_id",n.id)}catch(ee){console.error("Error toggling like:",ee),u(!X),d(ae=>X?ae-1:ae+1)}},I=async X=>{if(X.preventDefault(),!(!R.trim()||!t||M)){B(!0);try{const{data:ee,error:ae}=await he.from("comments").insert({post_id:n.id,username:t.username,post_author_username:n.username,content:R.trim()}).select(`
                    *,
                    profiles:username (username, avatar_url)
                `).single();if(ae)throw ae;C(P=>[...P,ee]),A("")}catch(ee){console.error("Error posting comment:",ee)}finally{B(!1)}}},Q=async X=>{try{const{error:ee}=await he.from("comments").delete().eq("id",X);if(ee)throw ee;C(ae=>ae.filter(P=>P.id!==X))}catch(ee){console.error("Error deleting comment:",ee),alert("Failed to delete comment")}},J=()=>{v(!0)},Y=async()=>{if(n){p(!0);try{const X=n.image_url.split("/posts/");if(X.length>1){const P=X[1].split("?")[0],{error:W}=await he.storage.from("posts").remove([P]);W&&console.error("Storage deletion error:",W)}const{error:ee}=await he.from("posts").delete().eq("id",n.id);if(ee)throw ee;a(n.id),r()}catch(X){console.error("Error deleting post:",X),alert("Failed to delete post"),p(!1)}}},Z=w&&w<.9;return g.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4",children:[g.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"absolute inset-0 bg-black/95 backdrop-blur-md"}),g.jsxs(pe.div,{layoutId:`post-${n.id}`,className:`relative h-full max-h-[90vh] bg-zinc-900 rounded-[2rem] overflow-hidden flex flex-col md:flex-row shadow-2xl border border-zinc-800 transition-all duration-300 ${Z?"max-w-[1000px]":"max-w-6xl"}`,children:[g.jsx("button",{onClick:r,className:"absolute top-4 right-4 z-30 p-2 bg-black/50 backdrop-blur text-white rounded-full hover:bg-black/80 transition-colors md:hidden",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-6 h-6",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),g.jsxs("div",{className:`relative bg-zinc-950 flex items-center justify-center overflow-hidden h-[40vh] md:h-full transition-all duration-300 ${Z?"w-full md:aspect-[4/5]":"w-full md:aspect-square md:max-w-[70vh]"}`,children:[g.jsxs("div",{id:`modal-loader-${n.id}`,className:"absolute inset-0 flex items-center justify-center bg-zinc-900 z-20",children:[g.jsx("div",{className:"absolute inset-0 animate-pulse bg-zinc-800/50"}),g.jsx("div",{className:"w-10 h-10 border-2 border-white/20 border-t-white rounded-full animate-spin relative z-30"})]}),g.jsx("img",{src:n.image_url,alt:n.caption,className:"w-full h-full object-cover relative z-10 opacity-0 transition-opacity duration-700",onLoad:X=>{const ee=X.target;ee.classList.remove("opacity-0"),ee.classList.add("opacity-100"),document.getElementById(`modal-loader-${n.id}`)?.classList.add("hidden")}})]}),g.jsxs("div",{className:"w-full md:w-[400px] flex flex-col h-full bg-zinc-950 md:border-l border-zinc-900 shrink-0",children:[g.jsxs("div",{className:"p-6 border-b border-zinc-900 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 overflow-hidden",children:t?.avatar_url?g.jsx("img",{src:t.avatar_url,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-zinc-500",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:g.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-white font-bold text-sm",children:t?.username||"User"}),n.created_at&&g.jsx("p",{className:"text-zinc-500 text-xs",children:Ab(new Date(n.created_at),{addSuffix:!0})})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[n.username===t?.username&&g.jsx("button",{onClick:J,className:"p-2 text-red-500 hover:bg-red-500/10 rounded-full transition-colors",title:"Delete Post",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),g.jsx("button",{onClick:r,className:"hidden md:block p-2 text-zinc-400 hover:text-white hover:bg-zinc-800 rounded-full transition-colors",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-6 h-6",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto",children:_==="details"?g.jsx("div",{className:"p-6",children:n.caption?g.jsx("p",{className:"text-white text-sm leading-relaxed whitespace-pre-wrap",children:n.caption}):g.jsx("p",{className:"text-zinc-600 text-sm italic",children:"No caption"})}):g.jsxs("div",{className:"flex flex-col h-full",children:[g.jsx("div",{className:"flex-1 p-6 space-y-6",children:E.length>0?E.map(X=>g.jsxs("div",{className:"flex gap-3",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-800 overflow-hidden shrink-0",children:X.profiles?.avatar_url?g.jsx("img",{src:X.profiles.avatar_url,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-zinc-500 text-xs",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:g.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center justify-between mb-1",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-white font-bold text-xs",children:X.profiles?.username}),g.jsx("span",{className:"text-zinc-500 text-[10px]",children:Ab(new Date(X.created_at),{addSuffix:!0})})]}),(X.username===t?.username||n.username===t?.username)&&g.jsx("button",{onClick:()=>Q(X.id),className:"text-zinc-600 hover:text-red-500 transition-colors p-1",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]}),g.jsx("p",{className:"text-zinc-300 text-sm leading-snug",children:X.content})]})]},X.id)):g.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center px-4",children:[g.jsx("div",{className:"w-16 h-16 rounded-full bg-zinc-900 flex items-center justify-center mb-4",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"w-8 h-8 text-zinc-700",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"})})}),g.jsx("h4",{className:"text-white font-bold text-sm mb-1",children:"No comments yet"}),g.jsx("p",{className:"text-zinc-500 text-xs",children:"Start the conversation by adding a comment below."})]})}),g.jsx("form",{onSubmit:I,className:"p-4 border-t border-zinc-900 bg-zinc-950 sticky bottom-0",children:g.jsxs("div",{className:"flex gap-3",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-800 overflow-hidden shrink-0",children:t?.avatar_url?g.jsx("img",{src:t.avatar_url,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-zinc-500 text-xs",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:g.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})})}),g.jsxs("div",{className:"flex-1 relative",children:[g.jsx("input",{type:"text",value:R,onChange:X=>A(X.target.value),placeholder:"Add a comment...",className:"w-full bg-zinc-900 border border-zinc-800 text-white text-sm rounded-full py-2 px-4 pr-12 focus:outline-none focus:border-blue-500/50 transition-colors"}),g.jsx("button",{type:"submit",disabled:!R.trim()||M,className:"absolute right-2 top-1/2 -translate-y-1/2 text-blue-500 font-bold text-xs px-2 disabled:opacity-50",children:M?"...":"Post"})]})]})})]})}),g.jsxs("div",{className:"p-6 border-t border-zinc-900 bg-zinc-950 mt-auto",children:[g.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[g.jsx("button",{onClick:V,className:"group flex items-center gap-2 outline-none",children:g.jsx("svg",{viewBox:"0 0 24 24",className:`w-7 h-7 transition-all ${o?"fill-blue-500 text-blue-500 scale-110":"fill-transparent text-white group-hover:text-zinc-300"}`,stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.5c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 012.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 00.322-1.672V3a.75.75 0 01.75-.75A2.25 2.25 0 0116.5 4.5c0 1.152-.26 2.247-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 01-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 00-1.423-.23H5.904M14.25 9h2.25M5.904 18.75c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 01-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 10.203 4.167 9.75 5 9.75h1.053c.472 0 .745.556.5.96a8.958 8.958 0 00-1.302 4.665c0 1.194.232 2.333.654 3.375z"})})}),g.jsx("button",{onClick:()=>T("details"),className:"group",children:g.jsx("svg",{viewBox:"0 0 24 24",className:`w-7 h-7 transition-all ${_==="details"?"fill-white text-white":"fill-transparent text-white group-hover:text-zinc-300"}`,stroke:"currentColor",strokeWidth:"2",children:g.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),g.jsx("button",{onClick:()=>T("comments"),className:"group",children:g.jsx("svg",{viewBox:"0 0 24 24",className:`w-7 h-7 transition-all ${_==="comments"?"fill-white text-white":"fill-transparent text-white group-hover:text-zinc-300"}`,stroke:"currentColor",strokeWidth:"2",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"})})}),g.jsx("button",{className:"group ml-auto",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-7 h-7 text-white group-hover:text-zinc-300 transition-colors",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z"})})})]}),g.jsxs("p",{className:"text-white font-bold text-sm",children:[c," ",c===1?"like":"likes"]}),g.jsx("p",{className:"text-zinc-500 text-[10px] uppercase font-bold tracking-widest mt-2 opacity-60",children:new Date(n.created_at).toLocaleDateString(void 0,{month:"long",day:"numeric",year:"numeric"})})]})]}),g.jsx(ji,{children:y&&g.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-6",children:g.jsxs(pe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-zinc-900 border border-zinc-800 p-6 rounded-2xl max-w-sm w-full text-center shadow-2xl relative overflow-hidden",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/10 flex items-center justify-center mx-auto mb-4",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-6 h-6 text-red-500",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),g.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"Delete Post?"}),g.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:"This action cannot be undone. The post will be permanently removed from your profile."}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>v(!1),className:"flex-1 px-4 py-2 rounded-xl bg-zinc-800 text-white font-medium hover:bg-zinc-700 transition-colors",children:"Cancel"}),g.jsx("button",{onClick:Y,disabled:f,className:"flex-1 px-4 py-2 rounded-xl bg-red-500/10 text-red-500 border border-red-500/20 font-medium hover:bg-red-500/20 transition-colors flex items-center justify-center gap-2",children:f?g.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):"Delete"})]})]})})})]})]})},dN={verified:{icon:g.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})}),label:"Verified",color:"text-blue-400",bg:"bg-blue-400/10",border:"border-blue-500/20"},early_adopter:{icon:g.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:g.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),label:"Early Member",color:"text-purple-400",bg:"bg-purple-400/10",border:"border-purple-500/20"},contributor:{icon:g.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:g.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6m12 5h1.5a2.5 2.5 0 0 0 0-5H18M6 4h12M6 4v10a6 6 0 0 0 12 0V4m-6 14v4m-4 0h8"})}),label:"Top Contributor",color:"text-orange-400",bg:"bg-orange-400/10",border:"border-orange-500/20"},premium:{icon:g.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:g.jsx("path",{d:"M2 20h20M5 16l-2-6 5 2 4-8 4 8 5-2-2 6H5z"})}),label:"Pro Member",color:"text-amber-400",bg:"bg-amber-400/10",border:"border-amber-500/20"},developer:{icon:g.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:g.jsx("path",{d:"m18 16 4-4-4-4M6 8l-4 4 4 4m8.5-12-5 16"})}),label:"Developer",color:"text-emerald-400",bg:"bg-emerald-400/10",border:"border-emerald-500/20"}},fN=()=>{const n=on(),t=yn(),[r,a]=j.useState(null),[o,u]=j.useState([]),[c,d]=j.useState(!0),[f,p]=j.useState(!0),[y,v]=j.useState(!1),[w,x]=j.useState(null),[_,T]=j.useState(null),[E,C]=j.useState(!1),R=j.useRef(null),A={posts:o.length,allies:0,alling:0,allied:0},M=async()=>{try{const{data:Y}=await he.auth.getSession(),Z=Y.session;if(Z?.user){const{data:X}=await he.from("profiles").select("*").eq("id",Z.user.id).single();if(X){const ee={id:Z.user.id,username:X.username||"user",full_name:X.full_name||X.fullname||X.username||"Allify User",bio:X.bio||"Hi! I'm using Allify to expand my horizons, share my journey, and connect with a community that inspires... ",avatar_url:X.avatar_url||null,location:X.location||null,website:X.website||null,badges:X.badges||[]};a(ee),B(ee.username)}}}catch(Y){console.error("Unexpected error in fetchProfile:",Y)}finally{d(!1)}},B=async Y=>{const Z=Y||r?.username;if(Z){p(!0);try{const{data:X,error:ee}=await he.from("posts").select("*").eq("username",Z).order("created_at",{ascending:!1});if(ee)throw ee;let ae=X||[];const{data:{session:P}}=await he.auth.getSession();if(P?.user&&ae.length>0){const{data:W}=await he.from("profiles").select("username").eq("id",P.user.id).single();if(W){const{data:ie}=await he.from("likes").select("post_id").eq("username",W.username).in("post_id",ae.map(ge=>ge.id)),ye=new Set(ie?.map(ge=>ge.post_id)||[]);ae=ae.map(ge=>({...ge,is_liked_by_me:ye.has(ge.id)}))}}u(ae)}catch(X){console.error("Error fetching posts:",X)}finally{p(!1)}}};j.useEffect(()=>{M(),B();const{data:{subscription:Y}}=he.auth.onAuthStateChange(Z=>{Z==="SIGNED_IN"||Z==="TOKEN_REFRESHED"?M():Z==="SIGNED_OUT"&&(a(null),u([]),d(!1))});return()=>Y.unsubscribe()},[]),j.useEffect(()=>{t.state?.refresh&&(B(),window.history.replaceState({},document.title))},[t.state]);const $=()=>{r?.avatar_url&&v(!0)},V=()=>{r?.avatar_url||R.current?.click()},I=Y=>{const Z=Y.target.files?.[0];if(!Z)return;const X=new FileReader;X.onload=()=>T(X.result),X.readAsDataURL(Z),Y.target.value=""},Q=async Y=>{T(null),C(!0);try{const{data:{session:Z}}=await he.auth.getSession();if(!Z?.user)throw new Error("No session found");const X=`${Z.user.id}/${Date.now()}.jpg`,{error:ee}=await he.storage.from("avatars").upload(X,Y,{contentType:"image/jpeg",upsert:!0});if(ee)throw ee;const{data:{publicUrl:ae}}=he.storage.from("avatars").getPublicUrl(X);await he.from("profiles").update({avatar_url:ae}).eq("id",Z.user.id),a(P=>P?{...P,avatar_url:ae}:null)}catch(Z){console.error("Error uploading avatar:",Z.message),alert("Failed to upload avatar: "+Z.message)}finally{C(!1)}},J=Y=>{u(Z=>Z.filter(X=>X.id!==Y))};return c?g.jsx("div",{className:"flex-1 flex items-center justify-center h-full",children:g.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-white border-t-transparent rounded-full"})}):r?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"min-h-full flex flex-col pt-16 px-10 max-w-5xl mx-auto pb-20",children:[g.jsxs("div",{className:"flex flex-col items-center text-center mb-16",children:[g.jsxs("div",{className:"relative mb-6 group/avatar",children:[g.jsxs("div",{onClick:$,className:`w-40 h-40 rounded-full bg-zinc-900 flex items-center justify-center border-[1px] border-zinc-700 relative z-10 overflow-hidden transition-all ${r.avatar_url?"cursor-pointer hover:opacity-90":""} ${E?"opacity-50":""}`,children:[r.avatar_url?g.jsxs(g.Fragment,{children:[g.jsxs("div",{id:"avatar-loader",className:"absolute inset-0 flex items-center justify-center bg-zinc-900 z-20",children:[g.jsx("div",{className:"absolute inset-0 animate-pulse bg-zinc-800/50"}),g.jsx("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin relative z-30"})]}),g.jsx("img",{src:r.avatar_url,alt:r.username,className:"w-full h-full object-cover relative z-10 opacity-0 transition-opacity duration-700",onLoad:Y=>{const Z=Y.target;Z.classList.remove("opacity-0"),Z.classList.add("opacity-100"),document.getElementById("avatar-loader")?.classList.add("hidden")}})]}):g.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-24 h-24 text-zinc-600",children:g.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),E&&g.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center z-40",children:g.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-white border-t-transparent rounded-full"})})]}),!r.avatar_url&&g.jsx("div",{onClick:V,className:"absolute bottom-2 right-2 w-10 h-10 bg-zinc-800 rounded-full border-4 border-black flex items-center justify-center z-20 hover:scale-110 hover:bg-zinc-700 transition-all cursor-pointer",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"w-4 h-4 text-white",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})}),g.jsx("input",{type:"file",ref:R,onChange:I,accept:"image/*",className:"hidden"})]}),g.jsxs("div",{className:"mb-8",children:[g.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[g.jsx("h2",{className:"text-white text-3xl font-bold tracking-tight",children:r.full_name||"Allify User"}),g.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6 text-blue-500",children:g.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})})]}),g.jsxs("p",{className:"text-zinc-500 font-medium mb-4 text-sm",children:["@",r.username]}),g.jsx("p",{className:"text-zinc-300 max-w-sm leading-relaxed text-sm mx-auto mb-6",children:r.bio||"Hi! I'm using Allify to expand my horizons, share my journey, and connect with a community that inspires... "}),g.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-6 text-zinc-500 font-medium text-[11px] tracking-wider uppercase",children:[r.location&&g.jsxs("div",{className:"flex items-center gap-2 group/info cursor-default hover:text-zinc-300 transition-colors",children:[g.jsx("div",{className:"p-2 rounded-xl bg-zinc-900/50 border border-zinc-800/50 group-hover/info:border-zinc-700/50 transition-all",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-zinc-600 group-hover/info:text-zinc-400",children:[g.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),g.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),g.jsx("span",{className:"font-black",children:r.location})]}),r.website&&g.jsxs("a",{href:r.website.startsWith("http")?r.website:`https://${r.website}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 group/info hover:text-white transition-colors",children:[g.jsx("div",{className:"p-2 rounded-xl bg-zinc-900/50 border border-zinc-800/50 group-hover/info:border-indigo-500/30 group-hover/info:bg-indigo-500/5 transition-all",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-zinc-600 group-hover/info:text-indigo-400",children:[g.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),g.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]})}),g.jsx("span",{className:"font-black underline underline-offset-4 decoration-zinc-800 group-hover/info:decoration-indigo-500/50 decoration-2 transition-all",children:r.website.replace(/^https?:\/\//,"").replace(/\/$/,"")})]})]}),r.badges&&r.badges.length>0&&g.jsx("div",{className:"flex flex-wrap justify-center gap-2.5 mt-6",children:g.jsx(ji,{mode:"popLayout",children:r.badges.map(Y=>{const Z=dN[Y];return Z?g.jsxs(pe.div,{layout:!0,initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:10},className:`flex items-center gap-2 px-3 py-1.5 rounded-full border ${Z.bg} ${Z.border} backdrop-blur-md group/badge cursor-default hover:bg-white/5 transition-all outline-none`,children:[g.jsx("span",{className:`${Z.color}`,children:Z.icon}),g.jsx("span",{className:`text-[9px] font-black tracking-[0.15em] uppercase ${Z.color} opacity-90 group-hover/badge:opacity-100 transition-opacity`,children:Z.label})]},Y):null})})})]}),g.jsx("div",{className:"flex justify-center gap-4 w-full max-w-2xl px-4",children:[{label:"POSTS",value:A.posts},{label:"ALLIES",value:A.allies},{label:"ALLING",value:A.alling},{label:"ALLIED",value:A.allied}].map((Y,Z)=>g.jsxs("div",{className:"flex-1 bg-zinc-900/40 border border-zinc-800/50 rounded-2xl py-5 px-4 cursor-pointer",children:[g.jsx("p",{className:"text-white text-xl font-bold mb-1 tracking-tight",children:Y.value}),g.jsx("p",{className:"text-zinc-600 text-[10px] font-black tracking-[0.2em]",children:Y.label})]},Z))}),g.jsxs("div",{className:"flex gap-3 mt-10",children:[g.jsx("button",{onClick:()=>n("/profile/edit"),className:"px-8 py-2.5 bg-white text-black rounded-full text-sm font-bold hover:bg-zinc-200 transition-colors",children:"Edit Profile"}),g.jsx("button",{className:"px-8 py-2.5 bg-zinc-900 border border-zinc-700 text-white rounded-full text-sm font-bold hover:bg-zinc-800 transition-colors",children:"Shared Allies"})]})]}),g.jsx("div",{className:"flex justify-center mb-8 bg-zinc-900/30 p-1 rounded-full w-fit mx-auto border border-zinc-800/50",children:["Posts","Videos","Saved","Likes"].map(Y=>g.jsx("button",{className:`px-8 py-2 rounded-full text-xs font-bold tracking-widest transition-all ${Y==="Posts"?"bg-zinc-800 text-white shadow-lg":"text-zinc-500 hover:text-zinc-300"}`,children:Y.toUpperCase()},Y))}),f?g.jsx("div",{className:"flex justify-center py-20",children:g.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-zinc-800 border-t-white rounded-full"})}):o.length>0?g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(Y=>g.jsxs("div",{onClick:()=>x(Y),className:"relative aspect-square bg-zinc-900 rounded-3xl overflow-hidden border border-zinc-900 group/post hover:border-zinc-700 transition-colors cursor-pointer",children:[g.jsxs("div",{id:`loader-${Y.id}`,className:"absolute inset-0 flex items-center justify-center bg-zinc-900 z-20",children:[g.jsx("div",{className:"absolute inset-0 animate-pulse bg-zinc-800/50"}),g.jsx("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin relative z-30"})]}),g.jsx("img",{src:Y.image_url,alt:Y.caption,className:"w-full h-full object-cover relative z-10 opacity-0 transition-opacity duration-700",onLoad:Z=>{const X=Z.target;X.classList.remove("opacity-0"),X.classList.add("opacity-100"),document.getElementById(`loader-${Y.id}`)?.classList.add("hidden")}}),g.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover/post:opacity-100 transition-opacity flex items-center justify-center pointer-events-none z-30",children:g.jsx("div",{className:"flex gap-4 text-white font-bold",children:g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:g.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),g.jsx("span",{children:"0"})]})})})]},Y.id))}):g.jsxs("div",{onClick:()=>n("/create"),className:"flex flex-col items-center justify-center py-20 border-2 border-dashed border-zinc-800/50 rounded-[2.5rem] bg-zinc-900/20 group/empty hover:bg-zinc-900/30 transition-all cursor-pointer",children:[g.jsx("div",{className:"w-20 h-20 rounded-full border-2 border-zinc-700 flex items-center justify-center mb-6 group-hover/empty:scale-110 group-hover/empty:border-white group-hover/empty:bg-white/5 transition-all duration-300",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-10 h-10 text-zinc-500 group-hover/empty:text-white transition-colors",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),g.jsx("p",{className:"text-zinc-500 font-bold tracking-widest text-xs uppercase group-hover/empty:text-zinc-300 transition-colors",children:"Add your first post"})]})]}),g.jsx(ji,{children:w&&r&&g.jsx(hN,{post:w,currentUser:r,onClose:()=>x(null),onDelete:J})}),g.jsx(ji,{children:y&&r?.avatar_url&&g.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4",children:[g.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>v(!1),className:"absolute inset-0 bg-black/95 backdrop-blur-md"}),g.jsxs(pe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative aspect-square w-full max-w-[600px] overflow-hidden rounded-[2.5rem] border border-zinc-800 shadow-2xl bg-zinc-950",children:[g.jsxs("div",{id:"avatar-viewer-loader",className:"absolute inset-0 flex items-center justify-center bg-zinc-900 z-20",children:[g.jsx("div",{className:"absolute inset-0 animate-pulse bg-zinc-800/50"}),g.jsx("div",{className:"w-12 h-12 border-2 border-white/20 border-t-white rounded-full animate-spin relative z-30"})]}),g.jsx("img",{src:r.avatar_url,alt:r.username,className:"w-full h-full object-cover relative z-10 opacity-0 transition-opacity duration-700",onLoad:Y=>{const Z=Y.target;Z.classList.remove("opacity-0"),Z.classList.add("opacity-100"),document.getElementById("avatar-viewer-loader")?.classList.add("hidden")}}),g.jsx("button",{onClick:()=>v(!1),className:"absolute top-6 right-6 w-12 h-12 rounded-full bg-black/50 backdrop-blur-md text-white border border-white/10 flex items-center justify-center hover:bg-black/70 transition-colors z-30",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"w-6 h-6",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]})}),g.jsx(ji,{children:_&&g.jsx(rm,{image:_,onCropComplete:Q,onCancel:()=>T(null),maxDimension:1080})})]}):g.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[g.jsx("p",{className:"text-zinc-500 mb-4",children:"Please log in to view your profile."}),g.jsx("button",{onClick:()=>window.location.href="/Allify/auth/login",className:"px-6 py-2 bg-white text-black rounded-full font-bold",children:"Log In"})]})},mN={verified:{icon:g.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})}),label:"Verified",color:"text-blue-400",bg:"bg-blue-400/10",border:"border-blue-500/20"},early_adopter:{icon:g.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:g.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),label:"Early Member",color:"text-purple-400",bg:"bg-purple-400/10",border:"border-purple-500/20"},contributor:{icon:g.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:g.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6m12 5h1.5a2.5 2.5 0 0 0 0-5H18M6 4h12M6 4v10a6 6 0 0 0 12 0V4m-6 14v4m-4 0h8"})}),label:"Top Contributor",color:"text-orange-400",bg:"bg-orange-400/10",border:"border-orange-500/20"},premium:{icon:g.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:g.jsx("path",{d:"M2 20h20M5 16l-2-6 5 2 4-8 4 8 5-2-2 6H5z"})}),label:"Pro Member",color:"text-amber-400",bg:"bg-amber-400/10",border:"border-amber-500/20"},developer:{icon:g.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:g.jsx("path",{d:"m18 16 4-4-4-4M6 8l-4 4 4 4m8.5-12-5 16"})}),label:"Developer",color:"text-emerald-400",bg:"bg-emerald-400/10",border:"border-emerald-500/20"}},pN=()=>{const n=on(),[t,r]=j.useState(null),[a,o]=j.useState(!0),[u,c]=j.useState(!1),[d,f]=j.useState(null),[p,y]=j.useState(!1),[v,w]=j.useState({username:"",full_name:"",bio:"",location:"",website:"",badges:[]}),[x,_]=j.useState({}),[T,E]=j.useState(!1),C=j.useRef(null);j.useEffect(()=>{(async()=>{o(!0);const{data:{session:J}}=await he.auth.getSession();if(J?.user){const{data:Y}=await he.from("profiles").select("*").eq("id",J.user.id).single();if(Y){const Z={username:Y.username||"user",full_name:Y.full_name||Y.fullname||Y.username||"Allify User",bio:Y.bio||"Hi! I'm using Allify to expand my horizons, share my journey, and connect with a community that inspires... ",avatar_url:Y.avatar_url||null,location:Y.location||null,website:Y.website||null,badges:Y.badges||[]};r(Z),w({username:Z.username,full_name:Z.full_name,bio:Z.bio,location:Z.location||"",website:Z.website||"",badges:Z.badges})}}o(!1)})()},[]);const R=Q=>{try{const J=Q.split("/storage/v1/object/public/avatars/");return J.length>1?J[1]:null}catch{return null}},A=()=>{t?.avatar_url?y(!0):C.current?.click()},M=async()=>{const Q=t?.avatar_url;y(!1),c(!0);try{const{data:{session:J}}=await he.auth.getSession();if(!J?.user)throw new Error("No session found");if(Q){const Y=R(Q);Y&&await he.storage.from("avatars").remove([Y])}await he.from("profiles").update({avatar_url:null}).eq("id",J.user.id),r(Y=>Y?{...Y,avatar_url:null}:null)}catch(J){console.error("Error removing avatar:",J.message)}finally{c(!1)}},B=Q=>{const J=Q.target.files?.[0];if(!J)return;const Y=new FileReader;Y.onload=()=>f(Y.result),Y.readAsDataURL(J),Q.target.value=""},$=async Q=>{const J=Q.target.value.toLowerCase().replace(/\s/g,"");if(w(Z=>({...Z,username:J})),J.length<3){_(Z=>({...Z,username:"Username must be at least 3 characters"}));return}if(!/^[a-zA-Z0-9._]+$/.test(J)){_(Z=>({...Z,username:"Only letters, numbers, underscores, and dots allowed"}));return}if(J===t?.username){_(Z=>({...Z,username:void 0}));return}E(!0);try{const{data:Z}=await he.from("profiles").select("username").eq("username",J).maybeSingle();_(Z?X=>({...X,username:"Username is already taken"}):X=>({...X,username:void 0}))}catch(Z){console.error("Error checking username availability:",Z)}finally{E(!1)}},V=async()=>{if(!(x.username||!v.username)){c(!0);try{const{data:{session:Q}}=await he.auth.getSession();if(!Q?.user)throw new Error("No session found");const{error:J}=await he.from("profiles").update({username:v.username,bio:v.bio,location:v.location,website:v.website}).eq("id",Q.user.id);if(J)throw J;n("/profile")}catch(Q){console.error("Error saving profile:",Q.message),alert("Failed to save changes: "+Q.message)}finally{c(!1)}}},I=async Q=>{const J=t?.avatar_url;f(null),c(!0);try{const{data:{session:Y}}=await he.auth.getSession();if(!Y?.user)throw new Error("No session found");const Z=`${Y.user.id}/${Date.now()}.jpg`,{error:X}=await he.storage.from("avatars").upload(Z,Q,{contentType:"image/jpeg",upsert:!0});if(X)throw X;const{data:{publicUrl:ee}}=he.storage.from("avatars").getPublicUrl(Z);if(await he.from("profiles").update({avatar_url:ee}).eq("id",Y.user.id),J){const ae=R(J);ae&&he.storage.from("avatars").remove([ae]).catch(console.error)}r(ae=>ae?{...ae,avatar_url:ee}:null)}catch(Y){console.error("Error uploading avatar:",Y.message)}finally{c(!1)}};return a?g.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:g.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-white border-t-transparent rounded-full"})}):g.jsxs("div",{className:"min-h-screen bg-black text-white font-sans p-4 md:p-12 overflow-y-auto",children:[g.jsx("div",{className:"max-w-3xl mx-auto",children:g.jsxs(pe.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"bg-zinc-900/50 border border-zinc-800 rounded-[2.5rem] overflow-hidden shadow-2xl flex flex-col",children:[g.jsxs("div",{className:"p-8 border-b border-zinc-800 flex items-center justify-between bg-zinc-900/50",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-white text-3xl font-bold tracking-tight",children:"Edit Profile"}),g.jsx("p",{className:"text-zinc-500 text-sm mt-1 font-medium",children:"Customize your Allify presence"})]}),g.jsx("button",{onClick:()=>n("/profile"),className:"w-12 h-12 rounded-full bg-zinc-800 flex items-center justify-center text-zinc-400 hover:text-white transition-colors",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"w-6 h-6",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsxs("div",{className:"p-8 space-y-12",children:[g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsxs("div",{onClick:A,className:"relative group cursor-pointer",children:[g.jsxs("div",{className:"w-32 h-32 rounded-full bg-zinc-800 border-2 border-zinc-700 overflow-hidden relative",children:[t?.avatar_url?g.jsx("img",{src:t.avatar_url,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-zinc-600",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-16 h-16",children:g.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),u&&g.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:g.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-white border-t-transparent rounded-full"})})]}),g.jsx("div",{className:"absolute bottom-1 right-1 w-8 h-8 bg-white text-black rounded-full flex items-center justify-center shadow-lg",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"w-4 h-4",children:g.jsx("path",{d:"M12 4v16m8-8H4"})})})]}),g.jsx("input",{type:"file",ref:C,onChange:B,accept:"image/*",className:"hidden"}),g.jsx(ji,{children:p&&g.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"mt-4 flex gap-4",children:[g.jsx("button",{onClick:()=>{y(!1),C.current?.click()},className:"px-4 py-2 bg-zinc-800 rounded-xl text-xs font-bold uppercase tracking-widest hover:bg-zinc-700",children:"Change"}),g.jsx("button",{onClick:M,className:"px-4 py-2 bg-red-500/10 text-red-500 rounded-xl text-xs font-bold uppercase tracking-widest hover:bg-red-500/20",children:"Remove"})]})})]}),g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"text-zinc-500 text-[10px] font-black uppercase tracking-widest ml-1",children:"Username"}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 font-bold",children:"@"}),g.jsx("input",{type:"text",value:v.username,onChange:$,className:`w-full bg-zinc-950 border ${x.username?"border-red-500":"border-zinc-800 focus:border-white"} rounded-2xl pl-10 pr-12 py-4 text-white outline-none transition-all`}),T&&g.jsx("div",{className:"absolute right-5 top-1/2 -translate-y-1/2 animate-spin h-4 w-4 border-2 border-white/20 border-t-white rounded-full"})]}),x.username&&g.jsx("p",{className:"text-red-500 text-[10px] font-bold ml-1",children:x.username})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("label",{className:"text-zinc-500 text-[10px] font-black uppercase tracking-widest ml-1",children:"Full Name"}),g.jsx("input",{type:"text",value:v.full_name,disabled:!0,className:"w-full bg-zinc-950 border border-zinc-800 rounded-2xl px-5 py-4 text-zinc-600 opacity-50 cursor-not-allowed"})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-center ml-1",children:[g.jsx("label",{className:"text-zinc-500 text-[10px] font-black uppercase tracking-widest",children:"My Vibe"}),g.jsxs("span",{className:"text-zinc-600 text-[10px] font-bold",children:[v.bio.length,"/150"]})]}),g.jsx("textarea",{value:v.bio,onChange:Q=>w(J=>({...J,bio:Q.target.value})),className:"w-full bg-zinc-950 border border-zinc-800 rounded-2xl px-5 py-4 text-white h-32 resize-none focus:border-white transition-all outline-none",maxLength:150})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-center ml-1",children:[g.jsx("label",{className:"text-zinc-500 text-[10px] font-black uppercase tracking-widest",children:"Location"}),g.jsxs("span",{className:"text-zinc-600 text-[10px] font-bold",children:[v.location.length,"/30"]})]}),g.jsx("input",{type:"text",value:v.location,onChange:Q=>w(J=>({...J,location:Q.target.value})),className:"w-full bg-zinc-950 border border-zinc-800 rounded-2xl px-5 py-4 text-white focus:border-white transition-all outline-none",maxLength:30})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-center ml-1",children:[g.jsx("label",{className:"text-zinc-500 text-[10px] font-black uppercase tracking-widest",children:"Website"}),g.jsxs("span",{className:"text-zinc-600 text-[10px] font-bold",children:[v.website.length,"/50"]})]}),g.jsx("input",{type:"text",value:v.website,onChange:Q=>w(J=>({...J,website:Q.target.value})),className:"w-full bg-zinc-950 border border-zinc-800 rounded-2xl px-5 py-4 text-white focus:border-white transition-all outline-none",maxLength:50})]})]}),g.jsxs("div",{className:"space-y-6 pt-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-1 h-6 bg-zinc-600 rounded-full"}),g.jsx("h3",{className:"text-zinc-500 font-black tracking-[0.2em] text-[10px] uppercase",children:"Earned Achievements"})]}),g.jsx("div",{className:"bg-zinc-950/50 border border-zinc-800 rounded-3xl p-6",children:t?.badges&&t.badges.length>0?g.jsx("div",{className:"flex flex-wrap gap-4",children:t.badges.map(Q=>{const J=mN[Q];return J?g.jsxs("div",{className:`flex items-center gap-3 px-4 py-2 rounded-2xl border ${J.bg} ${J.border}`,children:[g.jsx("span",{className:J.color,children:J.icon}),g.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${J.color}`,children:J.label})]},Q):null})}):g.jsx("p",{className:"text-zinc-600 text-xs font-medium text-center py-4 italic",children:"No achievements unlocked yet. Keep exploring Allify!"})})]})]})]}),g.jsxs("div",{className:"p-8 border-t border-zinc-800 bg-zinc-900/50 flex gap-4",children:[g.jsx("button",{onClick:()=>n("/profile"),className:"flex-1 py-4 bg-zinc-800 rounded-2xl font-bold uppercase tracking-widest text-zinc-400 hover:text-white transition-all",children:"Discard"}),g.jsx("button",{onClick:V,disabled:!!x.username||T||u,className:"flex-1 py-4 bg-white text-black rounded-2xl font-black uppercase tracking-widest hover:bg-zinc-200 disabled:opacity-50 transition-all shadow-xl",children:u?"Saving...":"Save Changes"})]})]})}),g.jsx(ji,{children:d&&g.jsx(rm,{image:d,onCropComplete:I,onCancel:()=>f(null),maxDimension:1080})})]})},gN=()=>g.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[g.jsx("h1",{className:"text-white text-4xl font-bold tracking-tight",children:"Search"}),g.jsx("p",{className:"text-zinc-500 text-lg font-medium",children:"Coming Soon"})]}),yN=()=>g.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[g.jsx("h1",{className:"text-white text-4xl font-bold tracking-tight",children:"Messages"}),g.jsx("p",{className:"text-zinc-500 text-lg font-medium",children:"Coming Soon"})]}),vN=()=>g.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[g.jsx("h1",{className:"text-white text-4xl font-bold tracking-tight",children:"Notifications"}),g.jsx("p",{className:"text-zinc-500 text-lg font-medium",children:"Coming Soon"})]}),bN=()=>g.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[g.jsx("h1",{className:"text-white text-4xl font-bold tracking-tight",children:"Settings"}),g.jsx("p",{className:"text-zinc-500 text-lg font-medium",children:"Coming Soon"})]}),wN=()=>{const n=j.useRef(null),[t,r]=j.useState("select"),[a,o]=j.useState(null),[u,c]=j.useState(null),[d,f]=j.useState(""),[p,y]=j.useState(!1),v=_=>{const T=_.target.files?.[0];if(T){const E=new FileReader;E.onload=()=>{o(E.result),r("crop")},E.readAsDataURL(T)}_.target.value=""},w=_=>{c(_),r("details")},x=async()=>{if(u){y(!0);try{const{data:{session:_}}=await he.auth.getSession();if(!_?.user)throw new Error("Not authenticated");const T=`${_.user.id}/${Date.now()}.jpg`,{error:E}=await he.storage.from("posts").upload(T,u,{contentType:"image/jpeg",upsert:!1});if(E)throw E;const{data:{publicUrl:C}}=he.storage.from("posts").getPublicUrl(T),{data:R}=await he.from("profiles").select("username").eq("id",_.user.id).single();if(!R?.username)throw new Error("Profile not found");const{error:A}=await he.from("posts").insert({username:R.username,image_url:C,caption:d.trim()});if(A)throw A;window.location.href="/Allify/profile"}catch(_){console.error("Error creating post:",_),alert("Failed to create post: "+_.message)}finally{y(!1)}}};return g.jsx("div",{className:"h-full w-full bg-black text-white flex flex-col pt-10 px-4 md:px-0 relative",children:g.jsxs(ji,{mode:"wait",children:[t==="select"&&g.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex-1 flex flex-col items-center justify-center gap-8",children:[g.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create new post"}),g.jsxs("div",{onClick:()=>n.current?.click(),className:"group relative cursor-pointer",children:[g.jsxs("div",{className:"w-64 h-80 rounded-[2.5rem] border-2 border-dashed border-zinc-700 flex flex-col items-center justify-center gap-6 bg-zinc-900/30 group-hover:bg-zinc-900/50 group-hover:border-zinc-500 transition-all duration-300",children:[g.jsx("div",{className:"p-6 rounded-full bg-zinc-800 group-hover:scale-110 transition-transform duration-300",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-10 h-10 text-white",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),g.jsx("span",{className:"font-medium text-zinc-400 group-hover:text-white transition-colors tracking-wide",children:"Select from computer"})]}),g.jsx("div",{className:"absolute inset-0 bg-blue-500/20 blur-3xl -z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-full"})]}),g.jsx("input",{type:"file",ref:n,onChange:v,accept:"image/*",className:"hidden"})]},"select"),t==="crop"&&a&&g.jsx(rm,{image:a,onCropComplete:w,onCancel:()=>{r("select"),o(null)},aspect:1,cropShape:"rect",showAspectSelector:!0,maxDimension:2048},"cropper"),t==="details"&&u&&g.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},className:"flex-1 flex flex-col max-w-4xl mx-auto w-full pb-20",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8 px-4",children:[g.jsx("button",{onClick:()=>r("select"),className:"p-2 -ml-2 text-zinc-400 hover:text-white transition-colors",children:g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-8 h-8",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),g.jsx("h2",{className:"text-xl font-bold",children:"New Post"}),g.jsx("button",{onClick:x,disabled:p,className:"px-6 py-2 bg-blue-600 text-white rounded-full font-bold text-sm tracking-wide hover:bg-blue-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Sharing...":"Share"})]}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-8 px-4",children:[g.jsxs("div",{className:"w-full md:w-1/2 bg-zinc-900 rounded-[2rem] overflow-hidden border border-zinc-800 shadow-2xl relative flex items-center justify-center",children:[g.jsx("img",{src:URL.createObjectURL(u),alt:"Preview",className:"w-full h-full object-cover"}),p&&g.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center backdrop-blur-sm",children:g.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-white border-t-transparent rounded-full"})})]}),g.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[g.jsx("div",{className:"bg-zinc-900/50 rounded-[2rem] border border-zinc-800 p-6 flex-1 min-h-[300px]",children:g.jsx("textarea",{value:d,onChange:_=>f(_.target.value),placeholder:"Write a caption...",className:"w-full h-full bg-transparent border-none outline-none resize-none text-lg text-white placeholder-zinc-500",autoFocus:!0})}),g.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 text-sm px-2",children:[g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),g.jsx("span",{children:"Your post will be shared to your profile and followers"})]})]})]})]},"details")]})})},xN=()=>g.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[g.jsx("h1",{className:"text-white text-4xl font-bold tracking-tight",children:"More"}),g.jsx("p",{className:"text-zinc-500 text-lg font-medium",children:"Coming Soon"})]}),_N=()=>g.jsx(G3,{children:g.jsx(Bb,{})});function SN(){return g.jsx(YE,{children:g.jsx(PE,{basename:"/Allify",children:g.jsxs(pE,{children:[g.jsx(Ze,{path:"/",element:g.jsx(CC,{})}),g.jsx(Ze,{path:"/auth/signup",element:g.jsx(yl,{children:g.jsx(H3,{})})}),g.jsx(Ze,{path:"/auth/login",element:g.jsx(q3,{})}),g.jsx(Ze,{path:"/auth/signup/birthday",element:g.jsx(yl,{children:g.jsx($3,{})})}),g.jsx(Ze,{path:"/auth/signup/confirm",element:g.jsx(yl,{children:g.jsx(I3,{})})}),g.jsxs(Ze,{element:g.jsx(_N,{}),children:[g.jsx(Ze,{path:"/auth/forgot-password",element:g.jsx(F3,{})}),g.jsx(Ze,{path:"/auth/reset-verify",element:g.jsx(Y3,{})}),g.jsx(Ze,{path:"/auth/reset-password",element:g.jsx(K3,{})})]}),g.jsxs(Ze,{element:g.jsx(yl,{children:g.jsx(Z3,{})}),children:[g.jsx(Ze,{path:"/home",element:g.jsx(J3,{})}),g.jsx(Ze,{path:"/profile",element:g.jsx(fN,{})}),g.jsx(Ze,{path:"/profile/edit",element:g.jsx(pN,{})}),g.jsx(Ze,{path:"/search",element:g.jsx(gN,{})}),g.jsx(Ze,{path:"/messages",element:g.jsx(yN,{})}),g.jsx(Ze,{path:"/notifications",element:g.jsx(vN,{})}),g.jsx(Ze,{path:"/settings",element:g.jsx(bN,{})}),g.jsx(Ze,{path:"/create",element:g.jsx(wN,{})}),g.jsx(Ze,{path:"/more",element:g.jsx(xN,{})})]}),g.jsx(Ze,{path:"/sample",element:g.jsx(Pb,{to:"/home",replace:!0})})]})})})}xS.createRoot(document.getElementById("root")).render(g.jsx(j.StrictMode,{children:g.jsx(SN,{})}));
